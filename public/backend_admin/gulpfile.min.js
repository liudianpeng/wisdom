var gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),rename=require("gulp-rename"),sass=require("gulp-ruby-sass"),autoprefixer=require("gulp-autoprefixer"),browserSync=require("browser-sync").create();var DEST="build/";gulp.task("scripts",function(){return gulp.src(["src/js/helpers/*.js","src/js/*.js",]).pipe(concat("custom.js")).pipe(gulp.dest(DEST+"/js")).pipe(rename({suffix:".min"})).pipe(uglify()).pipe(gulp.dest(DEST+"/js")).pipe(browserSync.stream())});var compileSASS=function(a,b){return sass("src/scss/*.scss",b).pipe(autoprefixer("last 2 versions","> 5%")).pipe(concat(a)).pipe(gulp.dest(DEST+"/css")).pipe(browserSync.stream())};gulp.task("sass",function(){return compileSASS("custom.css",{})});gulp.task("sass-minify",function(){return compileSASS("custom.min.css",{style:"compressed"})});gulp.task("browser-sync",function(){browserSync.init({server:{baseDir:"./"},startPath:"./production/index.html"})});gulp.task("watch",function(){gulp.watch("production/*.html",browserSync.reload);gulp.watch("src/js/*.js",["scripts"]);gulp.watch("src/scss/*.scss",["sass","sass-minify"])});gulp.task("default",["browser-sync","watch"]);