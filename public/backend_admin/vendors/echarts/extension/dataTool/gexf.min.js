define(function(b){var c=b("echarts").util;function d(n){var p;if(typeof n==="string"){var q=new DOMParser();p=q.parseFromString(n,"text/xml")}else{p=n}if(!p||p.getElementsByTagName("parsererror").length){return null}var j=e(p,"gexf");if(!j){return null}var l=e(j,"graph");var k=i(e(l,"attributes"));var m={};for(var o=0;o<k.length;o++){m[k[o].id]=k[o]}return{nodes:h(e(l,"nodes"),m),links:a(e(l,"edges"))}}function i(j){return j?c.map(f(j,"attribute"),function(k){return{id:g(k,"id"),title:g(k,"title"),type:g(k,"type")}}):[]}function h(k,j){return k?c.map(f(k,"node"),function(y){var m=g(y,"id");var v=g(y,"label");var o={id:m,name:v,itemStyle:{normal:{}}};var s=e(y,"viz:size");var r=e(y,"viz:position");var p=e(y,"viz:color");var x=e(y,"attvalues");if(s){o.symbolSize=parseFloat(g(s,"value"))}if(r){o.x=parseFloat(g(r,"x"));o.y=parseFloat(g(r,"y"))}if(p){o.itemStyle.normal.color="rgb("+[g(p,"r")|0,g(p,"g")|0,g(p,"b")|0].join(",")+")"}if(x){var l=f(x,"attvalue");o.attributes={};for(var q=0;q<l.length;q++){var w=l[q];var u=g(w,"for");var t=g(w,"value");var n=j[u];if(n){switch(n.type){case"integer":case"long":t=parseInt(t,10);break;case"float":case"double":t=parseFloat(t);break;case"boolean":t=t.toLowerCase()=="true";break;default:}o.attributes[u]=t}}}return o}):[]}function a(j){return j?c.map(f(j,"edge"),function(o){var k=g(o,"id");var p=g(o,"label");var q=g(o,"source");var r=g(o,"target");var l={id:k,name:p,source:q,target:r,lineStyle:{normal:{}}};var n=l.lineStyle.normal;var s=e(o,"viz:thickness");var m=e(o,"viz:color");if(s){n.width=parseFloat(s.getAttribute("value"))}if(m){n.color="rgb("+[g(m,"r")|0,g(m,"g")|0,g(m,"b")|0].join(",")+")"}return l}):[]}function g(k,j){return k.getAttribute(j)}function e(k,j){var l=k.firstChild;while(l){if(l.nodeType!=1||l.nodeName.toLowerCase()!=j.toLowerCase()){l=l.nextSibling}else{return l}}return null}function f(l,k){var m=l.firstChild;var j=[];while(m){if(m.nodeName.toLowerCase()==k.toLowerCase()){j.push(m)}m=m.nextSibling}return j}return{parse:d}});