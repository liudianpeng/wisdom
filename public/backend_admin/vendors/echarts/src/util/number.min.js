define(function(a){var b={};var d=0.0001;function c(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}b.linearMap=function(j,h,f,i){var g=h[1]-h[0];var e=f[1]-f[0];if(g===0){return e===0?f[0]:(f[0]+f[1])/2}if(i){if(g>0){if(j<=h[0]){return f[0]}else{if(j>=h[1]){return f[1]}}}else{if(j>=h[0]){return f[0]}else{if(j<=h[1]){return f[1]}}}}else{if(j===h[0]){return f[0]}if(j===h[1]){return f[1]}}return(j-h[0])/g*e+f[0]};b.parsePercent=function(f,e){switch(f){case"center":case"middle":f="50%";break;case"left":case"top":f="0%";break;case"right":case"bottom":f="100%";break}if(typeof f==="string"){if(c(f).match(/%$/)){return parseFloat(f)/100*e}return parseFloat(f)}return f==null?NaN:+f};b.round=function(e){return +(+e).toFixed(10)};b.asc=function(e){e.sort(function(g,f){return g-f});return e};b.getPrecision=function(h){if(isNaN(h)){return 0}var g=1;var f=0;while(Math.round(h*g)/g!==h){g*=10;f++}return f};b.getPixelPrecision=function(i,j){var h=Math.log;var f=Math.LN10;var e=Math.floor(h(i[1]-i[0])/f);var g=Math.round(h(Math.abs(j[1]-j[0]))/f);return Math.max(-e+g,0)};b.MAX_SAFE_INTEGER=9007199254740991;b.remRadian=function(f){var e=Math.PI*2;return(f%e+e)%e};b.isRadianAroundZero=function(e){return e>-d&&e<d};b.parseDate=function(e){return e instanceof Date?e:new Date(typeof e==="string"?e.replace(/-/g,"/"):Math.round(e))};b.quantity=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))};b.nice=function(j,g){var e=b.quantity(j);var i=j/e;var h;if(g){if(i<1.5){h=1}else{if(i<2.5){h=2}else{if(i<4){h=3}else{if(i<7){h=5}else{h=10}}}}}else{if(i<1){h=1}else{if(i<2){h=2}else{if(i<3){h=3}else{if(i<5){h=5}else{h=10}}}}}return h*e};return b});