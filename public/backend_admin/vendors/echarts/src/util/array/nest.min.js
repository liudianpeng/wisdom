define(function(b){var a=b("zrender/core/util");function c(){var d=[];var g=[];function f(q,o){if(o>=d.length){return q}var p=-1;var k=q.length;var j=d[o++];var h={};var l={};while(++p<k){var m=j(q[p]);var r=l[m];if(r){r.push(q[p])}else{l[m]=[q[p]]}}a.each(l,function(n,i){h[i]=f(n,o)});return h}function e(j,i){if(i>=d.length){return j}var k=[];var h=g[i++];a.each(j,function(m,l){k.push({key:l,values:e(m,i)})});if(h){return k.sort(function(m,l){return h(m.key,l.key)})}else{return k}}return{key:function(h){d.push(h);return this},sortKeys:function(h){g[d.length-1]=h;return this},entries:function(h){return e(f(h,0),0)}}}return c});