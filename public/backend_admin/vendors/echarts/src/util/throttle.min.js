define(function(){var b={};var a="\0__throttleOriginMethod";var c="\0__throttleRate";b.throttle=function(o,j,l,r){var g=(new Date()).getTime();var q=0;var f=0;var e=null;var p;var s;var n;var k=typeof o==="function";j=j||0;if(k){return d()}else{var m=[];for(var h=0;h<o.length;h++){m[h]=d(h)}return m}function d(u){function t(){f=(new Date()).getTime();e=null;(k?o:o[u]).apply(s,n||[])}var i=function(){g=(new Date()).getTime();s=this;n=arguments;p=g-(r?q:f)-j;clearTimeout(e);if(r){if(l){e=setTimeout(t,j)}else{if(p>=0){t()}}}else{if(p>=0){t()}else{if(l){e=setTimeout(t,-p)}}}q=g};i.clear=function(){if(e){clearTimeout(e);e=null}};return i}};b.fixRate=function(e,d){return d!=null?b.throttle(e,d,true,false):e};b.debounce=function(e,d){return d!=null?b.throttle(e,d,true,true):e};b.createOrUpdate=function(i,h,g,j){var f=i[h];if(!f||g==null||!j){return}var d=f[a]||f;var e=f[c];if(e!==g){f=i[h]=b[j](d,g);f[a]=d;f[c]=g}};b.clear=function(f,e){var d=f[e];if(d&&d[a]){f[e]=d[a]}};return b});