define(function(e){var b=e("./graphic");var l=e("zrender/core/BoundingRect");var d=b.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(s,q){var p=q.cx;var t=q.cy;var r=q.width/2;var o=q.height/2;s.moveTo(p,t-o);s.lineTo(p+r,t+o);s.lineTo(p-r,t+o);s.closePath()}});var i=b.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(s,q){var p=q.cx;var t=q.cy;var r=q.width/2;var o=q.height/2;s.moveTo(p,t-o);s.lineTo(p+r,t);s.lineTo(p,t+o);s.lineTo(p-r,t);s.closePath()}});var c=b.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(G,u){var C=u.x;var A=u.y;var D=u.width/5*3;var t=Math.max(D,u.height);var o=D/2;var E=o*o/(t-o);var q=A-t+o+E;var p=Math.asin(E/o);var F=Math.cos(p)*o;var z=Math.sin(p);var v=Math.cos(p);G.arc(C,q,o,Math.PI-p,Math.PI*2+p);var B=o*0.6;var s=o*0.7;G.bezierCurveTo(C+F-z*B,q+E+v*B,C,A-s,C,A);G.bezierCurveTo(C,A-s,C-F+z*B,q+E+v*B,C-F,q+E);G.closePath()}});var g=b.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(q,s){var p=s.height;var t=s.width;var o=s.x;var u=s.y;var r=t/3*2;q.moveTo(o,u);q.lineTo(o+r,u+p);q.lineTo(o,u+p/4*3);q.lineTo(o-r,u+p);q.lineTo(o,u);q.closePath()}});var m={line:b.Line,rect:b.Rect,roundRect:b.Rect,square:b.Rect,circle:b.Circle,diamond:i,pin:c,arrow:g,triangle:d};var h={line:function(o,s,p,r,q){q.x1=o;q.y1=s+r/2;q.x2=o+p;q.y2=s+r/2},rect:function(o,s,p,r,q){q.x=o;q.y=s;q.width=p;q.height=r},roundRect:function(o,s,p,r,q){q.x=o;q.y=s;q.width=p;q.height=r;q.r=Math.min(p,r)/4},square:function(o,t,p,s,q){var r=Math.min(p,s);q.x=o;q.y=t;q.width=r;q.height=r},circle:function(o,s,p,r,q){q.cx=o+p/2;q.cy=s+r/2;q.r=Math.min(p,r)/2},diamond:function(o,s,p,r,q){q.cx=o+p/2;q.cy=s+r/2;q.width=p;q.height=r},pin:function(o,s,p,r,q){q.x=o+p/2;q.y=s+r/2;q.width=p;q.height=r},arrow:function(o,s,p,r,q){q.x=o+p/2;q.y=s+r/2;q.width=p;q.height=r},triangle:function(o,s,p,r,q){q.cx=o+p/2;q.cy=s+r/2;q.width=p;q.height=r}};var n={};for(var a in m){n[a]=new m[a]()}var f=b.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var p=this.style;var o=this.shape;if(o.symbolType==="pin"&&p.textPosition==="inside"){p.textPosition=["50%","40%"];p.textAlign="center";p.textVerticalAlign="middle"}},buildPath:function(o,p){var q=p.symbolType;var r=n[q];if(p.symbolType!=="none"){if(!r){q="rect";r=n[q]}h[q](p.x,p.y,p.width,p.height,r.shape);r.buildPath(o,r.shape)}}});var k=function(p){if(this.type!=="image"){var q=this.style;var o=this.shape;if(o&&o.symbolType==="line"){q.stroke=p}else{if(this.__isEmptyBrush){q.stroke=p;q.fill="#fff"}else{q.fill&&(q.fill=p);q.stroke&&(q.stroke=p)}}this.dirty()}};var j={createSymbol:function(t,p,v,q,s,r){var u=t.indexOf("empty")===0;if(u){t=t.substr(5,1).toLowerCase()+t.substr(6)}var o;if(t.indexOf("image://")===0){o=new b.Image({style:{image:t.slice(8),x:p,y:v,width:q,height:s}})}else{if(t.indexOf("path://")===0){o=b.makePath(t.slice(7),{},new l(p,v,q,s))}else{o=new f({shape:{symbolType:t,x:p,y:v,width:q,height:s}})}}o.__isEmptyBrush=u;o.setColor=k;o.setColor(r);return o}};return j});