define(function(c){var e=c("zrender/core/util");var a=c("./number");function g(m){if(isNaN(m)){return"-"}m=(m+"").split(".");return m[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(m.length>1?("."+m[1]):"")}function h(m){return m.toLowerCase().replace(/-(.)/g,function(o,n){return n.toUpperCase()})}function l(n){var m=n.length;if(typeof(n)==="number"){return[n,n,n,n]}else{if(m===2){return[n[0],n[1],n[0],n[1]]}else{if(m===3){return[n[0],n[1],n[2],n[1]]}}}return n}function i(m){return String(m).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var f=["a","b","c","d","e","f","g"];function j(n,m){return"{"+n+(m==null?"":m)+"}"}function d(n,t){if(!e.isArray(t)){t=[t]}var s=t.length;if(!s){return""}var q=t[0].$vars;for(var p=0;p<q.length;p++){var o=f[p];n=n.replace(j(o),j(o,0))}for(var r=0;r<s;r++){for(var m=0;m<q.length;m++){n=n.replace(j(f[m],r),t[r][q[m]])}}return n}function k(q,v){if(q==="week"||q==="month"||q==="quarter"||q==="half-year"||q==="year"){q="MM-dd\nyyyy"}var n=a.parseDate(v);var u=n.getFullYear();var r=n.getMonth()+1;var t=n.getDate();var p=n.getHours();var o=n.getMinutes();var w=n.getSeconds();q=q.replace("MM",b(r)).toLowerCase().replace("yyyy",u).replace("yy",u%100).replace("dd",b(t)).replace("d",t).replace("hh",b(p)).replace("h",p).replace("mm",b(o)).replace("m",o).replace("ss",b(w)).replace("s",w);return q}function b(m){return m<10?("0"+m):m}return{normalizeCssArray:l,addCommas:g,toCamelCase:h,encodeHTML:i,formatTpl:d,formatTime:k}});