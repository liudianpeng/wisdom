define(function(a){var b=a("zrender/contain/text");function c(d,e){return d&&d.getShallow(e)}return{getTextColor:function(){var d=this.ecModel;return this.getShallow("color")||(d&&d.get("textStyle.color"))},getFont:function(){var d=this.ecModel;var e=d&&d.getModel("textStyle");return[this.getShallow("fontStyle")||c(e,"fontStyle"),this.getShallow("fontWeight")||c(e,"fontWeight"),(this.getShallow("fontSize")||c(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||c(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(e){var d=this.get("textStyle")||{};return b.getBoundingRect(e,this.getFont(),d.align,d.baseline)},ellipsis:function(f,e,d){return b.ellipsis(f,this.getFont(),e,d)}}});