define(function(b){var k=b("../../data/List");var f=b("../../model/Series");var d=b("zrender/core/util");var i=b("../../data/helper/completeDimensions");var a=b("../../util/format");var h=a.encodeHTML;var g=a.addCommas;var e=b("../../component/helper/selectableMixin");var j=b("../../coord/geo/geoCreator");var c=f.extend({type:"series.map",needsDrawMap:false,seriesGroup:[],init:function(l){l=this._fillOption(l,l.map);this.option=l;c.superApply(this,"init",arguments);this.updateSelectedMap(l.data)},getInitialData:function(l){var m=i(["value"],l.data||[]);var n=new k(m,this);n.initData(l.data);return n},mergeOption:function(l){if(l.data){l=this._fillOption(l,this.option.map)}c.superCall(this,"mergeOption",l);this.updateSelectedMap(this.option.data)},_fillOption:function(m,l){m=d.extend({},m);m.data=j.getFilledRegions(m.data,l);return m},getRawValue:function(l){return this._data.get("value",l)},getRegionModel:function(m){var l=this.getData();return l.getItemModel(l.indexOfName(m))},formatTooltip:function(n){var r=this._data;var o=g(this.getRawValue(n));var l=r.getName(n);var q=this.seriesGroup;var p=[];for(var m=0;m<q.length;m++){if(!isNaN(q[m].getRawValue(n))){p.push(h(q[m].name))}}return p.join(", ")+"<br />"+l+" : "+o},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:true,dataRangeHoverLink:true,center:null,zoom:1,scaleLimit:null,label:{normal:{show:false,textStyle:{color:"#000"}},emphasis:{show:true,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}},setZoom:function(l){this.option.zoom=l},setCenter:function(l){this.option.center=l}});d.mixin(c,e);return c});