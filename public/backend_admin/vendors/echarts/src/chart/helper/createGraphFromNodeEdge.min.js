define(function(f){var h=f("../../data/List");var e=f("../../data/Graph");var d=f("../../data/helper/linkList");var c=f("../../data/helper/completeDimensions");var g=f("../../CoordinateSystem");var b=f("zrender/core/util");var a=f("./createListFromArray");return function(l,r,p,n,o){var y=new e(n);for(var s=0;s<l.length;s++){y.addNode(b.retrieve(l[s].id,l[s].name,s),s)}var x=[];var w=[];for(var s=0;s<r.length;s++){var v=r[s];var j=v.source;var t=v.target;if(y.addEdge(j,t,s)){w.push(v);x.push(b.retrieve(v.id,j+" > "+t))}}var q=p.get("coordinateSystem");var m;if(q==="cartesian2d"||q==="polar"){m=a(l,p,p.ecModel)}else{var z=g.get(q);var k=c(((z&&z.type!=="view")?(z.dimensions||[]):[]).concat(["value"]),l);m=new h(k,p);m.initData(l)}var u=new h(["value"],p);u.initData(w,x);o&&o(m,u);d({mainData:m,struct:y,structAttr:"graph",datas:{node:m,edge:u},datasAttr:{node:"data",edge:"edgeData"}});y.update();return y}});