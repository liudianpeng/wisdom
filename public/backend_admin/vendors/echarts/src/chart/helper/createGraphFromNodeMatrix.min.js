define(function(f){var h=f("../../data/List");var e=f("../../data/Graph");var d=f("../../data/helper/linkList");var c=f("../../data/helper/completeDimensions");var g=f("../../CoordinateSystem");var b=f("zrender/core/util");var a=f("./createListFromArray");return function(w,x,p,o){var m=new e(o);for(var z=0;z<w.length;z++){m.addNode(b.retrieve(w[z].id,w[z].name,z),z)}var v=x.length;var l=[];var u=0;for(var z=0;z<v;z++){for(var y=0;y<v;y++){var C=x[z][y];if(C===0){continue}var t=m.nodes[z];var s=m.nodes[y];var q=m.addEdge(t,s,u);if(q){u++;l.push({value:C})}}}var r=p.get("coordinateSystem");var k;if(r==="cartesian2d"||r==="polar"){k=a(w,p,p.ecModel)}else{var B=g.get(r);var A=c(((B&&B.type!=="view")?(B.dimensions||[]):[]).concat(["value"]),w);k=new h(A,p);k.initData(w)}var n=new h(["value"],p);n.initData(l);d({mainData:k,struct:m,structAttr:"graph",datas:{node:k,edge:n},datasAttr:{node:"data",edge:"edgeData"}});m.update();return m}});