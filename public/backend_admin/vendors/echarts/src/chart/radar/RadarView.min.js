define(function(b){var e=b("../../util/graphic");var a=b("zrender/core/util");var c=b("../../util/symbol");function d(f){if(!a.isArray(f)){f=[+f,+f]}return f}return b("../../echarts").extendChartView({type:"radar",render:function(h,l,m){var f=h.coordinateSystem;var o=this.group;var j=h.getData();var k=this._data;function n(s,q){var t=s.getItemVisual(q,"symbol")||"circle";var r=s.getItemVisual(q,"color");if(t==="none"){return}var p=c.createSymbol(t,-0.5,-0.5,1,1,r);p.attr({style:{strokeNoScale:true},z2:100,scale:d(s.getItemVisual(q,"symbolSize"))});return p}function i(s,t,v,u,q,w){v.removeAll();for(var r=0;r<t.length-1;r++){var p=n(u,q);if(p){p.__dimIdx=r;if(s[r]){p.attr("position",s[r]);e[w?"initProps":"updateProps"](p,{position:t[r]},h,q)}else{p.attr("position",t[r])}v.add(p)}}}function g(p){return a.map(p,function(q){return[f.cx,f.cy]})}j.diff(k).add(function(p){var s=j.getItemLayout(p);if(!s){return}var r=new e.Polygon();var q=new e.Polyline();var u={shape:{points:s}};r.shape.points=g(s);q.shape.points=g(s);e.initProps(r,u,h,p);e.initProps(q,u,h,p);var v=new e.Group();var t=new e.Group();v.add(q);v.add(r);v.add(t);i(q.shape.points,s,t,j,p,true);j.setItemGraphicEl(p,v)}).update(function(s,r){var v=k.getItemGraphicEl(r);var p=v.childAt(0);var q=v.childAt(1);var u=v.childAt(2);var t={shape:{points:j.getItemLayout(s)}};if(!t.shape.points){return}i(p.shape.points,t.shape.points,u,j,s,false);e.updateProps(p,t,h);e.updateProps(q,t,h);j.setItemGraphicEl(s,v)}).remove(function(p){o.remove(k.getItemGraphicEl(p))}).execute();j.eachItemGraphicEl(function(t,D){var E=j.getItemModel(D);var B=t.childAt(0);var A=t.childAt(1);var q=t.childAt(2);var u=j.getItemVisual(D,"color");o.add(t);B.useStyle(a.extend(E.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:u}));B.hoverStyle=E.getModel("lineStyle.emphasis").getLineStyle();var C=E.getModel("areaStyle.normal");var y=E.getModel("areaStyle.emphasis");var r=C.isEmpty()&&C.parentModel.isEmpty();var z=y.isEmpty()&&y.parentModel.isEmpty();z=z&&r;A.ignore=r;A.useStyle(a.defaults(C.getAreaStyle(),{fill:u,opacity:0.7}));A.hoverStyle=y.getAreaStyle();var x=E.getModel("itemStyle.normal").getItemStyle(["color"]);var p=E.getModel("itemStyle.emphasis").getItemStyle();var F=E.getModel("label.normal");var w=E.getModel("label.emphasis");q.eachChild(function(G){G.setStyle(x);G.hoverStyle=a.clone(p);var H=j.get(j.dimensions[G.__dimIdx],D);e.setText(G.style,F,u);G.setStyle({text:F.get("show")?a.retrieve(h.getFormattedLabel(D,"normal",null,G.__dimIdx),H):""});e.setText(G.hoverStyle,w,u);G.hoverStyle.text=w.get("show")?a.retrieve(h.getFormattedLabel(D,"emphasis",null,G.__dimIdx),H):""});function s(){A.attr("ignore",z)}function v(){A.attr("ignore",r)}t.off("mouseover").off("mouseout").off("normal").off("emphasis");t.on("emphasis",s).on("mouseover",s).on("normal",v).on("mouseout",v);e.setHoverStyle(t)});this._data=j},remove:function(){this.group.removeAll();this._data=null}})});