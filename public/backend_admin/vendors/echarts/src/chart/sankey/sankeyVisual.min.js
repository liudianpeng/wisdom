define(function(a){var b=a("../../visual/VisualMapping");return function(c,d){c.eachSeriesByType("sankey",function(f){var h=f.getGraph();var e=h.nodes;e.sort(function(k,j){return k.getLayout().value-j.getLayout().value});var g=e[0].getLayout().value;var i=e[e.length-1].getLayout().value;e.forEach(function(n){var l=new b({type:"color",mappingMethod:"linear",dataExtent:[g,i],visual:f.get("color")});var j=l.mapValueToVisual(n.getLayout().value);n.setVisual("color",j);var m=n.getModel();var k=m.get("itemStyle.normal.color");if(k!=null){n.setVisual("color",k)}})})}});