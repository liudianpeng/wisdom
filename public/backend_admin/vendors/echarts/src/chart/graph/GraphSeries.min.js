define(function(d){var e=d("../../data/List");var c=d("zrender/core/util");var g=d("../../util/model");var f=d("../../model/Model");var b=d("../helper/createGraphFromNodeEdge");var a=d("../../echarts").extendSeriesModel({type:"series.graph",init:function(h){a.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(h.edges||h.links);this._updateCategoriesData()},mergeOption:function(h){a.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(h.edges||h.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(h){a.superApply(this,"mergeDefaultAndTheme",arguments);g.defaultEmphasis(h.edgeLabel,g.LABEL_OPTIONS)},getInitialData:function(m,h){var k=m.edges||m.links||[];var j=m.data||m.nodes||[];var i=this;if(j&&k){return b(j,k,this,true,l).data}function l(n,p){n.wrapMethod("getItemModel",function(r){var t=i._categoriesModels;var u=r.getShallow("category");var s=t[u];if(s){s.parentModel=r.parentModel;r.parentModel=s}return r});var o=i.getModel("edgeLabel");var q=function(u,s){var t=(u||"").split(".");if(t[0]==="label"){s=s||o.getModel(t.slice(1))}var r=f.prototype.getModel.call(this,t,s);r.getModel=q;return r};p.wrapMethod("getItemModel",function(r){r.getModel=q;return r})}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(o,k,p){if(p==="edge"){var h=this.getData();var l=this.getDataParams(o,p);var j=h.graph.getEdgeByIndex(o);var i=h.getName(j.node1.dataIndex);var m=h.getName(j.node2.dataIndex);var n=i+" > "+m;if(l.value){n+=" : "+l.value}return n}else{return a.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var i=c.map(this.option.categories||[],function(j){return j.value!=null?j:c.extend({value:0},j)});var h=new e(["value"],this);h.initData(i);this._categoriesData=h;this._categoriesModels=h.mapArray(function(j){return h.getItemModel(j,true)})},setZoom:function(h){this.option.zoom=h},setCenter:function(h){this.option.center=h},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,legendHoverLink:true,hoverAnimation:true,layout:null,force:{initLayout:null,repulsion:50,gravity:0.1,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{normal:{show:false,formatter:"{b}"},emphasis:{show:true}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{}}}});return a});