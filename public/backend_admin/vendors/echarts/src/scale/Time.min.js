define(function(e){var g=e("zrender/core/util");var d=e("../util/number");var b=e("../util/format");var m=e("./Interval");var h=m.prototype;var o=Math.ceil;var n=Math.floor;var i=1000;var k=i*60;var f=k*60;var c=f*24;var j=function(q,p,t,s){while(t<s){var r=t+s>>>1;if(q[r][2]<p){t=r+1}else{s=r}}return t};var l=m.extend({type:"time",getLabel:function(r){var q=this._stepLvl;var p=new Date(r);return b.formatTime(q[0],p)},niceExtent:function(t,s,p){var r=this._extent;if(r[0]===r[1]){r[0]-=c;r[1]+=c}if(r[1]===-Infinity&&r[0]===Infinity){var u=new Date();r[1]=new Date(u.getFullYear(),u.getMonth(),u.getDate());r[0]=r[1]-c}this.niceTicks(t);var q=this._interval;if(!s){r[0]=d.round(n(r[0]/q)*q)}if(!p){r[1]=d.round(o(r[1]/q)*q)}},niceTicks:function(y){y=y||10;var z=this._extent;var w=z[1]-z[0];var s=w/y;var v=a.length;var x=j(a,s,0,v);var p=a[Math.min(x,v-1)];var r=p[2];if(p[0]==="year"){var q=w/r;var t=d.nice(q/y,true);r*=t}var u=[o(z[0]/r)*r,n(z[1]/r)*r];this._stepLvl=p;this._interval=r;this._niceExtent=u},parse:function(p){return +d.parseDate(p)}});g.each(["contain","normalize"],function(p){l.prototype[p]=function(q){return h[p].call(this,this.parse(q))}});var a=[["hh:mm:ss",1,i],["hh:mm:ss",5,i*5],["hh:mm:ss",10,i*10],["hh:mm:ss",15,i*15],["hh:mm:ss",30,i*30],["hh:mm\nMM-dd",1,k],["hh:mm\nMM-dd",5,k*5],["hh:mm\nMM-dd",10,k*10],["hh:mm\nMM-dd",15,k*15],["hh:mm\nMM-dd",30,k*30],["hh:mm\nMM-dd",1,f],["hh:mm\nMM-dd",2,f*2],["hh:mm\nMM-dd",6,f*6],["hh:mm\nMM-dd",12,f*12],["MM-dd\nyyyy",1,c],["week",7,c*7],["month",1,c*31],["quarter",3,c*380/4],["half-year",6,c*380/2],["year",1,c*380]];l.create=function(){return new l()};return l});