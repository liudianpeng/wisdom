define(function(a){var b=a("zrender/graphic/Gradient");return function(e,f,c){function d(i){var h=[f,"normal","color"];var j=c.get("color");var k=i.getData();var g=i.get(h)||j[i.seriesIndex%j.length];k.setVisual("color",g);if(!c.isSeriesFiltered(i)){if(typeof g==="function"&&!(g instanceof b)){k.each(function(l){k.setItemVisual(l,"color",g(i.getDataParams(l)))})}k.each(function(l){var n=k.getItemModel(l);var m=n.get(h,true);if(m!=null){k.setItemVisual(l,"color",m)}})}}e?c.eachSeriesByType(e,d):c.eachSeries(d)}});