define(function(b){var d=b("../util/graphic");var a=b("zrender/core/util");var c=Math.PI;return function(h,i){i=i||{};a.defaults(i,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new d.Rect({style:{fill:i.maskColor},zlevel:i.zlevel,z:10000});var g=new d.Arc({shape:{startAngle:-c/2,endAngle:-c/2+0.1,r:10},style:{stroke:i.color,lineCap:"round",lineWidth:5},zlevel:i.zlevel,z:10001});var f=new d.Rect({style:{fill:"none",text:i.text,textPosition:"right",textDistance:10,textFill:i.textColor},zlevel:i.zlevel,z:10001});g.animateShape(true).when(1000,{endAngle:c*3/2}).start("circularInOut");g.animateShape(true).when(1000,{startAngle:c*3/2}).delay(300).start("circularInOut");var j=new d.Group();j.add(g);j.add(f);j.add(e);j.resize=function(){var k=h.getWidth()/2;var m=h.getHeight()/2;g.setShape({cx:k,cy:m});var l=g.shape.r;f.setShape({x:k-l,y:m-l,width:l*2,height:l*2});e.setShape({x:0,y:0,width:h.getWidth(),height:h.getHeight()})};j.resize();return j}});