define(function(d){var b=d("zrender/core/util");return function(g){var f=g&&g.timeline;if(!b.isArray(f)){f=f?[f]:[]}b.each(f,function(h){if(!h){return}e(h)})};function e(g){var h=g.type;var f={number:"value",time:"time"};if(f[h]){g.axisType=f[h];delete g.type}a(g);if(c(g,"controlPosition")){var i=g.controlStyle||(g.controlStyle={});if(!c(i,"position")){i.position=g.controlPosition}if(i.position==="none"&&!c(i,"show")){i.show=false;delete i.position}delete g.controlPosition}b.each(g.data||[],function(j){if(b.isObject(j)&&!b.isArray(j)){if(!c(j,"value")&&c(j,"name")){j.value=j.name}a(j)}})}function a(i){var k=i.itemStyle||(i.itemStyle={});var h=k.emphasis||(k.emphasis={});var g=i.label||(i.label||{});var j=g.normal||(g.normal={});var f={normal:1,emphasis:1};b.each(g,function(m,l){if(!f[l]&&!c(j,l)){j[l]=m}});if(h.label&&!c(g,"emphasis")){g.emphasis=h.label;delete h.label}}function c(g,f){return g.hasOwnProperty(f)}});