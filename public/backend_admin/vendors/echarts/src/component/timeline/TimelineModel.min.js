define(function(b){var d=b("../../model/Component");var c=b("../../data/List");var a=b("zrender/core/util");var f=b("../../util/model");var e=d.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(i,h,g){this._data;this._names;this.mergeDefaultAndTheme(i,g);this._initData()},mergeOption:function(g){e.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(g){if(g==null){g=this.option.currentIndex}var h=this._data.count();if(this.option.loop){g=(g%h+h)%h}else{g>=h&&(g=h-1);g<0&&(g=0)}this.option.currentIndex=g},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(g){this.option.autoPlay=!!g},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var i=this.option;var j=i.data||[];var g=i.axisType;var l=this._names=[];if(g==="category"){var h=[];a.each(j,function(p,n){var q=f.getDataItemValue(p);var o;if(a.isObject(p)){o=a.clone(p);o.value=n}else{o=n}h.push(o);if(!a.isString(q)&&(q==null||isNaN(q))){q=""}l.push(q+"")});j=h}var m=({category:"ordinal",time:"time"})[g]||"number";var k=this._data=new c([{name:"value",type:m}],this);k.initData(j,l)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});return e});