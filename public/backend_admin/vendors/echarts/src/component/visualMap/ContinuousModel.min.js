define(function(c){var e=c("./VisualMapModel");var a=c("zrender/core/util");var b=c("../../util/number");var f=[20,140];var d=e.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true},doMergeOption:function(g,h){d.superApply(this,"doMergeOption",arguments);this.resetTargetSeries(g,h);this.resetExtent();this.resetVisual(function(i){i.mappingMethod="linear"});this._resetRange()},resetItemSize:function(){e.prototype.resetItemSize.apply(this,arguments);var g=this.itemSize;this._orient==="horizontal"&&g.reverse();(g[0]==null||isNaN(g[0]))&&(g[0]=f[0]);(g[1]==null||isNaN(g[1]))&&(g[1]=f[1])},_resetRange:function(){var h=this.getExtent();var g=this.option.range;if(!g||g.auto){h.auto=1;this.option.range=h}else{if(a.isArray(g)){if(g[0]>g[1]){g.reverse()}g[0]=Math.max(g[0],h[0]);g[1]=Math.min(g[1],h[1])}}},completeVisualOption:function(){e.prototype.completeVisualOption.apply(this,arguments);a.each(this.stateList,function(h){var g=this.option.controller[h].symbolSize;if(g&&g[0]!==g[1]){g[0]=0}},this)},setSelected:function(g){this.option.range=g.slice();this._resetRange()},getSelected:function(){var h=this.getExtent();var g=b.asc((this.get("range")||[]).slice());g[0]>h[1]&&(g[0]=h[1]);g[1]>h[1]&&(g[1]=h[1]);g[0]<h[0]&&(g[0]=h[0]);g[1]<h[0]&&(g[1]=h[0]);return g},getValueState:function(i){var g=this.option.range;var h=this.getExtent();return((g[0]<=h[0]||g[0]<=i)&&(g[1]>=h[1]||i<=g[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(h){var g=[];this.eachTargetSeries(function(i){var k=[];var j=i.getData();j.each(this.getDataDimension(j),function(m,l){h[0]<=m&&m<=h[1]&&k.push(l)},true,this);g.push({seriesId:i.id,dataIndices:k})},this);return g}});return d});