define(function(b){var d=b("../../echarts");var e=b("../../visual/VisualMapping");var a=b("zrender/core/util");d.registerVisualCoding("component",function(f){f.eachComponent("visualMap",function(g){c(g,f)})});function c(h,f){var g=h.targetVisuals;var i={};a.each(["inRange","outOfRange"],function(k){var j=e.prepareVisualTypes(g[k]);i[k]=j});h.eachTargetSeries(function(j){var n=j.getData();var o=h.getDataDimension(n);var l;function k(p){return n.getItemVisual(l,p)}function m(p,q){n.setItemVisual(l,p,q)}n.each([o],function(v,r){l=r;var q=h.getValueState(v);var w=g[q];var u=i[q];for(var s=0,p=u.length;s<p;s++){var t=u[s];w[t]&&w[t].applyVisual(v,k,m)}},true)})}});