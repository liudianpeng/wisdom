define(function(c){var d=c("../../echarts");var a=c("zrender/core/util");function b(f,j,e){var i={};var h=f==="toggleSelected";var g;e.eachComponent("legend",function(l){if(h&&g!=null){l[g?"select":"unSelect"](j.name)}else{l[f](j.name);g=l.isSelected(j.name)}var k=l.getData();a.each(k,function(n){var m=n.get("name");if(m==="\n"||m===""){return}var o=l.isSelected(m);if(m in i){i[m]=i[m]&&o}else{i[m]=o}})});return{name:j.name,selected:i}}d.registerAction("legendToggleSelect","legendselectchanged",a.curry(b,"toggleSelected"));d.registerAction("legendSelect","legendselected",a.curry(b,"select"));d.registerAction("legendUnSelect","legendunselected",a.curry(b,"unSelect"))});