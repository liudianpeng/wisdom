define(function(a){var c=a("../echarts");var d=a("../util/graphic");var b=a("../util/layout");c.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});c.extendComponentView({type:"title",render:function(j,w,p){this.group.removeAll();if(!j.get("show")){return}var n=this.group;var m=j.getModel("textStyle");var v=j.getModel("subtextStyle");var k=j.get("textAlign");var t=new d.Text({style:{text:j.get("text"),textFont:m.getFont(),fill:m.getTextColor(),textBaseline:"top"},z2:10});var e=t.getBoundingRect();var i=j.get("subtext");var h=new d.Text({style:{text:i,textFont:v.getFont(),fill:v.getTextColor(),y:e.height+j.get("itemGap"),textBaseline:"top"},z2:10});var l=j.get("link");var r=j.get("sublink");t.silent=!l;h.silent=!r;if(l){t.on("click",function(){window.open(l,"_"+j.get("target"))})}if(r){h.on("click",function(){window.open(r,"_"+j.get("subtarget"))})}n.add(t);i&&n.add(h);var q=n.getBoundingRect();var g=j.getBoxLayoutParams();g.width=q.width;g.height=q.height;var u=b.getLayoutRect(g,{width:p.getWidth(),height:p.getHeight()},j.get("padding"));if(!k){k=j.get("left")||j.get("right");if(k==="middle"){k="center"}if(k==="right"){u.x+=u.width}else{if(k==="center"){u.x+=u.width/2}}}n.position=[u.x,u.y];t.setStyle("textAlign",k);h.setStyle("textAlign",k);q=n.getBoundingRect();var o=u.margin;var s=j.getItemStyle(["color","opacity"]);s.fill=j.get("backgroundColor");var f=new d.Rect({shape:{x:q.x-o[3],y:q.y-o[0],width:q.width+o[1]+o[3],height:q.height+o[0]+o[2]},style:s,silent:true});d.subPixelOptimizeRect(f);n.add(f)}})});