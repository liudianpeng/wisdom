define(function(a){var b={};b.updateCenterAndZoom=function(j,l,g){var d=j.getZoom();var c=j.getCenter();var n=l.zoom;var m=j.dataToPoint(c);if(l.dx!=null&&l.dy!=null){m[0]-=l.dx;m[1]-=l.dy;var c=j.pointToData(m);j.setCenter(c)}if(n!=null){if(g){var f=g.min||0;var k=g.max||Infinity;n=Math.max(Math.min(d*n,k),f)/d}j.scale[0]*=n;j.scale[1]*=n;var e=j.position;var i=(l.originX-e[0])*(n-1);var h=(l.originY-e[1])*(n-1);e[0]-=i;e[1]-=h;j.updateTransform();var c=j.pointToData(m);j.setCenter(c);j.setZoom(n*d)}return{center:j.getCenter(),zoom:j.getZoom()}};return b});