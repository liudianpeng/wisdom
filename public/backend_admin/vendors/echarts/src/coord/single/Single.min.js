define(function(c){var b=c("./SingleAxis");var a=c("../axisHelper");var d=c("../../util/layout");function e(g,f,h){this.dimension="oneDim";this.dimensions=["oneDim"];this._axis=null;this._rect;this._init(g,f,h);this._model=g}e.prototype={type:"single",constructor:e,_init:function(h,f,j){var k=this.dimension;var i=new b(k,a.createScaleByModel(h),[0,0],h.get("type"),h.get("position"));var g=i.type==="category";i.onBand=g&&h.get("boundaryGap");i.inverse=h.get("inverse");i.orient=h.get("orient");h.axis=i;i.model=h;this._axis=i},update:function(f,g){this._updateAxisFromSeries(f)},_updateAxisFromSeries:function(f){f.eachSeries(function(g){var h=g.getData();var i=this.dimension;this._axis.scale.unionExtent(h.getDataExtent(g.coordDimToDataDim(i)));a.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(f,g){this._rect=d.getLayoutRect({left:f.get("left"),top:f.get("top"),right:f.get("right"),bottom:f.get("bottom"),width:f.get("width"),height:f.get("height")},{width:g.getWidth(),height:g.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var i=this._rect;var h=this._axis;var j=h.isHorizontal();var g=j?[0,i.width]:[0,i.height];var f=h.reverse?1:0;h.setExtent(g[f],g[1-f]);this._updateAxisTransform(h,j?i.x:i.y)},_updateAxisTransform:function(g,f){var j=g.getExtent();var i=j[0]+j[1];var h=g.isHorizontal();g.toGlobalCoord=h?function(k){return k+f}:function(k){return i-k+f};g.toLocalCoord=h?function(k){return k-f}:function(k){return i-k+f}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(f){var i=this.getRect();var h=this.getAxis();var g=h.orient;if(g==="horizontal"){return h.contain(h.toLocalCoord(f[0]))&&(f[1]>=i.y&&f[1]<=(i.y+i.height))}else{return h.contain(h.toLocalCoord(f[1]))&&(f[0]>=i.y&&f[0]<=(i.y+i.height))}},pointToData:function(f){var h=this.getAxis();var g=h.orient;if(g==="horizontal"){return[h.coordToData(h.toLocalCoord(f[0])),f[1]]}else{return[h.coordToData(h.toLocalCoord(f[1])),f[0]]}},dataToPoint:function(f){var g=this.getAxis();return[g.toGlobalCoord(g.dataToCoord(f[0])),f[1]]}};return e});