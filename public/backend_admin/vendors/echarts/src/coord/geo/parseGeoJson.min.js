define(function(b){var a=b("zrender/core/util");var d=b("./Region");function e(p){if(!p.UTF8Encoding){return p}var g=p.features;for(var i=0;i<g.length;i++){var q=g[i];var k=q.geometry;var n=k.coordinates;var l=k.encodeOffsets;for(var j=0;j<n.length;j++){var o=n[j];if(k.type==="Polygon"){n[j]=c(o,l[j])}else{if(k.type==="MultiPolygon"){for(var h=0;h<o.length;h++){var m=o[h];o[h]=c(m,l[j][h])}}}}}p.UTF8Encoding=false;return p}function c(o,m){var h=[];var l=m[0];var k=m[1];for(var j=0;j<o.length;j+=2){var g=o.charCodeAt(j)-64;var n=o.charCodeAt(j+1)-64;g=(g>>1)^(-(g&1));n=(n>>1)^(-(n&1));g+=l;n+=k;l=g;k=n;h.push([g/1024,n/1024])}return h}function f(l){var h=[];for(var j=0;j<l.length;j++){for(var g=0;g<l[j].length;g++){h.push(l[j][g])}}return h}return function(g){e(g);return a.map(a.filter(g.features,function(h){return h.geometry&&h.properties}),function(h){var i=h.properties;var k=h.geometry;var j=k.coordinates;if(k.type==="MultiPolygon"){j=f(j)}return new d(i.name,j,i.cp)})}});