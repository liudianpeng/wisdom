define(function(d){var a=d("./RadiusAxis");var c=d("./AngleAxis");var b=function(e){this.name=e||"";this.cx=0;this.cy=0;this._radiusAxis=new a();this._angleAxis=new c()};b.prototype={constructor:b,type:"polar",dimensions:["radius","angle"],containPoint:function(e){var f=this.pointToCoord(e);return this._radiusAxis.contain(f[0])&&this._angleAxis.contain(f[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxesByScale:function(e){var h=[];var f=this._angleAxis;var g=this._radiusAxis;f.scale.type===e&&h.push(f);g.scale.type===e&&h.push(g);return h},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(f){var e=this._angleAxis;return f===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(e){return e.mapArray(this.dimensions,function(f,g){return this.dataToPoint([f,g])},this)},dataToPoint:function(e,f){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],f),this._angleAxis.dataToAngle(e[1],f)])},pointToData:function(e,f){var g=this.pointToCoord(e);return[this._radiusAxis.radiusToData(g[0],f),this._angleAxis.angleToData(g[1],f)]},pointToCoord:function(j){var n=j[0]-this.cx;var l=j[1]-this.cy;var m=this.getAngleAxis();var k=m.getExtent();var g=Math.min(k[0],k[1]);var e=Math.max(k[0],k[1]);m.inverse?(g=e-360):(e=g+360);var h=Math.sqrt(n*n+l*l);n/=h;l/=h;var i=Math.atan2(-l,n)/Math.PI*180;var f=i<g?1:-1;while(i<g||i>e){i+=f*360}return[h,i]},coordToPoint:function(i){var f=i[0];var g=i[1]/180*Math.PI;var e=Math.cos(g)*f+this.cx;var h=-Math.sin(g)*f+this.cy;return[e,h]}};return b});