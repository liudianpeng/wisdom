define(function(e){var d=e("../util/number");var c=d.linearMap;var a=e("zrender/core/util");function g(k,i){var j=k[1]-k[0];var h=i;var l=j/h/2;k[0]+=l;k[1]-=l}var f=[0,1];var b=function(i,j,h){this.dim=i;this.scale=j;this._extent=h||[0,0];this.inverse=false;this.onBand=false};b.prototype={constructor:b,contain:function(k){var j=this._extent;var i=Math.min(j[0],j[1]);var h=Math.max(j[0],j[1]);return k>=i&&k<=h},containData:function(h){return this.contain(this.dataToCoord(h))},getExtent:function(){var h=this._extent.slice();return h},getPixelPrecision:function(h){return d.getPixelPrecision(h||this.scale.getExtent(),this._extent)},setExtent:function(j,h){var i=this._extent;i[0]=j;i[1]=h},dataToCoord:function(i,k){var h=this._extent;var j=this.scale;i=j.normalize(i);if(this.onBand&&j.type==="ordinal"){h=h.slice();g(h,j.count())}return c(i,f,h,k)},coordToData:function(l,k){var i=this._extent;var j=this.scale;if(this.onBand&&j.type==="ordinal"){i=i.slice();g(i,j.count())}var h=c(l,i,f,k);return this.scale.scale(h)},getTicksCoords:function(){if(this.onBand){var k=this.getBands();var j=[];for(var h=0;h<k.length;h++){j.push(k[h][0])}if(k[h-1]){j.push(k[h-1][1])}return j}else{return a.map(this.scale.getTicks(),this.dataToCoord,this)}},getLabelsCoords:function(){if(this.onBand){var k=this.getBands();var j=[];var l;for(var h=0;h<k.length;h++){l=k[h];j.push((l[0]+l[1])/2)}return j}else{return a.map(this.scale.getTicks(),this.dataToCoord,this)}},getBands:function(){var m=this.getExtent();var n=[];var h=this.scale.count();var o=m[0];var j=m[1];var l=j-o;for(var k=0;k<h;k++){n.push([l*k/h+o,l*(k+1)/h+o])}return n},getBandWidth:function(){var k=this._extent;var j=this.scale.getExtent();var h=j[1]-j[0]+(this.onBand?1:0);h===0&&(h=1);var i=Math.abs(k[1]-k[0]);return Math.abs(i)/h}};return b});