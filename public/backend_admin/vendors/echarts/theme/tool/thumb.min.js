var glob=require("glob");var Canvas=require("canvas");var echarts=require("echarts");var fs=require("fs");var path=require("path");require("echarts/map/js/china");var options={bar:require("./option/bar"),area:require("./option/area"),scatter:require("./option/scatter"),pie:require("./option/pie"),graph:require("./option/graph"),map:require("./option/map")};var WIDTH=600;var HEIGHT=400;echarts.setCanvasCreator(function(){return createCanvas()});var font=new Canvas.Font("Helvetica","/System/Library/Fonts/Helvetica.dfont");font.addFace("/System/Library/Fonts/Helvetica.dfont","bolder");glob("../*.js",function(b,a){a.forEach(function(c){var f=path.basename(c,".js");var d=[];require(c);echarts.util.each(options,function(k){var i=createCanvas();var j=echarts.init(i,f);var l=k;if(k.options){l=k.options[0]}d.push(i);l.animation=false;l.textStyle={fontFamily:"Helvetica",fontSize:12};j.setOption(k);j.dispose()});var g=2;var e=new Canvas(WIDTH*g,HEIGHT*d.length/g);var h=e.getContext("2d");d.forEach(function(j,i){h.drawImage(j,i%g*WIDTH,Math.floor(i/g)*HEIGHT,WIDTH,HEIGHT)});fs.writeFileSync("../thumb/"+f+".png",e.toBuffer())})});function createCanvas(){var b=new Canvas(WIDTH,HEIGHT);var a=b.getContext("2d");a.addFont(font);return b};