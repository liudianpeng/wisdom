(function webpackUniversalModuleDefinition(a,b){if(typeof exports==="object"&&typeof module==="object"){module.exports=b(require("echarts"))}else{if(typeof define==="function"&&define.amd){define(["echarts"],b)}else{if(typeof exports==="object"){exports.bmap=b(require("echarts"))}else{a.echarts=a.echarts||{},a.echarts["bmap"]=b(a.echarts)}}}})(this,function(a){return(function(b){var c={};function d(f){if(c[f]){return c[f].exports}var e=c[f]={exports:{},id:f,loaded:false};b[f].call(e.exports,e,e.exports,d);e.loaded=true;return e.exports}d.m=b;d.c=c;d.p="";return d(0)})([function(c,b,d){var e;!(e=function(f){d(1).registerCoordinateSystem("bmap",d(2));d(3);d(4);d(1).registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(h,g){g.eachComponent("bmap",function(k){var j=k.getBMap();var i=j.getCenter();k.setCenterAndZoom([i.lng,i.lat],j.getZoom())})});return{version:"1.0.0"}}.call(b,d,b,c),e!==undefined&&(c.exports=e))},function(c,b){c.exports=a},function(c,b,d){var e;!(e=function(g){var i=d(1);function j(k,l){this._bmap=k;this.dimensions=["lng","lat"];this._mapOffset=[0,0];this._api=l}j.prototype.dimensions=["lng","lat"];j.prototype.setMapOffset=function(k){this._mapOffset=k};j.prototype.getBMap=function(){return this._bmap};j.prototype.dataToPoint=function(n){var k=new BMap.Point(n[0],n[1]);var m=this._bmap.pointToOverlayPixel(k);var l=this._mapOffset;return[m.x-l[0],m.y-l[1]]};j.prototype.pointToData=function(l){var k=this._mapOffset;var l=this._bmap.overlayPixelToPoint({x:l[0]+k[0],y:l[1]+k[1]});return[l.lng,l.lat]};j.prototype.getViewRect=function(){var k=this._api;return new i.graphic.BoundingRect(0,0,k.getWidth(),k.getHeight())};j.prototype.getRoamTransform=function(){return i.matrix.create()};var f;j.dimensions=j.prototype.dimensions;function h(){function k(l){this._root=l}k.prototype=new BMap.Overlay();k.prototype.initialize=function(l){l.getPanes().labelPane.appendChild(this._root);return this._root};k.prototype.draw=function(){};return k}j.create=function(k,n){var m;var l=n.getDom();k.eachComponent("bmap",function(v){var t=n.getZr().painter.getViewportRoot();if(typeof BMap==="undefined"){throw new Error("BMap api is not loaded")}f=f||h();if(m){throw new Error("Only one bmap component can exist")}if(!v.__bmap){var u=l.querySelector(".ec-extension-bmap");if(u){t.style.left="0px";t.style.top="0px";l.removeChild(u)}u=document.createElement("div");u.style.cssText="width:100%;height:100%";u.classList.add("ec-extension-bmap");l.appendChild(u);var p=v.__bmap=new BMap.Map(u);var q=new f(t);p.addOverlay(q)}var p=v.__bmap;var o=v.get("center");var r=v.get("zoom");if(o&&r){var s=new BMap.Point(o[0],o[1]);p.centerAndZoom(s,r)}m=new j(p,n);m.setMapOffset(v.__mapOffset||[0,0]);v.coordinateSystem=m});k.eachSeries(function(o){if(o.get("coordinateSystem")==="bmap"){o.coordinateSystem=m}})};return j}.call(b,d,b,c),e!==undefined&&(c.exports=e))},function(c,b,d){var e;!(e=function(f){function g(i,h){return i&&h&&i[0]===h[0]&&i[1]===h[1]}return d(1).extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(h,i){this.option.center=h;this.option.zoom=i},centerOrZoomChanged:function(h,j){var i=this.option;return !(g(h,i.center)&&j===i.zoom)},defaultOption:{center:null,zoom:1,mapStyle:{},roam:false}})}.call(b,d,b,c),e!==undefined&&(c.exports=e))},function(c,b,d){var e;!(e=function(f){return d(1).extendComponentView({type:"bmap",render:function(p,l,o){var s=true;var m=p.getBMap();var h=o.getZr().painter.getViewportRoot();var k=p.coordinateSystem;var n=function(u,v){if(s){return}var w=h.parentNode.parentNode.parentNode;var t=[-parseInt(w.style.left,10)||0,-parseInt(w.style.top,10)||0];h.style.left=t[0]+"px";h.style.top=t[1]+"px";k.setMapOffset(t);p.__mapOffset=t;o.dispatchAction({type:"bmapRoam"})};function j(){if(s){return}o.dispatchAction({type:"bmapRoam"})}m.removeEventListener("moving",this._oldMoveHandler);m.removeEventListener("zoomend",this._oldZoomEndHandler);m.addEventListener("moving",n);m.addEventListener("zoomend",j);this._oldMoveHandler=n;this._oldZoomEndHandler=j;var r=p.get("roam");if(r&&r!=="scale"){m.enableDragging()}else{m.disableDragging()}if(r&&r!=="move"){m.enableScrollWheelZoom();m.enableDoubleClickZoom();m.enablePinchToZoom()}else{m.disableScrollWheelZoom();m.disableDoubleClickZoom();m.disablePinchToZoom()}var g=p.__mapStyle;var i=p.get("mapStyle")||{};var q=JSON.stringify(i);if(JSON.stringify(g)!==q){m.setMapStyle(i);p.__mapStyle=JSON.parse(q)}s=false}})}.call(b,d,b,c),e!==undefined&&(c.exports=e))}])});