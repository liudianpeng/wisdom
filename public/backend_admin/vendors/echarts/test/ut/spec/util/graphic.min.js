describe("util/graphic",function(){var a=window.utHelper;var b;beforeAll(function(c){a.resetPackageLoader(function(){window.require(["echarts/util/graphic"],function(d){b=d;c()})})});describe("subPixelOptimize",function(){it("subPixelOptimize_base",function(c){expect(b.subPixelOptimize(5,1)).toEqual(4.5);expect(b.subPixelOptimize(5,2)).toEqual(5);expect(b.subPixelOptimize(5,43)).toEqual(4.5);expect(b.subPixelOptimize(7.5,1)).toEqual(7.5);expect(b.subPixelOptimize(7.5,2)).toEqual(7);expect(b.subPixelOptimize(14,1,true)).toEqual(14.5);expect(b.subPixelOptimize(14,2,true)).toEqual(14);expect(b.subPixelOptimize(-11,1)).toEqual(-11.5);expect(b.subPixelOptimize(-11,2)).toEqual(-11);expect(b.subPixelOptimize(0,2)).toEqual(0);expect(b.subPixelOptimize(0,1)).toEqual(-0.5);expect(b.subPixelOptimize(5,0)).toEqual(5);c()});it("subPixelOptimize_line",function(c){function d(h,j,i,g,f){return b.subPixelOptimizeLine(e(h,j,i,g,f))}function e(h,j,g,i,f){return{shape:{x1:h,y1:j,x2:g,y2:i},style:{lineWidth:f}}}expect(d(5,11,3,7,1)).toEqual(e(5,11,3,7,1));expect(d(5,11,5,7,1)).toEqual(e(5.5,11,5.5,7,1));expect(d(5,11,5,7,2)).toEqual(e(5,11,5,7,2));expect(d(5,11,15,11,1)).toEqual(e(5,11.5,15,11.5,1));expect(d(5,11,15,11,2)).toEqual(e(5,11,15,11,2));expect(d(5,11,15,11,3)).toEqual(e(5,11.5,15,11.5,3));expect(d(5,11,15,11.5,3)).toEqual(e(5,11,15,11.5,3));expect(d(5,11.5,15,11.5,3)).toEqual(e(5,11.5,15,11.5,3));expect(d(5,11.5,15,11.5,4)).toEqual(e(5,12,15,12,4));c()});it("subPixelOptimize_rect",function(c){function d(h,j,i,g,f){return b.subPixelOptimizeRect(e(h,j,i,g,f))}function e(h,j,i,g,f){return{shape:{x:h,y:j,width:i,height:g},style:{lineWidth:f}}}expect(d(5,11,3,7,1)).toEqual(e(5.5,11.5,2,6,1));expect(d(5,11,3,7,2)).toEqual(e(5,11,3,7,2));expect(d(5,11,3,7,3)).toEqual(e(5.5,11.5,2,6,3));expect(d(5,11,1,7,1)).toEqual(e(5.5,11.5,1,6,1));expect(d(5,11,1,0,1)).toEqual(e(5.5,11.5,1,0,1));c()})})});