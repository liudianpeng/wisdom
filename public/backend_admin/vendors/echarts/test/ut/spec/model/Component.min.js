describe("Component",function(){var b=window.utHelper;var a=b.prepare(["echarts/model/Component"]);describe("topologicalTravel",function(){a("topologicalTravel_base",function(d){d.extend({type:"m1",dependencies:["a1","a2"]});d.extend({type:"a1"});d.extend({type:"a2"});var c=[];var e=d.getAllClassMainTypes();d.topologicalTravel(["m1","a1","a2"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a2",[]],["a1",[]],["m1",["a1","a2"]]])});a("topologicalTravel_a1IsAbsent",function(d){d.extend({type:"m1",dependencies:["a1","a2"]});d.extend({type:"a2"});var e=d.getAllClassMainTypes();var c=[];d.topologicalTravel(["m1","a2"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a2",[]],["m1",["a1","a2"]]])});a("topologicalTravel_empty",function(d){d.extend({type:"m1",dependencies:["a1","a2"]});d.extend({type:"a1"});d.extend({type:"a2"});var e=d.getAllClassMainTypes();var c=[];d.topologicalTravel([],e,function(f,g){c.push([f,g])});expect(c).toEqual([])});a("topologicalTravel_isolate",function(d){d.extend({type:"a2"});d.extend({type:"a1"});d.extend({type:"m1",dependencies:["a2"]});var e=d.getAllClassMainTypes();var c=[];d.topologicalTravel(["a1","a2","m1"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a1",[]],["a2",[]],["m1",["a2"]]])});a("topologicalTravel_diamond",function(d){d.extend({type:"a1",dependencies:[]});d.extend({type:"a2",dependencies:["a1"]});d.extend({type:"a3",dependencies:["a1"]});d.extend({type:"m1",dependencies:["a2","a3"]});var e=d.getAllClassMainTypes();var c=[];d.topologicalTravel(["m1","a1","a2","a3"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a1",[]],["a3",["a1"]],["a2",["a1"]],["m1",["a2","a3"]]])});a("topologicalTravel_loop",function(c){c.extend({type:"m1",dependencies:["a1","a2"]});c.extend({type:"m2",dependencies:["m1","a2"]});c.extend({type:"a1",dependencies:["m2","a2","a3"]});c.extend({type:"a2"});c.extend({type:"a3"});var d=c.getAllClassMainTypes();expect(function(){c.topologicalTravel(["m1","m2","a1"],d)}).toThrowError(/Circl/)});a("topologicalTravel_multipleEchartsInstance",function(d){d.extend({type:"m1",dependencies:["a1","a2"]});d.extend({type:"a1"});d.extend({type:"a2"});var e=d.getAllClassMainTypes();var c=[];d.topologicalTravel(["m1","a1","a2"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a2",[]],["a1",[]],["m1",["a1","a2"]]]);c=[];d.extend({type:"m2",dependencies:["a1","m1"]});var e=d.getAllClassMainTypes();d.topologicalTravel(["m2","m1","a1","a2"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a2",[]],["a1",[]],["m1",["a1","a2"]],["m2",["a1","m1"]]])});a("topologicalTravel_missingSomeNodeButHasDependencies",function(d){d.extend({type:"m1",dependencies:["a1","a2"]});d.extend({type:"a2",dependencies:["a3"]});d.extend({type:"a3"});d.extend({type:"a4"});var c=[];var e=d.getAllClassMainTypes();d.topologicalTravel(["a3","m1"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a3",[]],["a2",["a3"]],["m1",["a1","a2"]]]);var c=[];var e=d.getAllClassMainTypes();d.topologicalTravel(["m1","a3"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a3",[]],["a2",["a3"]],["m1",["a1","a2"]]])});a("topologicalTravel_subType",function(d){d.extend({type:"m1",dependencies:["a1","a2"]});d.extend({type:"a1.aaa",dependencies:["a2"]});d.extend({type:"a1.bbb",dependencies:["a3","a4"]});d.extend({type:"a2"});d.extend({type:"a3"});d.extend({type:"a4"});var c=[];var e=d.getAllClassMainTypes();d.topologicalTravel(["m1","a1","a2","a4"],e,function(f,g){c.push([f,g])});expect(c).toEqual([["a4",[]],["a2",[]],["a1",["a2","a3","a4"]],["m1",["a1","a2"]]])})})});