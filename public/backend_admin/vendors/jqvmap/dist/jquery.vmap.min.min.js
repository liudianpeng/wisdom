var VectorCanvas=function(e,f,g){this.mode=window.SVGAngle?"svg":"vml";this.params=g;if(this.mode==="svg"){this.createSvgNode=function(a){return document.createElementNS(this.svgns,a)}}else{try{if(!document.namespaces.rvml){document.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}this.createVmlNode=function(a){return document.createElement("<rvml:"+a+' class="rvml">')}}catch(h){this.createVmlNode=function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")}if(this.mode==="svg"){this.canvas=this.createSvgNode("svg")}else{this.canvas=this.createVmlNode("group");this.canvas.style.position="absolute"}this.setSize(e,f)};VectorCanvas.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null};var ColorScale=function(f,e,h,g){if(f){this.setColors(f)}if(e){this.setNormalizeFunction(e)}if(h){this.setMin(h)}if(h){this.setMax(g)}};ColorScale.prototype={colors:[]};var JQVMap=function(l){l=l||{};var n=this;var m=JQVMap.maps[l.map];var k;if(!m){throw new Error('Invalid "'+l.map+'" map parameter. Please make sure you have loaded this map file in your HTML.')}this.selectedRegions=[];this.multiSelectRegion=l.multiSelectRegion;this.container=l.container;this.defaultWidth=m.width;this.defaultHeight=m.height;this.color=l.color;this.selectedColor=l.selectedColor;this.hoverColor=l.hoverColor;this.hoverColors=l.hoverColors;this.hoverOpacity=l.hoverOpacity;this.setBackgroundColor(l.backgroundColor);this.width=l.container.width();this.height=l.container.height();this.resize();jQuery(window).resize(function(){var b=l.container.width();var c=l.container.height();if(b&&c){n.width=b;n.height=c;n.resize();n.canvas.setSize(n.width,n.height);n.applyTransform();var a=jQuery.Event("resize.jqvmap");jQuery(l.container).trigger(a,[b,c]);if(k){jQuery(".jqvmap-pin").remove();n.pinHandlers=false;n.placePins(k.pins,k.mode)}}});this.canvas=new VectorCanvas(this.width,this.height,l);l.container.append(this.canvas.canvas);this.makeDraggable();this.rootGroup=this.canvas.createGroup(true);this.index=JQVMap.mapIndex;this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body")).hide();if(l.enableZoom){jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(l.container);jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(l.container)}n.countries=[];for(var i in m.paths){var o=this.canvas.createPath({path:m.paths[i].path});o.setFill(this.color);o.id=n.getCountryId(i);n.countries[i]=o;if(this.canvas.mode==="svg"){o.setAttribute("class","jqvmap-region")}else{jQuery(o).addClass("jqvmap-region")}jQuery(this.rootGroup).append(o)}jQuery(l.container).delegate(this.canvas.mode==="svg"?"path":"shape","mouseover mouseout",function(a){var d=a.target,c=a.target.id.split("_").pop(),e=jQuery.Event("labelShow.jqvmap"),b=jQuery.Event("regionMouseOver.jqvmap");c=c.toLowerCase();if(a.type==="mouseover"){jQuery(l.container).trigger(b,[c,m.paths[c].name]);if(!b.isDefaultPrevented()){n.highlight(c,d)}if(l.showTooltip){n.label.text(m.paths[c].name);jQuery(l.container).trigger(e,[n.label,c]);if(!e.isDefaultPrevented()){n.label.show();n.labelWidth=n.label.width();n.labelHeight=n.label.height()}}}else{n.unhighlight(c,d);n.label.hide();jQuery(l.container).trigger("regionMouseOut.jqvmap",[c,m.paths[c].name])}});jQuery(l.container).delegate(this.canvas.mode==="svg"?"path":"shape","click",function(e){var a=e.target;var c=e.target.id.split("_").pop();var d=jQuery.Event("regionClick.jqvmap");c=c.toLowerCase();jQuery(l.container).trigger(d,[c,m.paths[c].name]);if(!l.multiSelectRegion&&!d.isDefaultPrevented()){for(var b in m.paths){n.countries[b].currentFillColor=n.countries[b].getOriginalFill();n.countries[b].setFill(n.countries[b].getOriginalFill())}}if(!d.isDefaultPrevented()){if(n.isSelected(c)){n.deselect(c,a)}else{n.select(c,a)}}});if(l.showTooltip){l.container.mousemove(function(a){if(n.label.is(":visible")){var b=a.pageX-15-n.labelWidth;var c=a.pageY-15-n.labelHeight;if(b<0){b=a.pageX+15}if(c<0){c=a.pageY+15}n.label.css({left:b,top:c})}})}this.setColors(l.colors);this.canvas.canvas.appendChild(this.rootGroup);this.applyTransform();this.colorScale=new ColorScale(l.scaleColors,l.normalizeFunction,l.valueMin,l.valueMax);if(l.values){this.values=l.values;this.setValues(l.values)}if(l.selectedRegions){if(l.selectedRegions instanceof Array){for(var j in l.selectedRegions){this.select(l.selectedRegions[j].toLowerCase())}}else{this.select(l.selectedRegions.toLowerCase())}}this.bindZoomButtons();if(l.pins){k={pins:l.pins,mode:l.pinMode};this.pinHandlers=false;this.placePins(l.pins,l.pinMode)}if(l.showLabels){this.pinHandlers=false;var p={};for(i in n.countries){if(typeof n.countries[i]!=="function"){if(!l.pins||!l.pins[i]){p[i]=i.toUpperCase()}}}k={pins:p,mode:"content"};this.placePins(p,"content")}JQVMap.mapIndex++};JQVMap.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1};JQVMap.xlink="http://www.w3.org/1999/xlink";JQVMap.mapIndex=1;JQVMap.maps={};(function(){var c={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1};var d={onLabelShow:"labelShow",onLoad:"load",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect",onResize:"resize"};jQuery.fn.vectorMap=function(j){var e={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",hoverColor:"#c9dfaf",hoverColors:{},selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:true,showTooltip:true,borderColor:"#818181",borderWidth:1,borderOpacity:0.25,selectedRegions:null,multiSelectRegion:false},a=this.data("mapObject");if(j==="addMap"){JQVMap.maps[arguments[1]]=arguments[2]}else{if(j==="set"&&c[arguments[1]]){a["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(a,Array.prototype.slice.call(arguments,2))}else{if(typeof j==="string"&&typeof a[j]==="function"){return a[j].apply(a,Array.prototype.slice.call(arguments,1))}else{jQuery.extend(e,j);e.container=this;this.css({position:"relative",overflow:"hidden"});a=new JQVMap(e);this.data("mapObject",a);this.unbind(".jqvmap");for(var b in d){if(e[b]){this.bind(d[b]+".jqvmap",e[b])}}var i=jQuery.Event("load.jqvmap");jQuery(e.container).trigger(i,a);return a}}}}})(jQuery);ColorScale.arrayToRgb=function(f){var d="#";var g;for(var h=0;h<f.length;h++){g=f[h].toString(16);d+=g.length===1?"0"+g:g}return d};ColorScale.prototype.getColor=function(m){if(typeof this.normalize==="function"){m=this.normalize(m)}var j=[];var l=0;var i;for(var n=0;n<this.colors.length-1;n++){i=this.vectorLength(this.vectorSubtract(this.colors[n+1],this.colors[n]));j.push(i);l+=i}var k=(this.maxValue-this.minValue)/l;for(n=0;n<j.length;n++){j[n]*=k}n=0;m-=this.minValue;while(m-j[n]>=0){m-=j[n];n++}var c;if(n===this.colors.length-1){c=this.vectorToNum(this.colors[n]).toString(16)}else{c=(this.vectorToNum(this.vectorAdd(this.colors[n],this.vectorMult(this.vectorSubtract(this.colors[n+1],this.colors[n]),(m)/(j[n]))))).toString(16)}while(c.length<6){c="0"+c}return"#"+c};ColorScale.rgbToArray=function(b){b=b.substr(1);return[parseInt(b.substr(0,2),16),parseInt(b.substr(2,2),16),parseInt(b.substr(4,2),16)]};ColorScale.prototype.setColors=function(d){for(var c=0;c<d.length;c++){d[c]=ColorScale.rgbToArray(d[c])}this.colors=d};ColorScale.prototype.setMax=function(b){this.clearMaxValue=b;if(typeof this.normalize==="function"){this.maxValue=this.normalize(b)}else{this.maxValue=b}};ColorScale.prototype.setMin=function(b){this.clearMinValue=b;if(typeof this.normalize==="function"){this.minValue=this.normalize(b)}else{this.minValue=b}};ColorScale.prototype.setNormalizeFunction=function(b){if(b==="polynomial"){this.normalize=function(a){return Math.pow(a,0.2)}}else{if(b==="linear"){delete this.normalize}else{this.normalize=b}}this.setMin(this.clearMinValue);this.setMax(this.clearMaxValue)};ColorScale.prototype.vectorAdd=function(g,h){var f=[];for(var e=0;e<g.length;e++){f[e]=g[e]+h[e]}return f};ColorScale.prototype.vectorLength=function(d){var e=0;for(var f=0;f<d.length;f++){e+=d[f]*d[f]}return Math.sqrt(e)};ColorScale.prototype.vectorMult=function(e,h){var f=[];for(var g=0;g<e.length;g++){f[g]=e[g]*h}return f};ColorScale.prototype.vectorSubtract=function(g,h){var f=[];for(var e=0;e<g.length;e++){f[e]=g[e]-h[e]}return f};ColorScale.prototype.vectorToNum=function(e){var d=0;for(var f=0;f<e.length;f++){d+=Math.round(e[f])*Math.pow(256,e.length-f-1)}return d};JQVMap.prototype.applyTransform=function(){var h,e,f,g;if(this.defaultWidth*this.scale<=this.width){h=(this.width-this.defaultWidth*this.scale)/(2*this.scale);f=(this.width-this.defaultWidth*this.scale)/(2*this.scale)}else{h=0;f=(this.width-this.defaultWidth*this.scale)/this.scale}if(this.defaultHeight*this.scale<=this.height){e=(this.height-this.defaultHeight*this.scale)/(2*this.scale);g=(this.height-this.defaultHeight*this.scale)/(2*this.scale)}else{e=0;g=(this.height-this.defaultHeight*this.scale)/this.scale}if(this.transY>e){this.transY=e}else{if(this.transY<g){this.transY=g}}if(this.transX>h){this.transX=h}else{if(this.transX<f){this.transX=f}}this.canvas.applyTransformParams(this.scale,this.transX,this.transY)};JQVMap.prototype.bindZoomButtons=function(){var b=this;this.container.find(".jqvmap-zoomin").click(function(){b.zoomIn()});this.container.find(".jqvmap-zoomout").click(function(){b.zoomOut()})};JQVMap.prototype.deselect=function(f,d){f=f.toLowerCase();d=d||jQuery("#"+this.getCountryId(f))[0];if(this.isSelected(f)){this.selectedRegions.splice(this.selectIndex(f),1);jQuery(this.container).trigger("regionDeselect.jqvmap",[f]);d.currentFillColor=d.getOriginalFill();d.setFill(d.getOriginalFill())}else{for(var e in this.countries){this.selectedRegions.splice(this.selectedRegions.indexOf(e),1);this.countries[e].currentFillColor=this.color;this.countries[e].setFill(this.color)}}};JQVMap.prototype.getCountryId=function(b){return"jqvmap"+this.index+"_"+b};JQVMap.prototype.getPin=function(c){var d=jQuery("#"+this.getPinId(c));return d.html()};JQVMap.prototype.getPinId=function(b){return this.getCountryId(b)+"_pin"};JQVMap.prototype.getPins=function(){var c=this.container.find(".jqvmap-pin");var d={};jQuery.each(c,function(g,b){b=jQuery(b);var a=b.attr("for").toLowerCase();var h=b.html();d[a]=h});return JSON.stringify(d)};JQVMap.prototype.highlight=function(c,d){d=d||jQuery("#"+this.getCountryId(c))[0];if(this.hoverOpacity){d.setOpacity(this.hoverOpacity)}else{if(this.hoverColors&&(c in this.hoverColors)){d.currentFillColor=d.getFill()+"";d.setFill(this.hoverColors[c])}else{if(this.hoverColor){d.currentFillColor=d.getFill()+"";d.setFill(this.hoverColor)}}}};JQVMap.prototype.isSelected=function(b){return this.selectIndex(b)>=0};JQVMap.prototype.makeDraggable=function(){var t=false;var r,s;var l=this;l.isMoving=false;l.isMovingTimeout=false;var q;var o;var p;var u;var v;var m;var n;this.container.mousemove(function(a){if(t){l.transX-=(r-a.pageX)/l.scale;l.transY-=(s-a.pageY)/l.scale;l.applyTransform();r=a.pageX;s=a.pageY;l.isMoving=true;if(l.isMovingTimeout){clearTimeout(l.isMovingTimeout)}l.container.trigger("drag")}return false}).mousedown(function(a){t=true;r=a.pageX;s=a.pageY;return false}).mouseup(function(){t=false;clearTimeout(l.isMovingTimeout);l.isMovingTimeout=setTimeout(function(){l.isMoving=false},100);return false}).mouseout(function(){if(t&&l.isMoving){clearTimeout(l.isMovingTimeout);l.isMovingTimeout=setTimeout(function(){t=false;l.isMoving=false},100);return false}});jQuery(this.container).bind("touchmove",function(f){var c;var d;var a=f.originalEvent.touches;var b;var e;if(a.length===1){if(q===1){if(m===a[0].pageX&&n===a[0].pageY){return}b=l.transX;e=l.transY;l.transX-=(m-a[0].pageX)/l.scale;l.transY-=(n-a[0].pageY)/l.scale;l.applyTransform();if(b!==l.transX||e!==l.transY){f.preventDefault()}l.isMoving=true;if(l.isMovingTimeout){clearTimeout(l.isMovingTimeout)}}m=a[0].pageX;n=a[0].pageY}else{if(a.length===2){if(q===2){d=Math.sqrt(Math.pow(a[0].pageX-a[1].pageX,2)+Math.pow(a[0].pageY-a[1].pageY,2))/u;l.setScale(v*d,o,p);f.preventDefault()}else{c=jQuery(l.container).offset();if(a[0].pageX>a[1].pageX){o=a[1].pageX+(a[0].pageX-a[1].pageX)/2}else{o=a[0].pageX+(a[1].pageX-a[0].pageX)/2}if(a[0].pageY>a[1].pageY){p=a[1].pageY+(a[0].pageY-a[1].pageY)/2}else{p=a[0].pageY+(a[1].pageY-a[0].pageY)/2}o-=c.left;p-=c.top;v=l.scale;u=Math.sqrt(Math.pow(a[0].pageX-a[1].pageX,2)+Math.pow(a[0].pageY-a[1].pageY,2))}}}q=a.length});jQuery(this.container).bind("touchstart",function(){q=0});jQuery(this.container).bind("touchend",function(){q=0})};JQVMap.prototype.placePins=function(e,g){var f=this;if(!g||(g!=="content"&&g!=="id")){g="content"}if(g==="content"){jQuery.each(e,function(b,c){if(jQuery("#"+f.getCountryId(b)).length===0){return}var d=f.getPinId(b);var a=jQuery("#"+d);if(a.length>0){a.remove()}f.container.append('<div id="'+d+'" for="'+b+'" class="jqvmap-pin" style="position:absolute">'+c+"</div>")})}else{jQuery.each(e,function(b,c){if(jQuery("#"+f.getCountryId(b)).length===0){return}var d=f.getPinId(b);var a=jQuery("#"+d);if(a.length>0){a.remove()}f.container.append('<div id="'+d+'" for="'+b+'" class="jqvmap-pin" style="position:absolute"></div>');a.append(jQuery("#"+c))})}this.positionPins();if(!this.pinHandlers){this.pinHandlers=true;var h=function(){f.positionPins()};this.container.bind("zoomIn",h).bind("zoomOut",h).bind("drag",h)}};JQVMap.prototype.positionPins=function(){var c=this;var d=this.container.find(".jqvmap-pin");jQuery.each(d,function(o,a){a=jQuery(a);var m=c.getCountryId(a.attr("for").toLowerCase());var b=jQuery("#"+m);var l=document.getElementById(m).getBBox();var p=b.position();var q=c.scale;var r=p.left+(l.width/2)*q-a.width()/2,n=p.top+(l.height/2)*q-a.height()/2;a.css("left",r).css("top",n)})};JQVMap.prototype.removePin=function(b){b=b.toLowerCase();jQuery("#"+this.getPinId(b)).remove()};JQVMap.prototype.removePins=function(){this.container.find(".jqvmap-pin").remove()};JQVMap.prototype.reset=function(){for(var b in this.countries){this.countries[b].setFill(this.color)}this.scale=this.baseScale;this.transX=this.baseTransX;this.transY=this.baseTransY;this.applyTransform()};JQVMap.prototype.resize=function(){var b=this.baseScale;if(this.width/this.height>this.defaultWidth/this.defaultHeight){this.baseScale=this.height/this.defaultHeight;this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)}else{this.baseScale=this.width/this.defaultWidth;this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)}this.scale*=this.baseScale/b;this.transX*=this.baseScale/b;this.transY*=this.baseScale/b};JQVMap.prototype.select=function(c,d){c=c.toLowerCase();d=d||jQuery("#"+this.getCountryId(c))[0];if(!this.isSelected(c)){if(this.multiSelectRegion){this.selectedRegions.push(c)}else{this.selectedRegions=[c]}jQuery(this.container).trigger("regionSelect.jqvmap",[c]);if(this.selectedColor&&d){d.currentFillColor=this.selectedColor;d.setFill(this.selectedColor)}}};JQVMap.prototype.selectIndex=function(c){c=c.toLowerCase();for(var d=0;d<this.selectedRegions.length;d++){if(c===this.selectedRegions[d]){return d}}return -1};JQVMap.prototype.setBackgroundColor=function(b){this.container.css("background-color",b)};JQVMap.prototype.setColors=function(h,e){if(typeof h==="string"){this.countries[h].setFill(e);this.countries[h].setAttribute("original",e)}else{var f=h;for(var g in f){if(this.countries[g]){this.countries[g].setFill(f[g]);this.countries[g].setAttribute("original",f[g])}}}};JQVMap.prototype.setNormalizeFunction=function(b){this.colorScale.setNormalizeFunction(b);if(this.values){this.setValues(this.values)}};JQVMap.prototype.setScale=function(b){this.scale=b;this.applyTransform()};JQVMap.prototype.setScaleColors=function(b){this.colorScale.setColors(b);if(this.values){this.setValues(this.values)}};JQVMap.prototype.setValues=function(l){var h=0,k=Number.MAX_VALUE,j;for(var i in l){i=i.toLowerCase();j=parseFloat(l[i]);if(isNaN(j)){continue}if(j>h){h=l[i]}if(j<k){k=j}}if(k===h){h++}this.colorScale.setMin(k);this.colorScale.setMax(h);var g={};for(i in l){i=i.toLowerCase();j=parseFloat(l[i]);g[i]=isNaN(j)?this.color:this.colorScale.getColor(j)}this.setColors(g);this.values=l};JQVMap.prototype.unhighlight=function(c,d){c=c.toLowerCase();d=d||jQuery("#"+this.getCountryId(c))[0];d.setOpacity(1);if(d.currentFillColor){d.setFill(d.currentFillColor)}};JQVMap.prototype.zoomIn=function(){var d=this;var e=(jQuery("#zoom").innerHeight()-6*2-15*2-3*2-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(d.zoomCurStep<d.zoomMaxStep){d.transX-=(d.width/d.scale-d.width/(d.scale*d.zoomStep))/2;d.transY-=(d.height/d.scale-d.height/(d.scale*d.zoomStep))/2;d.setScale(d.scale*d.zoomStep);d.zoomCurStep++;var f=jQuery("#zoomSlider");f.css("top",parseInt(f.css("top"),10)-e);d.container.trigger("zoomIn")}};JQVMap.prototype.zoomOut=function(){var d=this;var e=(jQuery("#zoom").innerHeight()-6*2-15*2-3*2-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(d.zoomCurStep>1){d.transX+=(d.width/(d.scale/d.zoomStep)-d.width/d.scale)/2;d.transY+=(d.height/(d.scale/d.zoomStep)-d.height/d.scale)/2;d.setScale(d.scale/d.zoomStep);d.zoomCurStep--;var f=jQuery("#zoomSlider");f.css("top",parseInt(f.css("top"),10)+e);d.container.trigger("zoomOut")}};VectorCanvas.prototype.applyTransformParams=function(f,d,e){if(this.mode==="svg"){this.rootGroup.setAttribute("transform","scale("+f+") translate("+d+", "+e+")")}else{this.rootGroup.coordorigin=(this.width-d)+","+(this.height-e);this.rootGroup.coordsize=this.width/f+","+this.height/f}};VectorCanvas.prototype.createGroup=function(d){var c;if(this.mode==="svg"){c=this.createSvgNode("g")}else{c=this.createVmlNode("group");c.style.width=this.width+"px";c.style.height=this.height+"px";c.style.left="0px";c.style.top="0px";c.coordorigin="0 0";c.coordsize=this.width+" "+this.height}if(d){this.rootGroup=c}return c};VectorCanvas.prototype.createPath=function(f){var e;if(this.mode==="svg"){e=this.createSvgNode("path");e.setAttribute("d",f.path);if(this.params.borderColor!==null){e.setAttribute("stroke",this.params.borderColor)}if(this.params.borderWidth>0){e.setAttribute("stroke-width",this.params.borderWidth);e.setAttribute("stroke-linecap","round");e.setAttribute("stroke-linejoin","round")}if(this.params.borderOpacity>0){e.setAttribute("stroke-opacity",this.params.borderOpacity)}e.setFill=function(a){this.setAttribute("fill",a);if(this.getAttribute("original")===null){this.setAttribute("original",a)}};e.getFill=function(){return this.getAttribute("fill")};e.getOriginalFill=function(){return this.getAttribute("original")};e.setOpacity=function(a){this.setAttribute("fill-opacity",a)}}else{e=this.createVmlNode("shape");e.coordorigin="0 0";e.coordsize=this.width+" "+this.height;e.style.width=this.width+"px";e.style.height=this.height+"px";e.fillcolor=JQVMap.defaultFillColor;e.stroked=false;e.path=VectorCanvas.pathSvgToVml(f.path);var g=this.createVmlNode("skew");g.on=true;g.matrix="0.01,0,0,0.01,0,0";g.offset="0,0";e.appendChild(g);var h=this.createVmlNode("fill");e.appendChild(h);e.setFill=function(a){this.getElementsByTagName("fill")[0].color=a;if(this.getAttribute("original")===null){this.setAttribute("original",a)}};e.getFill=function(){return this.getElementsByTagName("fill")[0].color};e.getOriginalFill=function(){return this.getAttribute("original")};e.setOpacity=function(a){this.getElementsByTagName("fill")[0].opacity=parseInt(a*100,10)+"%"}}return e};VectorCanvas.prototype.pathSvgToVml=function(j){var g="";var h=0,i=0,k,l;return j.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(b,c,a){a=a.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(",");if(!a[0]){a.shift()}for(var d=0,e=a.length;d<e;d++){a[d]=Math.round(100*a[d])}switch(c){case"m":h+=a[0];i+=a[1];g="t"+a.join(",");break;case"M":h=a[0];i=a[1];g="m"+a.join(",");break;case"l":h+=a[0];i+=a[1];g="r"+a.join(",");break;case"L":h=a[0];i=a[1];g="l"+a.join(",");break;case"h":h+=a[0];g="r"+a[0]+",0";break;case"H":h=a[0];g="l"+h+","+i;break;case"v":i+=a[0];g="r0,"+a[0];break;case"V":i=a[0];g="l"+h+","+i;break;case"c":k=h+a[a.length-4];l=i+a[a.length-3];h+=a[a.length-2];i+=a[a.length-1];g="v"+a.join(",");break;case"C":k=a[a.length-4];l=a[a.length-3];h=a[a.length-2];i=a[a.length-1];g="c"+a.join(",");break;case"s":a.unshift(i-l);a.unshift(h-k);k=h+a[a.length-4];l=i+a[a.length-3];h+=a[a.length-2];i+=a[a.length-1];g="v"+a.join(",");break;case"S":a.unshift(i+i-l);a.unshift(h+h-k);k=a[a.length-4];l=a[a.length-3];h=a[a.length-2];i=a[a.length-1];g="c"+a.join(",");break;default:break}return g}).replace(/z/g,"")};VectorCanvas.prototype.setSize=function(i,g){if(this.mode==="svg"){this.canvas.setAttribute("width",i);this.canvas.setAttribute("height",g)}else{this.canvas.style.width=i+"px";this.canvas.style.height=g+"px";this.canvas.coordsize=i+" "+g;this.canvas.coordorigin="0 0";if(this.rootGroup){var h=this.rootGroup.getElementsByTagName("shape");for(var j=0,f=h.length;j<f;j++){h[j].coordsize=i+" "+g;h[j].style.width=i+"px";h[j].style.height=g+"px"}this.rootGroup.coordsize=i+" "+g;this.rootGroup.style.width=i+"px";this.rootGroup.style.height=g+"px"}}this.width=i;this.height=g};