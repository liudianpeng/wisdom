createClass=function(){var a,b;a=function(){this.init.apply(this,arguments)};if(arguments.length>1){if(arguments[0]){a.prototype=$.extend(new arguments[0](),arguments[arguments.length-1]);a._super=arguments[0].prototype}else{a.prototype=arguments[arguments.length-1]}if(arguments.length>2){b=Array.prototype.slice.call(arguments,1,-1);b.unshift(a.prototype);$.extend.apply($,b)}}else{a.prototype=arguments[0]}a.prototype.cls=a;return a};$.SPFormatClass=SPFormat=createClass({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(b,a){this.format=b;this.fclass=a},render:function(i,g,j){var h=this,f=i,e,b,c,d,a;return this.format.replace(this.fre,function(){var k;b=arguments[1];c=arguments[3];e=h.precre.exec(b);if(e){a=e[2];b=e[1]}else{a=false}d=f[b];if(d===undefined){return""}if(c&&g&&g[c]){k=g[c];if(k.get){return g[c].get(d)||d}else{return g[c][d]||d}}if(isNumber(d)){if(j.get("numberFormatter")){d=j.get("numberFormatter")(d)}else{d=formatNumber(d,a,j.get("numberDigitGroupCount"),j.get("numberDigitGroupSep"),j.get("numberDecimalMark"))}}return d})}});$.spformat=function(b,a){return new SPFormat(b,a)};clipval=function(c,b,a){if(c<b){return b}if(c>a){return a}return c};quartile=function(a,c){var b;if(c===2){b=Math.floor(a.length/2);return a.length%2?a[b]:(a[b-1]+a[b])/2}else{if(a.length%2){b=(a.length*c+c)/4;return b%1?(a[Math.floor(b)]+a[Math.floor(b)-1])/2:a[b-1]}else{b=(a.length*c+2)/4;return b%1?(a[Math.floor(b)]+a[Math.floor(b)-1])/2:a[b-1]}}};normalizeValue=function(b){var a;switch(b){case"undefined":b=undefined;break;case"null":b=null;break;case"true":b=true;break;case"false":b=false;break;default:a=parseFloat(b);if(b==a){b=a}}return b};normalizeValues=function(c){var b,a=[];for(b=c.length;b--;){a[b]=normalizeValue(c[b])}return a};remove=function(e,c){var b,d,a=[];for(b=0,d=e.length;b<d;b++){if(e[b]!==c){a.push(e[b])}}return a};isNumber=function(a){return !isNaN(parseFloat(a))&&isFinite(a)};formatNumber=function(c,b,a,f,e){var g,d;c=(b===false?parseFloat(c).toString():c.toFixed(b)).split("");g=(g=$.inArray(".",c))<0?c.length:g;if(g<c.length){c[g]=e}for(d=g-a;d>0;d-=a){c.splice(d,0,f)}return c.join("")};all=function(d,b,a){var c;for(c=b.length;c--;){if(a&&b[c]===null){continue}if(b[c]!==d){return false}}return true};sum=function(c){var b=0,a;for(a=c.length;a--;){b+=typeof c[a]==="number"?c[a]:0}return b};ensureArray=function(a){return $.isArray(a)?a:[a]};addCSS=function(b){var a,d;if(document.createStyleSheet){try{document.createStyleSheet().cssText=b;return}catch(c){d=true}}a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);if(d){document.styleSheets[document.styleSheets.length-1].cssText=b}else{a[(typeof document.body.style.WebkitAppearance=="string")?"innerText":"innerHTML"]=b}};