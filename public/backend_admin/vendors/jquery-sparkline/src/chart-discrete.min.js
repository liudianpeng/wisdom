$.fn.sparkline.discrete=discrete=createClass($.fn.sparkline._base,barHighlightMixin,{type:"discrete",init:function(e,b,c,d,a){discrete._super.init.call(this,e,b,c,d,a);this.regionShapes={};this.values=b=$.map(b,Number);this.min=Math.min.apply(Math,b);this.max=Math.max.apply(Math,b);this.range=this.max-this.min;this.width=d=c.get("width")==="auto"?b.length*2:this.width;this.interval=Math.floor(d/b.length);this.itemWidth=d/b.length;if(c.get("chartRangeMin")!==undefined&&(c.get("chartRangeClip")||c.get("chartRangeMin")<this.min)){this.min=c.get("chartRangeMin")}if(c.get("chartRangeMax")!==undefined&&(c.get("chartRangeClip")||c.get("chartRangeMax")>this.max)){this.max=c.get("chartRangeMax")}this.initTarget();if(this.target){this.lineHeight=c.get("lineHeight")==="auto"?Math.round(this.canvasHeight*0.3):c.get("lineHeight")}},getRegion:function(b,a,c){return Math.floor(a/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===undefined,value:this.values[a],offset:a}},renderRegion:function(i,d){var o=this.values,p=this.options,f=this.min,l=this.max,h=this.range,b=this.interval,k=this.target,g=this.canvasHeight,n=this.lineHeight,j=g-n,a,c,e,m;c=clipval(o[i],f,l);m=i*b;a=Math.round(j-j*((c-f)/h));e=(p.get("thresholdColor")&&c<p.get("thresholdValue"))?p.get("thresholdColor"):p.get("lineColor");if(d){e=this.calcHighlightColor(e,p)}return k.drawLine(m,a,m,a+n,e)}});