module("Decorators");var Utils=require("select2/utils");test("overridden - method",function(a){function c(){}c.prototype.hello=function(){return"A"};function d(){}d.prototype.hello=function(){return"B"};var b=Utils.Decorate(c,d);var e=new b();a.strictEqual(e.hello(),"B")});test("overridden - constructor",function(a){function c(){this.inherited=true}c.prototype.hello=function(){return"A"};function d(f){this.called=true}d.prototype.other=function(){return"B"};var b=Utils.Decorate(c,d);var e=new b();a.ok(e.called);a.ok(!e.inherited)});test("not overridden - method",function(a){function c(){}c.prototype.hello=function(){return"A"};function d(){}d.prototype.other=function(){return"B"};var b=Utils.Decorate(c,d);var e=new b();a.strictEqual(e.hello(),"A")});test("not overridden - constructor",function(a){function c(){this.called=true}c.prototype.hello=function(){return"A"};function d(){}d.prototype.other=function(){return"B"};var b=Utils.Decorate(c,d);var e=new b();a.ok(e.called)});test("inherited - method",function(a){function c(){}c.prototype.hello=function(){return"A"};function d(f){}d.prototype.hello=function(f){return"B"+f.call(this)+"C"};var b=Utils.Decorate(c,d);var e=new b();a.strictEqual(e.hello(),"BAC")});test("inherited - constructor",function(a){function c(){this.inherited=true}c.prototype.hello=function(){return"A"};function d(f){this.called=true;f.call(this)}d.prototype.other=function(){return"B"};var b=Utils.Decorate(c,d);var e=new b();a.ok(e.called);a.ok(e.inherited)});test("inherited - three levels",function(a){function e(h){this.baseCalled=true;this.baseTestArgument=h}e.prototype.test=function(h){return h+"c"};function d(h,i){this.middleCalled=true;this.middleTestArgument=i;h.call(this,i)}d.prototype.test=function(i,h){return i.call(this,h+"b")};function f(h,i){this.decoratorCalled=true;this.decoratorTestArgument=i;h.call(this,i)}f.prototype.test=function(i,h){return i.call(this,h+"a")};var b=Utils.Decorate(Utils.Decorate(e,d),f);var g=new b("test");a.ok(g.baseCalled,"The base class contructor was called");a.ok(g.middleCalled,"The middle class constructor was called");a.ok(g.decoratorCalled,"The decorator constructor was called");a.strictEqual(g.baseTestArgument,"test");a.strictEqual(g.middleTestArgument,"test");a.strictEqual(g.decoratorTestArgument,"test");var c=g.test("test");a.strictEqual(c,"testabc")});