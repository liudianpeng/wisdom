/*
 * QUnit 1.23.1
 * https://qunitjs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-04-12T17:29Z
 */
(function(c){var y={};var I=c.Date;var L=I.now||function(){return new I().getTime()};var H=c.setTimeout;var z=c.clearTimeout;var J=c.window;var O={document:J&&J.document!==undefined,setTimeout:H!==undefined,sessionStorage:(function(){var V="qunit-test-string";try{sessionStorage.setItem(V,V);sessionStorage.removeItem(V);return true}catch(W){return false}}())};var w=(N(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,"");var r=false;var b=false;var f=Object.prototype.toString,m=Object.prototype.hasOwnProperty;function C(X,W){var Z,Y,V=X.slice();for(Z=0;Z<V.length;Z++){for(Y=0;Y<W.length;Y++){if(V[Z]===W[Y]){V.splice(Z,1);Z--;break}}}return V}function R(X,Y){if(Y.indexOf){return Y.indexOf(X)}for(var V=0,W=Y.length;V<W;V++){if(Y[V]===X){return V}}return -1}function g(X){var V,Y,W=y.is("array",X)?[]:{};for(V in X){if(m.call(X,V)){Y=X[V];W[V]=Y===Object(Y)?g(Y):Y}}return W}function q(W,V,X){for(var Y in V){if(m.call(V,Y)){if(Y!=="constructor"||W!==c){if(V[Y]===undefined){delete W[Y]}else{if(!(X&&typeof W[Y]!=="undefined")){W[Y]=V[Y]}}}}}return W}function F(X){if(typeof X==="undefined"){return"undefined"}if(X===null){return"null"}var V=f.call(X).match(/^\[object\s(.*)\]$/),W=V&&V[1];switch(W){case"Number":if(isNaN(X)){return"nan"}return"number";case"String":case"Boolean":case"Array":case"Set":case"Map":case"Date":case"RegExp":case"Function":case"Symbol":return W.toLowerCase()}if(typeof X==="object"){return"object"}}function B(V,W){return y.objectType(W)===V}function l(Y,Z){Z=Z===undefined?4:Z;var W,V,X;if(Y.stack){W=Y.stack.split("\n");if(/^error$/i.test(W[0])){W.shift()}if(w){V=[];for(X=Z;X<W.length;X++){if(W[X].indexOf(w)!==-1){break}V.push(W[X])}if(V.length){return V.join("\n")}}return W[Z]}else{if(Y.sourceURL){if(/qunit.js$/.test(Y.sourceURL)){return}return Y.sourceURL+":"+Y.line}}}function N(X){var V=new Error();if(!V.stack){try{throw V}catch(W){V=W}}return l(V,X)}var G={queue:[],blocking:true,reorder:true,altertitle:true,collapse:true,scrolltop:true,maxDepth:5,requireExpects:false,urlConfig:[],modules:[],moduleStack:[],currentModule:{name:"",tests:[]},callbacks:{}};G.modules.push(G.currentModule);var E={};function K(aa){var Y,V,X,W=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];function Z(ac){var ab=function(ad){if(F(ad)!=="function"){throw new Error("QUnit logging methods require a callback function as their first parameters.")}G.callbacks[ac].push(ad)};E[ac]=ab;return ab}for(Y=0,V=W.length;Y<V;Y++){X=W[Y];if(F(G.callbacks[X])==="undefined"){G.callbacks[X]=[]}aa[X]=Z(X)}}function A(Y,W){var X,V,Z;Z=G.callbacks[Y];for(X=0,V=Z.length;X<V;X++){Z[X](W)}}function U(){var W,V;for(W in E){if(y[W]!==E[W]){V=y[W];y[W]=E[W];y[W](V);if(c.console&&c.console.warn){c.console.warn("QUnit."+W+" was replaced with a new value.\nPlease, check out the documentation on how to apply logging callbacks.\nReference: https://api.qunitjs.com/category/callbacks/")}}}}(function(){if(!O.document){return}var V=J.onerror;J.onerror=function(Y,Z,W){var X=false;if(V){X=V(Y,Z,W)}if(X!==true){if(y.config.current){if(y.config.current.ignoreGlobalErrors){return true}y.pushFailure(Y,Z+":"+W)}else{y.test("global failure",q(function(){y.pushFailure(Y,Z+":"+W)},{validTest:true}))}return false}return X}}());y.isLocal=!(O.document&&J.location.protocol!=="file:");y.version="1.23.1";q(y,{module:function(aa,ac,Z){var ab,V;var X=G.currentModule;if(arguments.length===2){if(F(ac)==="function"){Z=ac;ac=undefined}}if(ac&&ac.setup){ac.beforeEach=ac.setup;delete ac.setup}if(ac&&ac.teardown){ac.afterEach=ac.teardown;delete ac.teardown}ab=W();V={beforeEach:a(ab,"beforeEach"),afterEach:a(ab,"afterEach")};if(F(Z)==="function"){G.moduleStack.push(ab);Y(ab);Z.call(ab.testEnvironment,V);G.moduleStack.pop();ab=ab.parentModule||X}Y(ab);function W(){var ag=G.moduleStack.length?G.moduleStack.slice(-1)[0]:null;var ad=ag!==null?[ag.name,aa].join(" > "):aa;var ae={name:ad,parentModule:ag,tests:[],moduleId:D(ad)};var af={};if(ag){q(af,ag.testEnvironment);delete af.beforeEach;delete af.afterEach}q(af,ac);ae.testEnvironment=af;G.modules.push(ae);return ae}function Y(ad){G.currentModule=ad}},asyncTest:u,test:j,skip:v,only:t,start:function(W){var V=r;if(!G.current){r=true;if(b){throw new Error("Called start() outside of a test context while already started")}else{if(V||W>1){throw new Error("Called start() outside of a test context too many times")}else{if(G.autostart){throw new Error("Called start() outside of a test context when QUnit.config.autostart was true")}else{if(!G.pageLoaded){G.autostart=true;return}}}}}else{G.current.semaphore-=W||1;if(isNaN(G.current.semaphore)){G.current.semaphore=0;y.pushFailure("Called start() with a non-numeric decrement.",N(2));return}if(G.current.semaphore>0){return}if(G.current.semaphore<0){G.current.semaphore=0;y.pushFailure("Called start() while already started (test's semaphore was 0 already)",N(2));return}}Q()},stop:function(V){if(!G.current){throw new Error("Called stop() outside of a test context")}G.current.semaphore+=V||1;k()},config:G,is:B,objectType:F,extend:q,load:function(){G.pageLoaded=true;q(G,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:0,updateRate:1000,autostart:true,filter:""},true);G.blocking=false;if(G.autostart){Q()}},stack:function(V){V=(V||0)+2;return N(V)}});K(y);function s(){var X,W,V=[];if(!G.started){G.started=L();U();if(G.modules[0].name===""&&G.modules[0].tests.length===0){G.modules.shift()}for(X=0,W=G.modules.length;X<W;X++){V.push({name:G.modules[X].name,tests:G.modules[X].tests})}A("begin",{totalTests:d.count,modules:V})}G.blocking=false;T(true)}function T(W){function V(){T(W)}var X=L();G.depth=(G.depth||0)+1;while(G.queue.length&&!G.blocking){if(!O.setTimeout||G.updateRate<=0||((L()-X)<G.updateRate)){if(G.current){G.current.usedAsync=false}G.queue.shift()()}else{H(V,13);break}}G.depth--;if(W&&!G.blocking&&!G.queue.length&&G.depth===0){o()}}function k(){G.blocking=true;if(G.testTimeout&&O.setTimeout){z(G.timeout);G.timeout=H(function(){if(G.current){G.current.semaphore=0;y.pushFailure("Test timed out",N(2))}else{throw new Error("Test timed out")}Q()},G.testTimeout)}}function Q(){b=true;if(O.setTimeout){H(function(){if(G.current&&G.current.semaphore>0){return}if(G.timeout){z(G.timeout)}s()},13)}else{s()}}function o(){var V,W;G.autorun=true;if(G.previousModule){A("moduleDone",{name:G.previousModule.name,tests:G.previousModule.tests,failed:G.moduleStats.bad,passed:G.moduleStats.all-G.moduleStats.bad,total:G.moduleStats.all,runtime:L()-G.moduleStats.started})}delete G.previousModule;V=L()-G.started;W=G.stats.all-G.stats.bad;A("done",{failed:G.stats.bad,passed:W,total:G.stats.all,runtime:V})}function a(W,V){if(W.testEnvironment===undefined){W.testEnvironment={}}return function(X){W.testEnvironment[V]=X}}var i=false;var S=0;var x;function d(X){var W,V;++d.count;q(this,X);this.assertions=[];this.semaphore=0;this.usedAsync=false;this.module=G.currentModule;this.stack=N(3);for(W=0,V=this.module.tests;W<V.length;W++){if(this.module.tests[W].name===this.testName){this.testName+=" "}}this.testId=D(this.module.name,this.testName);this.module.tests.push({name:this.testName,testId:this.testId});if(X.skip){this.callback=function(){};this.async=false;this.expected=0}else{this.assert=new h(this)}}d.count=0;d.prototype={before:function(){if(this.module!==G.previousModule||!m.call(G,"previousModule")){if(m.call(G,"previousModule")){A("moduleDone",{name:G.previousModule.name,tests:G.previousModule.tests,failed:G.moduleStats.bad,passed:G.moduleStats.all-G.moduleStats.bad,total:G.moduleStats.all,runtime:L()-G.moduleStats.started})}G.previousModule=this.module;G.moduleStats={all:0,bad:0,started:L()};A("moduleStart",{name:this.module.name,tests:this.module.tests})}G.current=this;if(this.module.testEnvironment){delete this.module.testEnvironment.beforeEach;delete this.module.testEnvironment.afterEach}this.testEnvironment=q({},this.module.testEnvironment);this.started=L();A("testStart",{name:this.testName,module:this.module.name,testId:this.testId});if(!G.pollution){n()}},run:function(){var X;G.current=this;if(this.async){y.stop()}this.callbackStarted=L();if(G.notrycatch){V(this);return}try{V(this)}catch(W){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(W.message||W),l(W,0));n();if(G.blocking){y.start()}}function V(Y){X=Y.callback.call(Y.testEnvironment,Y.assert);Y.resolvePromise(X)}},after:function(){M()},queueHook:function(X,W){var Y,Z=this;return function V(){G.current=Z;if(G.notrycatch){aa();return}try{aa()}catch(ab){Z.pushFailure(W+" failed on "+Z.testName+": "+(ab.message||ab),l(ab,0))}function aa(){Y=X.call(Z.testEnvironment,Z.assert);Z.resolvePromise(Y,W)}}},hooks:function(W){var V=[];function X(Z,Y){if(Y.parentModule){X(Z,Y.parentModule)}if(Y.testEnvironment&&y.objectType(Y.testEnvironment[W])==="function"){V.push(Z.queueHook(Y.testEnvironment[W],W))}}if(!this.skip){X(this,this.module)}return V},finish:function(){G.current=this;if(G.requireExpects&&this.expected===null){this.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack)}else{if(this.expected!==null&&this.expected!==this.assertions.length){this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack)}else{if(this.expected===null&&!this.assertions.length){this.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack)}}}var V,W=0;this.runtime=L()-this.started;G.stats.all+=this.assertions.length;G.moduleStats.all+=this.assertions.length;for(V=0;V<this.assertions.length;V++){if(!this.assertions[V].result){W++;G.stats.bad++;G.moduleStats.bad++}}A("testDone",{name:this.testName,module:this.module.name,skipped:!!this.skip,failed:W,passed:this.assertions.length-W,total:this.assertions.length,runtime:this.runtime,assertions:this.assertions,testId:this.testId,source:this.stack,duration:this.runtime});y.reset();G.current=undefined},queue:function(){var V,X=this;if(!this.valid()){return}function W(){P([function(){X.before()},X.hooks("beforeEach"),function(){X.run()},X.hooks("afterEach").reverse(),function(){X.after()},function(){X.finish()}])}V=y.config.reorder&&O.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module.name+"-"+this.testName);return P(W,V,G.seed)},pushResult:function(W){var X,V={module:this.module.name,name:this.testName,result:W.result,message:W.message,actual:W.actual,expected:W.expected,testId:this.testId,negative:W.negative||false,runtime:L()-this.started};if(!W.result){X=N();if(X){V.source=X}}A("log",V);this.assertions.push({result:!!W.result,message:W.message})},pushFailure:function(W,X,Y){if(!(this instanceof d)){throw new Error("pushFailure() assertion outside test context, was "+N(2))}var V={module:this.module.name,name:this.testName,result:false,message:W||"error",actual:Y||null,testId:this.testId,runtime:L()-this.started};if(X){V.source=X}A("log",V);this.assertions.push({result:false,message:W})},resolvePromise:function(Y,V){var X,W,Z=this;if(Y!=null){X=Y.then;if(y.objectType(X)==="function"){y.stop();X.call(Y,function(){y.start()},function(aa){W="Promise rejected "+(!V?"during":V.replace(/Each$/,""))+" "+Z.testName+": "+(aa.message||aa);Z.pushFailure(W,l(aa,0));n();y.start()})}}},valid:function(){var Y=G.filter,W=/^(!?)\/([\w\W]*)\/(i?$)/.exec(Y),X=G.module&&G.module.toLowerCase(),aa=(this.module.name+": "+this.testName);function V(ab){var ac=ab.name?ab.name.toLowerCase():null;if(ac===X){return true}else{if(ab.parentModule){return V(ab.parentModule)}else{return false}}}function Z(ab){return R(ab.moduleId,G.moduleId)>-1||ab.parentModule&&Z(ab.parentModule)}if(this.callback&&this.callback.validTest){return true}if(G.moduleId&&G.moduleId.length>0&&!Z(this.module)){return false}if(G.testId&&G.testId.length>0&&R(this.testId,G.testId)<0){return false}if(X&&!V(this.module)){return false}if(!Y){return true}return W?this.regexFilter(!!W[1],W[2],W[3],aa):this.stringFilter(Y,aa)},regexFilter:function(W,Z,V,aa){var Y=new RegExp(Z,V);var X=Y.test(aa);return X!==W},stringFilter:function(W,X){W=W.toLowerCase();X=X.toLowerCase();var V=W.charAt(0)!=="!";if(!V){W=W.slice(1)}if(X.indexOf(W)!==-1){return V}return !V}};y.reset=function(){if(!O.document){return}var V=O.document&&document.getElementById&&document.getElementById("qunit-fixture");if(V){V.innerHTML=G.fixture}};y.pushFailure=function(){if(!y.config.current){throw new Error("pushFailure() assertion outside test context, in "+N(2))}var V=y.config.current;return V.pushFailure.apply(V,arguments)};function D(Y,W){var Z,X=0,aa=0,ab=Y+"\x1C"+W,V=ab.length;for(;X<V;X++){aa=((aa<<5)-aa)+ab.charCodeAt(X);aa|=0}Z=(4294967296+aa).toString(16);if(Z.length<8){Z="0000000"+Z}return Z.slice(-8)}function P(Z,X,V){var Y=!X,W;if(y.objectType(Z)==="array"){while(Z.length){P(Z.shift())}return}if(X){G.queue.splice(S++,0,Z)}else{if(V){if(!x){x=p(V)}W=Math.floor(x()*(G.queue.length-S+1));G.queue.splice(S+W,0,Z)}else{G.queue.push(Z)}}if(G.autorun&&!G.blocking){T(Y)}}function p(V){var W=parseInt(D(V),16)||-1;return function(){W^=W<<13;W^=W>>>17;W^=W<<5;if(W<0){W+=4294967296}return W/4294967296}}function n(){G.pollution=[];if(G.noglobals){for(var V in c){if(m.call(c,V)){if(/^qunit-test-output/.test(V)){continue}G.pollution.push(V)}}}}function M(){var W,X,V=G.pollution;n();W=C(G.pollution,V);if(W.length>0){y.pushFailure("Introduced global variable(s): "+W.join(", "))}X=C(V,G.pollution);if(X.length>0){y.pushFailure("Deleted global variable(s): "+X.join(", "))}}function u(V,W,X){if(arguments.length===2){X=W;W=null}y.test(V,W,X,true)}function j(V,X,Z,W){if(i){return}var Y;if(arguments.length===2){Z=X;X=null}Y=new d({testName:V,expected:X,async:W,callback:Z});Y.queue()}function v(V){if(i){return}var W=new d({testName:V,skip:true});W.queue()}function t(V,X,Z,W){var Y;if(i){return}y.config.queue.length=0;i=true;if(arguments.length===2){Z=X;X=null}Y=new d({testName:V,expected:X,async:W,callback:Z});Y.queue()}function h(V){this.test=V}y.assert=h.prototype={expect:function(V){if(arguments.length===1){this.test.expected=V}else{return this.test.expected}},async:function(X){var Z=this.test,W=false,Y=X;if(typeof Y==="undefined"){Y=1}Z.semaphore+=1;Z.usedAsync=true;k();return function V(){if(W){Z.pushFailure("Too many calls to the `assert.async` callback",N(2));return}Y-=1;if(Y>0){return}Z.semaphore-=1;W=true;Q()}},push:function(V,aa,Y,X,W){var Z=this instanceof h?this:y.config.current.assert;return Z.pushResult({result:V,actual:aa,expected:Y,message:X,negative:W})},pushResult:function(W){var V=this,X=(V instanceof h&&V.test)||y.config.current;if(!X){throw new Error("assertion outside test context, in "+N(2))}if(X.usedAsync===true&&X.semaphore===0){X.pushFailure("Assertion after the final `assert.async` was resolved",N(2))}if(!(V instanceof h)){V=X.assert}return V.test.pushResult(W)},ok:function(V,W){W=W||(V?"okay":"failed, expected argument to be truthy, was: "+y.dump.parse(V));this.pushResult({result:!!V,actual:V,expected:true,message:W})},notOk:function(V,W){W=W||(!V?"okay":"failed, expected argument to be falsy, was: "+y.dump.parse(V));this.pushResult({result:!V,actual:V,expected:false,message:W})},equal:function(X,W,V){this.pushResult({result:W==X,actual:X,expected:W,message:V})},notEqual:function(X,W,V){this.pushResult({result:W!=X,actual:X,expected:W,message:V,negative:true})},propEqual:function(X,W,V){X=g(X);W=g(W);this.pushResult({result:y.equiv(X,W),actual:X,expected:W,message:V})},notPropEqual:function(X,W,V){X=g(X);W=g(W);this.pushResult({result:!y.equiv(X,W),actual:X,expected:W,message:V,negative:true})},deepEqual:function(X,W,V){this.pushResult({result:y.equiv(X,W),actual:X,expected:W,message:V})},notDeepEqual:function(X,W,V){this.pushResult({result:!y.equiv(X,W),actual:X,expected:W,message:V,negative:true})},strictEqual:function(X,W,V){this.pushResult({result:W===X,actual:X,expected:W,message:V})},notStrictEqual:function(X,W,V){this.pushResult({result:W!==X,actual:X,expected:W,message:V,negative:true})},"throws":function(W,Y,ad){var ab,V,ac=Y,aa=false,X=(this instanceof h&&this.test)||y.config.current;if(ad==null&&typeof Y==="string"){ad=Y;Y=null}X.ignoreGlobalErrors=true;try{W.call(X.testEnvironment)}catch(Z){ab=Z}X.ignoreGlobalErrors=false;if(ab){V=y.objectType(Y);if(!Y){aa=true;ac=null}else{if(V==="regexp"){aa=Y.test(e(ab))}else{if(V==="string"){aa=Y===e(ab)}else{if(V==="function"&&ab instanceof Y){aa=true}else{if(V==="object"){aa=ab instanceof Y.constructor&&ab.name===Y.name&&ab.message===Y.message}else{if(V==="function"&&Y.call({},ab)===true){ac=null;aa=true}}}}}}}X.assert.pushResult({result:aa,actual:ab,expected:ac,message:ad})}};(function(){h.prototype.raises=h.prototype["throws"]}());function e(X){var W,Y,V=X.toString();if(V.substring(0,7)==="[object"){W=X.name?X.name.toString():"Error";Y=X.message?X.message.toString():"";if(W&&Y){return W+": "+Y}else{if(W){return W}else{if(Y){return Y}else{return"Error"}}}}else{return V}}y.equiv=(function(){var X=[];var ad=[];var aa=[];var V=Object.getPrototypeOf||function(af){return af.__proto__};function ae(af,ag){if(typeof ag==="object"){ag=ag.valueOf()}if(typeof af==="object"){af=af.valueOf()}return ag===af}function Y(ag,af){var ai=V(ag);var ah=V(af);if(ag.constructor===af.constructor){return true}if(ai&&ai.constructor===null){ai=null}if(ah&&ah.constructor===null){ah=null}if((ai===null&&ah===Object.prototype)||(ah===null&&ai===Object.prototype)){return true}return false}function Z(af){return"flags" in af?af.flags:af.toString().match(/[gimuy]*$/)[0]}var ac={string:ae,"boolean":ae,number:ae,"null":ae,"undefined":ae,symbol:ae,date:ae,nan:function(){return true},regexp:function(af,ag){return ag.source===af.source&&Z(ag)===Z(af)},"function":function(){var af=X[X.length-1];return af!==Object&&typeof af!=="undefined"},array:function(ag,ai){var al,aj,af,ah,am,ak;af=ai.length;if(af!==ag.length){return false}ad.push(ai);aa.push(ag);for(al=0;al<af;al++){ah=false;for(aj=0;aj<ad.length;aj++){am=ad[aj]===ai[al];ak=aa[aj]===ag[al];if(am||ak){if(ai[al]===ag[al]||am&&ak){ah=true}else{ad.pop();aa.pop();return false}}}if(!ah&&!W(ai[al],ag[al])){ad.pop();aa.pop();return false}}ad.pop();aa.pop();return true},set:function(af,ag){var ah,ai=true;if(ag.size!==af.size){return false}ag.forEach(function(aj){ah=false;af.forEach(function(ak){if(W(ak,aj)){ah=true}});if(!ah){ai=false}});return ai},map:function(af,ag){var ah,ai=true;if(ag.size!==af.size){return false}ag.forEach(function(aj,ak){ah=false;af.forEach(function(am,al){if(W([am,al],[aj,ak])){ah=true}});if(!ah){ai=false}});return ai},object:function(ak,al){var ah,ag,aj,ai,an;var ao=true;var af=[];var am=[];if(Y(al,ak)===false){return false}X.push(al.constructor);ad.push(al);aa.push(ak);for(ah in al){aj=false;for(ag=0;ag<ad.length;ag++){ai=ad[ag]===al[ah];an=aa[ag]===ak[ah];if(ai||an){if(al[ah]===ak[ah]||ai&&an){aj=true}else{ao=false;break}}}af.push(ah);if(!aj&&!W(al[ah],ak[ah])){ao=false;break}}ad.pop();aa.pop();X.pop();for(ah in ak){am.push(ah)}return ao&&W(af.sort(),am.sort())}};function ab(ag,af){var ah=y.objectType(ag);return y.objectType(af)===ah&&ac[ah](af,ag)}function W(ag,af){if(arguments.length<2){return true}return(ag===af||ab(ag,af))&&(arguments.length===2||W.apply(this,[].slice.call(arguments,1)))}return W}());y.dump=(function(){function V(ab){return'"'+ab.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function W(ab){return ab+""}function Y(ag,ab,ad){var ae=X.separator(),af=X.indent(),ac=X.indent(1);if(ab.join){ab=ab.join(","+ae+ac)}if(!ab){return ag+ad}return[ag,ac+ab,af+ad].join(ae)}function aa(ac,ab){var ae=ac.length,ad=new Array(ae);if(X.maxDepth&&X.depth>X.maxDepth){return"[object Array]"}this.up();while(ae--){ad[ae]=this.parse(ac[ae],undefined,ab)}this.down();return Y("[",ad,"]")}var Z=/^function (\w+)/,X={parse:function(af,ag,ab){ab=ab||[];var ad,ah,ac,ae=R(af,ab);if(ae!==-1){return"recursion("+(ae-ab.length)+")"}ag=ag||this.typeOf(af);ah=this.parsers[ag];ac=typeof ah;if(ac==="function"){ab.push(af);ad=ah.call(this,af,ab);ab.pop();return ad}return(ac==="string")?ah:this.parsers.error},typeOf:function(ac){var ab;if(ac===null){ab="null"}else{if(typeof ac==="undefined"){ab="undefined"}else{if(y.is("regexp",ac)){ab="regexp"}else{if(y.is("date",ac)){ab="date"}else{if(y.is("function",ac)){ab="function"}else{if(ac.setInterval!==undefined&&ac.document!==undefined&&ac.nodeType===undefined){ab="window"}else{if(ac.nodeType===9){ab="document"}else{if(ac.nodeType){ab="node"}else{if(f.call(ac)==="[object Array]"||(typeof ac.length==="number"&&ac.item!==undefined&&(ac.length?ac.item(0)===ac[0]:(ac.item(0)===null&&ac[0]===undefined)))){ab="array"}else{if(ac.constructor===Error.prototype.constructor){ab="error"}else{ab=typeof ac}}}}}}}}}}return ab},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&#160;":" "},indent:function(ab){if(!this.multiline){return""}var ac=this.indentChar;if(this.HTML){ac=ac.replace(/\t/g,"   ").replace(/ /g,"&#160;")}return new Array(this.depth+(ab||0)).join(ac)},up:function(ab){this.depth+=ab||1},down:function(ab){this.depth-=ab||1},setParser:function(ab,ac){this.parsers[ab]=ac},quote:V,literal:W,join:Y,depth:1,maxDepth:y.config.maxDepth,parsers:{window:"[Window]",document:"[Document]",error:function(ab){return'Error("'+ab.message+'")'},unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(ad){var ac="function",ab="name" in ad?ad.name:(Z.exec(ad)||[])[1];if(ab){ac+=" "+ab}ac+="(";ac=[ac,X.parse(ad,"functionArgs"),"){"].join("");return Y(ac,X.parse(ad,"functionCode"),"}")},array:aa,nodelist:aa,"arguments":aa,object:function(ah,ab){var af,ae,ai,ad,ag,ac=[];if(X.maxDepth&&X.depth>X.maxDepth){return"[object Object]"}X.up();af=[];for(ae in ah){af.push(ae)}ag=["message","name"];for(ad in ag){ae=ag[ad];if(ae in ah&&R(ae,af)<0){af.push(ae)}}af.sort();for(ad=0;ad<af.length;ad++){ae=af[ad];ai=ah[ae];ac.push(X.parse(ae,"key")+": "+X.parse(ai,undefined,ab))}X.down();return Y("{",ac,"}")},node:function(ac){var af,ad,ab,ae=X.HTML?"&lt;":"<",ai=X.HTML?"&gt;":">",aj=ac.nodeName.toLowerCase(),ag=ae+aj,ah=ac.attributes;if(ah){for(ad=0,af=ah.length;ad<af;ad++){ab=ah[ad].nodeValue;if(ab&&ab!=="inherit"){ag+=" "+ah[ad].nodeName+"="+X.parse(ab,"attribute")}}}ag+=ai;if(ac.nodeType===3||ac.nodeType===4){ag+=ac.nodeValue}return ag+ae+"/"+aj+ai},functionArgs:function(ad){var ac,ab=ad.length;if(!ab){return""}ac=new Array(ab);while(ab--){ac[ab]=String.fromCharCode(97+ab)}return" "+ac.join(", ")+" "},key:V,functionCode:"[code]",attribute:V,string:V,date:V,regexp:W,number:W,"boolean":W},HTML:false,indentChar:"  ",multiline:true};return X}());y.jsDump=y.dump;(function(){var W,X=h.prototype;function V(Y){return function(){var Z=new h(y.config.current);Y.apply(Z,arguments)}}for(W in X){y[W]=V(X[W])}}());if(O.document){(function(){var W,V,X=["test","module","expect","asyncTest","start","stop","ok","notOk","equal","notEqual","propEqual","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","raises"];for(W=0,V=X.length;W<V;W++){J[X[W]]=y[X[W]]}}());J.QUnit=y}if(typeof module!=="undefined"&&module&&module.exports){module.exports=y;module.exports.QUnit=y}if(typeof exports!=="undefined"&&exports){exports.QUnit=y}if(typeof define==="function"&&define.amd){define(function(){return y});y.config.autostart=false}}((function(){return this}())));(function(){var n=typeof window!=="undefined"&&window.location;if(!n){return}var u=w();QUnit.urlParams=u;QUnit.config.moduleId=[].concat(u.moduleId||[]);QUnit.config.testId=[].concat(u.testId||[]);QUnit.config.module=u.module;QUnit.config.filter=u.filter;if(u.seed===true){QUnit.config.seed=Math.random().toString(36).slice(2)}else{if(u.seed){QUnit.config.seed=u.seed}}QUnit.config.urlConfig.push({id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the global object (`window` in Browsers). Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."});QUnit.begin(function(){var N,O,P=QUnit.config.urlConfig;for(N=0;N<P.length;N++){O=QUnit.config.urlConfig[N];if(typeof O!=="string"){O=O.id}if(QUnit.config[O]===undefined){QUnit.config[O]=u[O]}}});function w(){var P,T,O,R;var N={};var S=n.search.slice(1).split("&");var Q=S.length;for(P=0;P<Q;P++){if(S[P]){T=S[P].split("=");O=decodeURIComponent(T[0]);R=T.length===1||decodeURIComponent(T.slice(1).join("="));if(N[O]){N[O]=[].concat(N[O],R)}else{N[O]=R}}}return N}if(typeof window==="undefined"||!window.document){return}QUnit.init=function(){var N=QUnit.config;N.stats={all:0,bad:0};N.moduleStats={all:0,bad:0};N.started=0;N.updateRate=1000;N.blocking=false;N.autostart=true;N.autorun=false;N.filter="";N.queue=[];M()};var z=QUnit.config,e=window.document,C=false,i=Object.prototype.hasOwnProperty,b=f({filter:undefined,module:undefined,moduleId:undefined,testId:undefined}),G={sessionStorage:(function(){var N="qunit-test-string";try{sessionStorage.setItem(N,N);sessionStorage.removeItem(N);return true}catch(O){return false}}())},x=[];function t(N){if(!N){return""}N=N+"";return N.replace(/['"<>&]/g,function(O){switch(O){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})}function h(P,O,N){if(P.addEventListener){P.addEventListener(O,N,false)}else{if(P.attachEvent){P.attachEvent("on"+O,function(){var Q=window.event;if(!Q.target){Q.target=Q.srcElement||e}N.call(P,Q)})}}}function o(N,Q,P){var O=N.length;while(O--){h(N[O],Q,P)}}function E(O,N){return(" "+O.className+" ").indexOf(" "+N+" ")>=0}function r(O,N){if(!E(O,N)){O.className+=(O.className?" ":"")+N}}function c(O,N,P){if(P||typeof P==="undefined"&&!E(O,N)){r(O,N)}else{l(O,N)}}function l(O,N){var P=" "+O.className+" ";while(P.indexOf(" "+N+" ")>=0){P=P.replace(" "+N+" "," ")}O.className=typeof P.trim==="function"?P.trim():P.replace(/^\s+|\s+$/g,"")}function y(N){return e.getElementById&&e.getElementById(N)}function a(){var P,O,U,T,R,Q=false,S=z.urlConfig,N="";for(P=0;P<S.length;P++){U=z.urlConfig[P];if(typeof U==="string"){U={id:U,label:U}}T=t(U.id);R=t(U.tooltip);if(!U.value||typeof U.value==="string"){N+="<input id='qunit-urlconfig-"+T+"' name='"+T+"' type='checkbox'"+(U.value?" value='"+t(U.value)+"'":"")+(z[U.id]?" checked='checked'":"")+" title='"+R+"' /><label for='qunit-urlconfig-"+T+"' title='"+R+"'>"+U.label+"</label>"}else{N+="<label for='qunit-urlconfig-"+T+"' title='"+R+"'>"+U.label+": </label><select id='qunit-urlconfig-"+T+"' name='"+T+"' title='"+R+"'><option></option>";if(QUnit.is("array",U.value)){for(O=0;O<U.value.length;O++){T=t(U.value[O]);N+="<option value='"+T+"'"+(z[U.id]===U.value[O]?(Q=true)&&" selected='selected'":"")+">"+T+"</option>"}}else{for(O in U.value){if(i.call(U.value,O)){N+="<option value='"+t(O)+"'"+(z[U.id]===O?(Q=true)&&" selected='selected'":"")+">"+t(U.value[O])+"</option>"}}}if(z[U.id]&&!Q){T=t(z[U.id]);N+="<option value='"+T+"' selected='selected' disabled='disabled'>"+T+"</option>"}N+="</select>"}}return N}function q(){var O,P,N,Q=this,R={};if("selectedIndex" in Q){P=Q.options[Q.selectedIndex].value||undefined}else{P=Q.checked?(Q.defaultValue||true):undefined}R[Q.name]=P;O=f(R);if("hidepassed"===Q.name&&"replaceState" in window.history){QUnit.urlParams[Q.name]=P;z[Q.name]=P||false;N=y("qunit-tests");if(N){c(N,"hidepass",P||false)}window.history.replaceState(null,"",O)}else{window.location=O}}function f(S){var R,O,Q,N="?",P=window.location;S=QUnit.extend(QUnit.extend({},QUnit.urlParams),S);for(R in S){if(i.call(S,R)&&S[R]!==undefined){O=[].concat(S[R]);for(Q=0;Q<O.length;Q++){N+=encodeURIComponent(R);if(O[Q]!==true){N+="="+encodeURIComponent(O[Q])}N+="&"}}}return P.protocol+"//"+P.host+P.pathname+N.slice(0,-1)}function F(){var N,P=y("qunit-modulefilter"),O=y("qunit-filter-input").value;N=P?decodeURIComponent(P.options[P.selectedIndex].value):undefined;window.location=f({module:(N==="")?undefined:N,filter:(O==="")?undefined:O,moduleId:undefined,testId:undefined})}function D(){var N=e.createElement("span");N.innerHTML=a();r(N,"qunit-url-config");o(N.getElementsByTagName("input"),"click",q);o(N.getElementsByTagName("select"),"change",q);return N}function H(){var Q=e.createElement("form"),O=e.createElement("label"),N=e.createElement("input"),P=e.createElement("button");r(Q,"qunit-filter");O.innerHTML="Filter: ";N.type="text";N.value=z.filter||"";N.name="filter";N.id="qunit-filter-input";P.innerHTML="Go";O.appendChild(N);Q.appendChild(O);Q.appendChild(P);h(Q,"submit",function(R){F();if(R&&R.preventDefault){R.preventDefault()}return false});return Q}function v(){var O,N="";if(!x.length){return false}N+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(QUnit.urlParams.module===undefined?"selected='selected'":"")+">< All Modules ></option>";for(O=0;O<x.length;O++){N+="<option value='"+t(encodeURIComponent(x[O]))+"' "+(QUnit.urlParams.module===x[O]?"selected='selected'":"")+">"+t(x[O])+"</option>"}N+="</select>";return N}function I(){var P=y("qunit-testrunner-toolbar"),N=e.createElement("span"),O=v();if(!P||!O){return false}N.setAttribute("id","qunit-modulefilter-container");N.innerHTML=O;h(N.lastChild,"change",F);P.appendChild(N)}function g(){var N=y("qunit-testrunner-toolbar");if(N){N.appendChild(D());N.appendChild(H());I()}}function L(){var N=y("qunit-header");if(N){N.innerHTML="<a href='"+t(b)+"'>"+N.innerHTML+"</a> "}}function d(){var N=y("qunit-banner");if(N){N.className=""}}function j(){var O=y("qunit-tests"),N=y("qunit-testresult");if(N){N.parentNode.removeChild(N)}if(O){O.innerHTML="";N=e.createElement("p");N.id="qunit-testresult";N.className="result";O.parentNode.insertBefore(N,O);N.innerHTML="Running...<br />&#160;"}}function s(){var N=y("qunit-fixture");if(N){z.fixture=N.innerHTML}}function K(){var N=QUnit.config.testId;if(!N||N.length<=0){return""}return"<div id='qunit-filteredTest'>Rerunning selected tests: "+t(N.join(", "))+" <a id='qunit-clearFilter' href='"+t(b)+"'>Run all tests</a></div>"}function A(){var N=y("qunit-userAgent");if(N){N.innerHTML="";N.appendChild(e.createTextNode("QUnit "+QUnit.version+"; "+navigator.userAgent))}}function M(){var N=y("qunit");if(N){N.innerHTML="<h1 id='qunit-header'>"+t(e.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div>"+K()+"<h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>"}L();d();j();A();g()}function p(P){var Q,O,N,S,T,R;for(Q=0,O=P.length;Q<O;Q++){R=P[Q];for(N=0,S=R.tests.length;N<S;N++){T=R.tests[N];m(T.name,T.testId,R.name)}}}function m(P,O,N){var T,S,U,R,Q=y("qunit-tests");if(!Q){return}T=e.createElement("strong");T.innerHTML=B(P,N);S=e.createElement("a");S.innerHTML="Rerun";S.href=f({testId:O});U=e.createElement("li");U.appendChild(T);U.appendChild(S);U.id="qunit-test-output-"+O;R=e.createElement("ol");R.className="qunit-assert-list";U.appendChild(R);Q.appendChild(U)}QUnit.begin(function(O){var N,Q,P;for(N=0;N<O.modules.length;N++){Q=O.modules[N];if(Q.name){x.push(Q.name)}}x.sort(function(S,R){return S.localeCompare(R)});s();M();p(O.modules);P=y("qunit-tests");if(P&&z.hidepassed){r(P,"hidepass")}});QUnit.done(function(R){var Q,P,N=y("qunit-banner"),S=y("qunit-tests"),O=["Tests completed in ",R.runtime," milliseconds.<br />","<span class='passed'>",R.passed,"</span> assertions of <span class='total'>",R.total,"</span> passed, <span class='failed'>",R.failed,"</span> failed."].join("");if(N){N.className=R.failed?"qunit-fail":"qunit-pass"}if(S){y("qunit-testresult").innerHTML=O}if(z.altertitle&&e.title){e.title=[(R.failed?"\u2716":"\u2714"),e.title.replace(/^[\u2714\u2716] /i,"")].join(" ")}if(z.reorder&&G.sessionStorage&&R.failed===0){for(Q=0;Q<sessionStorage.length;Q++){P=sessionStorage.key(Q++);if(P.indexOf("qunit-test-")===0){sessionStorage.removeItem(P)}}}if(z.scrolltop&&window.scrollTo){window.scrollTo(0,0)}});function B(N,O){var P="";if(O){P="<span class='module-name'>"+t(O)+"</span>: "}P+="<span class='test-name'>"+t(N)+"</span>";return P}QUnit.testStart(function(O){var N,Q,P;Q=y("qunit-test-output-"+O.testId);if(Q){Q.className="running"}else{m(O.name,O.testId,O.module)}N=y("qunit-testresult");if(N){P=QUnit.config.reorder&&G.sessionStorage&&+sessionStorage.getItem("qunit-test-"+O.module+"-"+O.name);N.innerHTML=(P?"Rerunning previously failed test: <br />":"Running: <br />")+B(O.name,O.module)}});function k(N){return N.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&quot;/g,"").replace(/\s+/g,"")}QUnit.log(function(N){var P,T,V,Q,U,S,R=false,O=y("qunit-test-output-"+N.testId);if(!O){return}V=t(N.message)||(N.result?"okay":"failed");V="<span class='test-message'>"+V+"</span>";V+="<span class='runtime'>@ "+N.runtime+" ms</span>";if(!N.result&&i.call(N,"expected")){if(N.negative){Q="NOT "+QUnit.dump.parse(N.expected)}else{Q=QUnit.dump.parse(N.expected)}U=QUnit.dump.parse(N.actual);V+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+t(Q)+"</pre></td></tr>";if(U!==Q){V+="<tr class='test-actual'><th>Result: </th><td><pre>"+t(U)+"</pre></td></tr>";if(!(/^(true|false)$/.test(U))&&!(/^(true|false)$/.test(Q))){S=QUnit.diff(Q,U);R=k(S).length!==k(Q).length+k(U).length}if(R){V+="<tr class='test-diff'><th>Diff: </th><td><pre>"+S+"</pre></td></tr>"}}else{if(Q.indexOf("[object Array]")!==-1||Q.indexOf("[object Object]")!==-1){V+="<tr class='test-message'><th>Message: </th><td>Diff suppressed as the depth of object is more than current max depth ("+QUnit.config.maxDepth+").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to  run with a higher max depth or <a href='"+t(f({maxDepth:-1}))+"'>Rerun</a> without max depth.</p></td></tr>"}else{V+="<tr class='test-message'><th>Message: </th><td>Diff suppressed as the expected and actual results have an equivalent serialization</td></tr>"}}if(N.source){V+="<tr class='test-source'><th>Source: </th><td><pre>"+t(N.source)+"</pre></td></tr>"}V+="</table>"}else{if(!N.result&&N.source){V+="<table><tr class='test-source'><th>Source: </th><td><pre>"+t(N.source)+"</pre></td></tr></table>"}}P=O.getElementsByTagName("ol")[0];T=e.createElement("li");T.className=N.result?"pass":"fail";T.innerHTML=V;P.appendChild(T)});QUnit.testDone(function(N){var X,R,U,T,S,Q,V,W,O,P=y("qunit-tests");if(!P){return}U=y("qunit-test-output-"+N.testId);T=U.getElementsByTagName("ol")[0];S=N.passed;Q=N.failed;if(z.reorder&&G.sessionStorage){if(Q){sessionStorage.setItem("qunit-test-"+N.module+"-"+N.name,Q)}else{sessionStorage.removeItem("qunit-test-"+N.module+"-"+N.name)}}if(Q===0){r(T,"qunit-collapsed")}else{if(Q&&z.collapse&&!C){C=true}else{r(T,"qunit-collapsed")}}X=U.firstChild;V=Q?"<b class='failed'>"+Q+"</b>, <b class='passed'>"+S+"</b>, ":"";X.innerHTML+=" <b class='counts'>("+V+N.assertions.length+")</b>";if(N.skipped){U.className="skipped";W=e.createElement("em");W.className="qunit-skipped-label";W.innerHTML="skipped";U.insertBefore(W,X)}else{h(X,"click",function(){c(T,"qunit-collapsed")});U.className=Q?"fail":"pass";R=e.createElement("span");R.className="runtime";R.innerHTML=N.runtime+" ms";U.insertBefore(R,T)}if(N.source){O=e.createElement("p");O.innerHTML="<strong>Source: </strong>"+N.source;r(O,"qunit-source");if(Q===0){r(O,"qunit-collapsed")}h(X,"click",function(){c(O,"qunit-collapsed")});U.appendChild(O)}});var J=(function(N){return !(N&&N.version&&N.version.major>0)})(window.phantom);if(J&&e.readyState==="complete"){QUnit.load()}else{h(window,"load",QUnit.load)}QUnit.diff=(function(){function Q(){}var P=-1,O=1,N=0;Q.prototype.DiffMain=function(S,R,X){var Y,Z,U,W,T,V;Y=(new Date()).getTime()+1000;if(S===null||R===null){throw new Error("Null input. (DiffMain)")}if(S===R){if(S){return[[N,S]]}return[]}if(typeof X==="undefined"){X=true}Z=X;U=this.diffCommonPrefix(S,R);W=S.substring(0,U);S=S.substring(U);R=R.substring(U);U=this.diffCommonSuffix(S,R);T=S.substring(S.length-U);S=S.substring(0,S.length-U);R=R.substring(0,R.length-U);V=this.diffCompute(S,R,Z,Y);if(W){V.unshift([N,W])}if(T){V.push([N,T])}this.diffCleanupMerge(V);return V};Q.prototype.diffCleanupEfficiency=function(Y){var aa,X,U,V,R,Z,S,T,W;aa=false;X=[];U=0;V=null;R=0;Z=false;S=false;T=false;W=false;while(R<Y.length){if(Y[R][0]===N){if(Y[R][1].length<4&&(T||W)){X[U++]=R;Z=T;S=W;V=Y[R][1]}else{U=0;V=null}T=W=false}else{if(Y[R][0]===P){W=true}else{T=true}if(V&&((Z&&S&&T&&W)||((V.length<2)&&(Z+S+T+W)===3))){Y.splice(X[U-1],0,[P,V]);Y[X[U-1]+1][0]=O;U--;V=null;if(Z&&S){T=W=true;U=0}else{U--;R=U>0?X[U-1]:-1;T=W=false}aa=true}}R++}if(aa){this.diffCleanupMerge(Y)}};Q.prototype.diffPrettyHtml=function(U){var V,T,R,S=[];for(R=0;R<U.length;R++){V=U[R][0];T=U[R][1];switch(V){case O:S[R]="<ins>"+t(T)+"</ins>";break;case P:S[R]="<del>"+t(T)+"</del>";break;case N:S[R]="<span>"+t(T)+"</span>";break}}return S.join("")};Q.prototype.diffCommonPrefix=function(V,U){var R,W,S,T;if(!V||!U||V.charAt(0)!==U.charAt(0)){return 0}S=0;W=Math.min(V.length,U.length);R=W;T=0;while(S<R){if(V.substring(T,R)===U.substring(T,R)){S=R;T=S}else{W=R}R=Math.floor((W-S)/2+S)}return R};Q.prototype.diffCommonSuffix=function(U,T){var R,V,S,W;if(!U||!T||U.charAt(U.length-1)!==T.charAt(T.length-1)){return 0}S=0;V=Math.min(U.length,T.length);R=V;W=0;while(S<R){if(U.substring(U.length-R,U.length-W)===T.substring(T.length-R,T.length-W)){S=R;W=S}else{V=R}R=Math.floor((V-S)/2+S)}return R};Q.prototype.diffCompute=function(T,S,ag,af){var ab,ac,V,Z,R,ae,aa,ad,Y,U,X,W;if(!T){return[[O,S]]}if(!S){return[[P,T]]}ac=T.length>S.length?T:S;V=T.length>S.length?S:T;Z=ac.indexOf(V);if(Z!==-1){ab=[[O,ac.substring(0,Z)],[N,V],[O,ac.substring(Z+V.length)]];if(T.length>S.length){ab[0][0]=ab[2][0]=P}return ab}if(V.length===1){return[[P,T],[O,S]]}R=this.diffHalfMatch(T,S);if(R){ae=R[0];ad=R[1];aa=R[2];Y=R[3];U=R[4];X=this.DiffMain(ae,aa,ag,af);W=this.DiffMain(ad,Y,ag,af);return X.concat([[N,U]],W)}if(ag&&T.length>100&&S.length>100){return this.diffLineMode(T,S,af)}return this.diffBisect(T,S,af)};Q.prototype.diffHalfMatch=function(T,S){var aa,V,ae,ad,W,X,ac,U,Z,Y,R;aa=T.length>S.length?T:S;V=T.length>S.length?S:T;if(aa.length<4||V.length*2<aa.length){return null}ae=this;function ab(al,ag,ai){var aj,ah,af,ak,am,aq,ap,ao,an;aj=al.substring(ai,ai+Math.floor(al.length/4));ah=-1;af="";while((ah=ag.indexOf(aj,ah+1))!==-1){ak=ae.diffCommonPrefix(al.substring(ai),ag.substring(ah));am=ae.diffCommonSuffix(al.substring(0,ai),ag.substring(0,ah));if(af.length<am+ak){af=ag.substring(ah-am,ah)+ag.substring(ah,ah+ak);aq=al.substring(0,ai-am);ap=al.substring(ai+ak);ao=ag.substring(0,ah-am);an=ag.substring(ah+ak)}}if(af.length*2>=al.length){return[aq,ap,ao,an,af]}else{return null}}Z=ab(aa,V,Math.ceil(aa.length/4));Y=ab(aa,V,Math.ceil(aa.length/2));if(!Z&&!Y){return null}else{if(!Y){R=Z}else{if(!Z){R=Y}else{R=Z[4].length>Y[4].length?Z:Y}}}ad,ac,X,W;if(T.length>S.length){ad=R[0];ac=R[1];X=R[2];W=R[3]}else{X=R[0];W=R[1];ad=R[2];ac=R[3]}U=R[4];return[ad,ac,X,W,U]};Q.prototype.diffLineMode=function(T,S,ac){var ab,Y,U,R,W,X,Z,aa,V;ab=this.diffLinesToChars(T,S);T=ab.chars1;S=ab.chars2;U=ab.lineArray;Y=this.DiffMain(T,S,false,ac);this.diffCharsToLines(Y,U);this.diffCleanupSemantic(Y);Y.push([N,""]);R=0;X=0;W=0;aa="";Z="";while(R<Y.length){switch(Y[R][0]){case O:W++;Z+=Y[R][1];break;case P:X++;aa+=Y[R][1];break;case N:if(X>=1&&W>=1){Y.splice(R-X-W,X+W);R=R-X-W;ab=this.DiffMain(aa,Z,false,ac);for(V=ab.length-1;V>=0;V--){Y.splice(R,0,ab[V])}R=R+ab.length}W=0;X=0;aa="";Z="";break}R++}Y.pop();return Y};Q.prototype.diffBisect=function(ac,aa,ap){var aj,ag,V,ai,af,T,R,ab,aq,W,ah,ae,al,ak,Z,ad,an,am,U,S,ao,Y,X;aj=ac.length;ag=aa.length;V=Math.ceil((aj+ag)/2);ai=V;af=2*V;T=new Array(af);R=new Array(af);for(ab=0;ab<af;ab++){T[ab]=-1;R[ab]=-1}T[ai+1]=0;R[ai+1]=0;aq=aj-ag;W=(aq%2!==0);ah=0;ae=0;al=0;ak=0;for(ao=0;ao<V;ao++){if((new Date()).getTime()>ap){break}for(Y=-ao+ah;Y<=ao-ae;Y+=2){ad=ai+Y;if(Y===-ao||(Y!==ao&&T[ad-1]<T[ad+1])){an=T[ad+1]}else{an=T[ad-1]+1}U=an-Y;while(an<aj&&U<ag&&ac.charAt(an)===aa.charAt(U)){an++;U++}T[ad]=an;if(an>aj){ae+=2}else{if(U>ag){ah+=2}else{if(W){Z=ai+aq-Y;if(Z>=0&&Z<af&&R[Z]!==-1){am=aj-R[Z];if(an>=am){return this.diffBisectSplit(ac,aa,an,U,ap)}}}}}}for(X=-ao+al;X<=ao-ak;X+=2){Z=ai+X;if(X===-ao||(X!==ao&&R[Z-1]<R[Z+1])){am=R[Z+1]}else{am=R[Z-1]+1}S=am-X;while(am<aj&&S<ag&&ac.charAt(aj-am-1)===aa.charAt(ag-S-1)){am++;S++}R[Z]=am;if(am>aj){ak+=2}else{if(S>ag){al+=2}else{if(!W){ad=ai+aq-X;if(ad>=0&&ad<af&&T[ad]!==-1){an=T[ad];U=ai+an-ad;am=aj-am;if(an>=am){return this.diffBisectSplit(ac,aa,an,U,ap)}}}}}}}return[[P,ac],[O,aa]]};Q.prototype.diffBisectSplit=function(U,T,Z,Y,ab){var W,V,S,R,X,aa;W=U.substring(0,Z);S=T.substring(0,Y);V=U.substring(Z);R=T.substring(Y);X=this.DiffMain(W,S,false,ab);aa=this.DiffMain(V,R,false,ab);return X.concat(aa)};Q.prototype.diffCleanupSemantic=function(Y){var ab,X,U,V,S,ac,ae,ad,R,W,T,aa,Z;ab=false;X=[];U=0;V=null;S=0;ad=0;R=0;ac=0;ae=0;while(S<Y.length){if(Y[S][0]===N){X[U++]=S;ad=ac;R=ae;ac=0;ae=0;V=Y[S][1]}else{if(Y[S][0]===O){ac+=Y[S][1].length}else{ae+=Y[S][1].length}if(V&&(V.length<=Math.max(ad,R))&&(V.length<=Math.max(ac,ae))){Y.splice(X[U-1],0,[P,V]);Y[X[U-1]+1][0]=O;U--;U--;S=U>0?X[U-1]:-1;ad=0;R=0;ac=0;ae=0;V=null;ab=true}}S++}if(ab){this.diffCleanupMerge(Y)}S=1;while(S<Y.length){if(Y[S-1][0]===P&&Y[S][0]===O){W=Y[S-1][1];T=Y[S][1];aa=this.diffCommonOverlap(W,T);Z=this.diffCommonOverlap(T,W);if(aa>=Z){if(aa>=W.length/2||aa>=T.length/2){Y.splice(S,0,[N,T.substring(0,aa)]);Y[S-1][1]=W.substring(0,W.length-aa);Y[S+1][1]=T.substring(aa);S++}}else{if(Z>=W.length/2||Z>=T.length/2){Y.splice(S,0,[N,W.substring(0,Z)]);Y[S-1][0]=O;Y[S-1][1]=T.substring(0,T.length-Z);Y[S+1][0]=P;Y[S+1][1]=W.substring(Z);S++}}S++}S++}};Q.prototype.diffCommonOverlap=function(S,R){var U,X,Z,V,T,W,Y;U=S.length;X=R.length;if(U===0||X===0){return 0}if(U>X){S=S.substring(U-X)}else{if(U<X){R=R.substring(0,U)}}Z=Math.min(U,X);if(S===R){return Z}V=0;T=1;while(true){W=S.substring(Z-T);Y=R.indexOf(W);if(Y===-1){return V}T+=Y;if(Y===0||S.substring(Z-T)===R.substring(0,T)){V=T;T++}}};Q.prototype.diffLinesToChars=function(X,W){var V,R,U,T;V=[];R={};V[0]="";function S(ad){var ab,Z,ac,aa,Y;ab="";Z=0;ac=-1;aa=V.length;while(ac<ad.length-1){ac=ad.indexOf("\n",Z);if(ac===-1){ac=ad.length-1}Y=ad.substring(Z,ac+1);Z=ac+1;if(R.hasOwnProperty?R.hasOwnProperty(Y):(R[Y]!==undefined)){ab+=String.fromCharCode(R[Y])}else{ab+=String.fromCharCode(aa);R[Y]=aa;V[aa++]=Y}}return ab}U=S(X);T=S(W);return{chars1:U,chars2:T,lineArray:V}};Q.prototype.diffCharsToLines=function(V,S){var R,T,U,W;for(R=0;R<V.length;R++){T=V[R][1];U=[];for(W=0;W<T.length;W++){U[W]=S[T.charCodeAt(W)]}V[R][1]=U.join("")}};Q.prototype.diffCleanupMerge=function(X){var R,V,T,Y,Z,U,aa,W,S;X.push([N,""]);R=0;V=0;T=0;Z="";Y="";U;while(R<X.length){switch(X[R][0]){case O:T++;Y+=X[R][1];R++;break;case P:V++;Z+=X[R][1];R++;break;case N:if(V+T>1){if(V!==0&&T!==0){U=this.diffCommonPrefix(Y,Z);if(U!==0){if((R-V-T)>0&&X[R-V-T-1][0]===N){X[R-V-T-1][1]+=Y.substring(0,U)}else{X.splice(0,0,[N,Y.substring(0,U)]);R++}Y=Y.substring(U);Z=Z.substring(U)}U=this.diffCommonSuffix(Y,Z);if(U!==0){X[R][1]=Y.substring(Y.length-U)+X[R][1];Y=Y.substring(0,Y.length-U);Z=Z.substring(0,Z.length-U)}}if(V===0){X.splice(R-T,V+T,[O,Y])}else{if(T===0){X.splice(R-V,V+T,[P,Z])}else{X.splice(R-V-T,V+T,[P,Z],[O,Y])}}R=R-V-T+(V?1:0)+(T?1:0)+1}else{if(R!==0&&X[R-1][0]===N){X[R-1][1]+=X[R][1];X.splice(R,1)}else{R++}}T=0;V=0;Z="";Y="";break}}if(X[X.length-1][1]===""){X.pop()}aa=false;R=1;while(R<X.length-1){if(X[R-1][0]===N&&X[R+1][0]===N){W=X[R][1];S=W.substring(W.length-X[R-1][1].length);if(S===X[R-1][1]){X[R][1]=X[R-1][1]+X[R][1].substring(0,X[R][1].length-X[R-1][1].length);X[R+1][1]=X[R-1][1]+X[R+1][1];X.splice(R-1,1);aa=true}else{if(W.substring(0,X[R+1][1].length)===X[R+1][1]){X[R-1][1]+=X[R+1][1];X[R][1]=X[R][1].substring(X[R+1][1].length)+X[R+1][1];X.splice(R+1,1);aa=true}}}R++}if(aa){this.diffCleanupMerge(X)}};return function(U,V){var S,R,T;S=new Q();R=S.DiffMain(U,V);S.diffCleanupEfficiency(R);T=S.diffPrettyHtml(R);return T}}())}());