module("Accessibility - All");var BaseSelection=require("select2/selection/base");var SingleSelection=require("select2/selection/single");var MultipleSelection=require("select2/selection/multiple");var $=require("jquery");var Options=require("select2/options");var options=new Options({});test("title is carried over from original element",function(b){var c=$("#qunit-fixture .single");var d=new BaseSelection(c,options);var a=d.render();b.equal(a.attr("title"),c.attr("title"),"The title should have been copied over from the original element")});test("aria-expanded reflects the state of the container",function(c){var d=$("#qunit-fixture .single");var e=new BaseSelection(d,options);var a=e.render();var b=new MockContainer();e.bind(b,$("<span></span>"));c.equal(a.attr("aria-expanded"),"false","The container should not be expanded when it is closed");b.trigger("open");c.equal(a.attr("aria-expanded"),"true","The container should be expanded when it is opened")});test("static aria attributes are present",function(b){var c=$("#qunit-fixture .single");var d=new BaseSelection(c,options);var a=d.render();b.equal(a.attr("role"),"combobox","The container should identify as a combobox");b.equal(a.attr("aria-haspopup"),"true","The dropdown is considered a popup of the container")});test("the container should be in the tab order",function(c){var d=$("#qunit-fixture .single");var e=new BaseSelection(d,options);var a=e.render();var b=new MockContainer();e.bind(b,$("<span></span>"));c.equal(a.attr("tabindex"),"0","The tab index should allow it to fit in the natural tab order");b.trigger("disable");c.equal(a.attr("tabindex"),"-1","The selection should be dropped out of the tab order when disabled");b.trigger("enable");c.equal(a.attr("tabindex"),"0","The tab index should be restored when re-enabled")});test("a custom tabindex is copied",function(c){var d=$("#qunit-fixture .single");d.attr("tabindex","999");var e=new BaseSelection(d,options);var a=e.render();var b=new MockContainer();e.bind(b,$("<span></span>"));c.equal(a.attr("tabindex"),"999","The tab index should match the original tab index");b.trigger("disable");c.equal(a.attr("tabindex"),"-1","The selection should be dropped out of the tab order when disabled");b.trigger("enable");c.equal(a.attr("tabindex"),"999","The tab index should be restored when re-enabled")});module("Accessibility - Single");test("aria-labelledby should match the rendered container",function(c){var d=$("#qunit-fixture .single");var e=new SingleSelection(d,options);var a=e.render();var b=new MockContainer();e.bind(b,$("<span></span>"));var f=a.find(".select2-selection__rendered");c.equal(a.attr("aria-labelledby"),f.attr("id"),"The rendered selection should label the container")});module("Accessibility - Multiple");