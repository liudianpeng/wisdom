/*
* inputmask.numeric.extensions.min.js
* https://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.1
*/
!function(b){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib","inputmask"],b):"object"==typeof exports?module.exports=b(require("./inputmask.dependencyLib.jquery"),require("./inputmask")):b(window.dependencyLib||jQuery,window.Inputmask)}(function(d,c){return c.extendAliases({numeric:{mask:function(b){function j(a){for(var f="",e=0;e<a.length;e++){f+=b.definitions[a.charAt(e)]||b.optionalmarker.start===a.charAt(e)||b.optionalmarker.end===a.charAt(e)||b.quantifiermarker.start===a.charAt(e)||b.quantifiermarker.end===a.charAt(e)||b.groupmarker.start===a.charAt(e)||b.groupmarker.end===a.charAt(e)||b.alternatormarker===a.charAt(e)?"\\"+a.charAt(e):a.charAt(e)}return f}if(0!==b.repeat&&isNaN(b.integerDigits)&&(b.integerDigits=b.repeat),b.repeat=0,b.groupSeparator===b.radixPoint&&("."===b.radixPoint?b.groupSeparator=",":","===b.radixPoint?b.groupSeparator=".":b.groupSeparator="")," "===b.groupSeparator&&(b.skipOptionalPartCharacter=void 0),b.autoGroup=b.autoGroup&&""!==b.groupSeparator,b.autoGroup&&("string"==typeof b.groupSize&&isFinite(b.groupSize)&&(b.groupSize=parseInt(b.groupSize)),isFinite(b.integerDigits))){var i=Math.floor(b.integerDigits/b.groupSize),h=b.integerDigits%b.groupSize;b.integerDigits=parseInt(b.integerDigits)+(0===h?i-1:i),b.integerDigits<1&&(b.integerDigits="*")}b.placeholder.length>1&&(b.placeholder=b.placeholder.charAt(0)),b.radixFocus=b.radixFocus&&""!==b.placeholder&&b.integerOptional===!0,b.definitions[";"]=b.definitions["~"],b.definitions[";"].definitionSymbol="~",b.numericInput===!0&&(b.radixFocus=!1,b.digitsOptional=!1,isNaN(b.digits)&&(b.digits=2),b.decimalProtect=!1);var g=j(b.prefix);return g+="[+]",g+=b.integerOptional===!0?"~{1,"+b.integerDigits+"}":"~{"+b.integerDigits+"}",void 0!==b.digits&&(isNaN(b.digits)||parseInt(b.digits)>0)&&(b.decimalProtect&&(b.radixPointDefinitionSymbol=":"),g+=b.digitsOptional?"["+(b.decimalProtect?":":b.radixPoint)+";{1,"+b.digits+"}]":(b.decimalProtect?":":b.radixPoint)+";{"+b.digits+"}"),g+="[-]",g+=j(b.suffix),b.greedy=!1,null!==b.min&&(b.min=b.min.toString().replace(new RegExp(c.escapeRegex(b.groupSeparator),"g"),""),","===b.radixPoint&&(b.min=b.min.replace(b.radixPoint,"."))),null!==b.max&&(b.max=b.max.toString().replace(new RegExp(c.escapeRegex(b.groupSeparator),"g"),""),","===b.radixPoint&&(b.max=b.max.replace(b.radixPoint,"."))),g},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(D,C,B){B.numericInput===!0&&(D=D.reverse(),isFinite(C)&&(C=D.join("").length-C-1));var A,z,y=!1;D.length>=B.suffix.length&&D.join("").indexOf(B.suffix)===D.length-B.suffix.length&&(D.length=D.length-B.suffix.length,y=!0),C=C>=D.length?D.length-1:C<B.prefix.length?B.prefix.length:C;var x=!1,w=D[C],v=D.slice();w===B.groupSeparator&&(v.splice(C--,1),w=v[C]),w!==B.radixPoint&&w!==B.negationSymbol.front&&w!==B.negationSymbol.back&&(v[C]="?");var u=v.join(""),t=u;if(u.length>0&&B.autoGroup||-1!==u.indexOf(B.groupSeparator)){var s=c.escapeRegex(B.groupSeparator);x=0===u.indexOf(B.groupSeparator),u=u.replace(new RegExp(s,"g"),"");var r=u.split(B.radixPoint);if(u=""===B.radixPoint?u:r[0],u!==B.prefix+"?0"&&u.length>=B.groupSize+B.prefix.length){for(var b=new RegExp("([-+]?[\\d?]+)([\\d?]{"+B.groupSize+"})");b.test(u)&&""!==B.groupSeparator;){u=u.replace(b,"$1"+B.groupSeparator+"$2"),u=u.replace(B.groupSeparator+B.groupSeparator,B.groupSeparator)}}""!==B.radixPoint&&r.length>1&&(u+=B.radixPoint+r[1])}for(x=t!==u,D.length=u.length,A=0,z=u.length;z>A;A++){D[A]=u.charAt(A)}var a=d.inArray("?",D);if(-1===a&&(a=d.inArray(w,D)),D[a]=w,!x&&y){for(A=0,z=B.suffix.length;z>A;A++){D.push(B.suffix.charAt(A))}}return a=B.numericInput&&isFinite(C)?D.join("").length-a-1:a,B.numericInput&&(D=D.reverse(),d.inArray(B.radixPoint,D)<a&&D.join("").length-B.suffix.length!==a&&(a-=1)),{pos:a,refreshFromBuffer:x,buffer:D}},onBeforeWrite:function(z,y,x,w){var v;if(z&&("blur"===z.type||"checkval"===z.type||"keydown"===z.type)){var u=w.numericInput?y.slice().reverse().join(""):y.join(""),t=u.replace(w.prefix,"");t=t.replace(w.suffix,""),t=t.replace(new RegExp(c.escapeRegex(w.groupSeparator),"g"),""),","===w.radixPoint&&(t=t.replace(w.radixPoint,"."));var s=t.match(new RegExp("[-"+c.escapeRegex(w.negationSymbol.front)+"]","g"));if(s=null!==s&&1===s.length,t=t.replace(new RegExp("[-"+c.escapeRegex(w.negationSymbol.front)+"]","g"),""),t=t.replace(new RegExp(c.escapeRegex(w.negationSymbol.back)+"$"),""),isNaN(w.placeholder)&&(t=t.replace(new RegExp(c.escapeRegex(w.placeholder),"g"),"")),t=t===w.negationSymbol.front?t+"0":t,""!==t&&isFinite(t)){var r=parseFloat(t),q=s?-1*r:r;if(null!==w.min&&isFinite(w.min)&&q<parseFloat(w.min)?(r=Math.abs(w.min),s=w.min<0,u=void 0):null!==w.max&&isFinite(w.max)&&q>parseFloat(w.max)&&(r=Math.abs(w.max),s=w.max<0,u=void 0),t=r.toString().replace(".",w.radixPoint).split(""),isFinite(w.digits)){var p=d.inArray(w.radixPoint,t),b=d.inArray(w.radixPoint,u);-1===p&&(t.push(w.radixPoint),p=t.length-1);for(var a=1;a<=w.digits;a++){w.digitsOptional||void 0!==t[p+a]&&t[p+a]!==w.placeholder.charAt(0)?-1!==b&&void 0!==u[b+a]&&(t[p+a]=t[p+a]||u[b+a]):t[p+a]="0"}t[t.length-1]===w.radixPoint&&delete t[t.length-1]}if(r.toString()!==t&&r.toString()+"."!==t||s){return !s||0===r&&"blur"===z.type||(t.unshift(w.negationSymbol.front),t.push(w.negationSymbol.back)),t=(w.prefix+t.join("")).split(""),w.numericInput&&(t=t.reverse()),v=w.postFormat(t,w.numericInput?x:x-1,w),v.buffer&&(v.refreshFromBuffer=v.buffer.join("")!==y.join("")),v}}}return w.autoGroup?(v=w.postFormat(y,w.numericInput?x:x-1,w),v.caret=x<=w.prefix.length?v.pos:v.pos+1,v):void 0},regex:{integerPart:function(b){return new RegExp("["+c.escapeRegex(b.negationSymbol.front)+"+]?\\d+")},integerNPart:function(b){return new RegExp("[\\d"+c.escapeRegex(b.groupSeparator)+c.escapeRegex(b.placeholder.charAt(0))+"]+")}},signHandler:function(h,g,l,k,j){if(!k&&j.allowMinus&&"-"===h||j.allowPlus&&"+"===h){var i=g.buffer.join("").match(j.regex.integerPart(j));if(i&&i[0].length>0){return g.buffer[i.index]===("-"===h?"+":j.negationSymbol.front)?"-"===h?""!==j.negationSymbol.back?{pos:i.index,c:j.negationSymbol.front,remove:i.index,caret:l,insert:{pos:g.buffer.length-j.suffix.length-1,c:j.negationSymbol.back}}:{pos:i.index,c:j.negationSymbol.front,remove:i.index,caret:l}:""!==j.negationSymbol.back?{pos:i.index,c:"+",remove:[i.index,g.buffer.length-j.suffix.length-1],caret:l}:{pos:i.index,c:"+",remove:i.index,caret:l}:g.buffer[i.index]===("-"===h?j.negationSymbol.front:"+")?"-"===h&&""!==j.negationSymbol.back?{remove:[i.index,g.buffer.length-j.suffix.length-1],caret:l-1}:{remove:i.index,caret:l-1}:"-"===h?""!==j.negationSymbol.back?{pos:i.index,c:j.negationSymbol.front,caret:l+1,insert:{pos:g.buffer.length-j.suffix.length,c:j.negationSymbol.back}}:{pos:i.index,c:j.negationSymbol.front,caret:l+1}:{pos:i.index,c:h,caret:l+1}}}return !1},radixHandler:function(a,n,m,l,k){if(!l&&k.numericInput!==!0&&a===k.radixPoint&&void 0!==k.digits&&(isNaN(k.digits)||parseInt(k.digits)>0)){var j=d.inArray(k.radixPoint,n.buffer),i=n.buffer.join("").match(k.regex.integerPart(k));if(-1!==j&&n.validPositions[j]){return n.validPositions[j-1]?{caret:j+1}:{pos:i.index,c:i[0],caret:j+1}}if(!i||"0"===i[0]&&i.index+1!==m){return n.buffer[i?i.index:m]="0",{pos:(i?i.index:m)+1,c:k.radixPoint}}}return !1},leadingZeroHandler:function(v,u,t,s,r,q){if(!s){if(r.numericInput===!0){var p=u.buffer.slice("").reverse(),o=p[r.prefix.length];if("0"===o&&void 0===u.validPositions[t-1]){return{pos:t,remove:p.length-r.prefix.length-1}}}else{var n=d.inArray(r.radixPoint,u.buffer),m=u.buffer.slice(0,-1!==n?n:void 0).join("").match(r.regex.integerNPart(r));if(m&&(-1===n||n>=t)){var a=-1===n?0:parseInt(u.buffer.slice(n+1).join(""));if(0===m[0].indexOf(""!==r.placeholder?r.placeholder.charAt(0):"0")&&(m.index+1===t||q!==!0&&0===a)){return u.buffer.splice(m.index,1),{pos:m.index,remove:m.index}}if("0"===v&&t<=m.index&&m[0]!==r.groupSeparator){return !1}}}}return !0},definitions:{"~":{validator:function(p,o,n,m,l,k){var b=l.signHandler(p,o,n,m,l);if(!b&&(b=l.radixHandler(p,o,n,m,l),!b&&(b=m?new RegExp("[0-9"+c.escapeRegex(l.groupSeparator)+"]").test(p):new RegExp("[0-9]").test(p),b===!0&&(b=l.leadingZeroHandler(p,o,n,m,l,k),b===!0)))){var a=d.inArray(l.radixPoint,o.buffer);b=-1!==a&&(l.digitsOptional===!1||o.validPositions[n])&&l.numericInput!==!0&&n>a&&!m?{pos:n,remove:n}:{pos:n}}return b},cardinality:1},"+":{validator:function(h,g,l,k,j){var i=j.signHandler(h,g,l,k,j);return !i&&(k&&j.allowMinus&&h===j.negationSymbol.front||j.allowMinus&&"-"===h||j.allowPlus&&"+"===h)&&(i=k||"-"!==h?!0:""!==j.negationSymbol.back?{pos:l,c:"-"===h?j.negationSymbol.front:"+",caret:l+1,insert:{pos:g.buffer.length,c:j.negationSymbol.back}}:{pos:l,c:"-"===h?j.negationSymbol.front:"+",caret:l+1}),i},cardinality:1,placeholder:""},"-":{validator:function(h,g,l,k,j){var i=j.signHandler(h,g,l,k,j);return !i&&k&&j.allowMinus&&h===j.negationSymbol.back&&(i=!0),i},cardinality:1,placeholder:""},":":{validator:function(b,n,m,l,k){var j=k.signHandler(b,n,m,l,k);if(!j){var i="["+c.escapeRegex(k.radixPoint)+"]";j=new RegExp(i).test(b),j&&n.validPositions[m]&&n.validPositions[m].match.placeholder===k.radixPoint&&(j={caret:m+1})}return j?{c:k.radixPoint}:j},cardinality:1,placeholder:function(b){return b.radixPoint}}},onUnMask:function(b,h,g){var f=b.replace(g.prefix,"");return f=f.replace(g.suffix,""),f=f.replace(new RegExp(c.escapeRegex(g.groupSeparator),"g"),""),g.unmaskAsNumber?(""!==g.radixPoint&&-1!==f.indexOf(g.radixPoint)&&(f=f.replace(c.escapeRegex.call(this,g.radixPoint),".")),Number(f)):f},isComplete:function(b,j){var i=b.join(""),h=b.slice();if(j.postFormat(h,0,j),h.join("")!==i){return !1}var g=i.replace(j.prefix,"");return g=g.replace(j.suffix,""),g=g.replace(new RegExp(c.escapeRegex(j.groupSeparator),"g"),""),","===j.radixPoint&&(g=g.replace(c.escapeRegex(j.radixPoint),".")),isFinite(g)},onBeforeMask:function(b,n){if(""!==n.radixPoint&&isFinite(b)){b=b.toString().replace(".",n.radixPoint)}else{var m=b.match(/,/g),l=b.match(/\./g);l&&m?l.length>m.length?(b=b.replace(/\./g,""),b=b.replace(",",n.radixPoint)):m.length>l.length?(b=b.replace(/,/g,""),b=b.replace(".",n.radixPoint)):b=b.indexOf(".")<b.indexOf(",")?b.replace(/\./g,""):b=b.replace(/,/g,""):b=b.replace(new RegExp(c.escapeRegex(n.groupSeparator),"g"),"")}if(0===n.digits&&(-1!==b.indexOf(".")?b=b.substring(0,b.indexOf(".")):-1!==b.indexOf(",")&&(b=b.substring(0,b.indexOf(",")))),""!==n.radixPoint&&isFinite(n.digits)&&-1!==b.indexOf(n.radixPoint)){var k=b.split(n.radixPoint),j=k[1].match(new RegExp("\\d*"))[0];if(parseInt(n.digits)<j.toString().length){var i=Math.pow(10,parseInt(n.digits));b=b.replace(c.escapeRegex(n.radixPoint),"."),b=Math.round(parseFloat(b)*i)/i,b=b.toString().replace(".",n.radixPoint)}}return b.toString()},canClearPosition:function(i,h,n,m,l){var k=i.validPositions[h].input,j=k!==l.radixPoint||null!==i.validPositions[h].match.fn&&l.decimalProtect===!1||isFinite(k)||h===n||k===l.groupSeparator||k===l.negationSymbol.front||k===l.negationSymbol.back;return j},onKeyDown:function(j,i,h,b){var a=d(this);if(j.ctrlKey){switch(j.keyCode){case c.keyCode.UP:a.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(b.step)),a.trigger("setvalue");break;case c.keyCode.DOWN:a.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(b.step)),a.trigger("setvalue")}}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),c});