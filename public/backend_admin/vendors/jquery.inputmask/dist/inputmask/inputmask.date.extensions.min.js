/*
* inputmask.date.extensions.js
* https://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.1
*/
!function(a){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib","inputmask"],a):"object"==typeof exports?module.exports=a(require("./inputmask.dependencyLib.jquery"),require("./inputmask")):a(window.dependencyLib||jQuery,window.Inputmask)}(function(b,a){return a.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),a.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+c+"[01])")},val2:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[1-9]|[12][0-9])"+c+"(0[1-9]|1[012]))|(30"+c+"(0[13-9]|1[012]))|(31"+c+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(f,c,d){if(isNaN(f)){return !1}var e=parseInt(f.concat(c.toString().slice(f.length))),g=parseInt(f.concat(d.toString().slice(f.length)));return(isNaN(e)?!1:e>=c&&d>=e)||(isNaN(g)?!1:g>=c&&d>=g)},determinebaseyear:function(i,e,h){var g=new Date().getFullYear();if(i>g){return i}if(g>e){for(var d=e.toString().slice(0,2),f=e.toString().slice(2,4);d+h>e;){d--}var j=d+f;return i>j?i:j}if(g>=i&&e>=g){for(var c=g.toString().slice(0,2);c+h>e;){c--}var k=c+h;return i>k?i:k}return g},onKeyDown:function(h,c,f,g){var i=b(this);if(h.ctrlKey&&h.keyCode===a.keyCode.RIGHT){var d=new Date();i.val(d.getDate().toString()+(d.getMonth()+1).toString()+d.getFullYear().toString()),i.trigger("setvalue")}},getFrontValue:function(d,c,h){for(var j=0,g=0,f=0;f<d.length&&"2"!==d.charAt(f);f++){var e=h.definitions[d.charAt(f)];e?(j+=g,g=e.cardinality):g++}return c.join("").substr(j,g)},definitions:{"1":{validator:function(d,g,h,c,e){var f=e.regex.val1.test(d);return c||f||d.charAt(1)!==e.separator&&-1==="-./".indexOf(d.charAt(1))||!(f=e.regex.val1.test("0"+d.charAt(0)))?f:(g.buffer[h-1]="0",{refreshFromBuffer:{start:h-1,end:h},pos:h,c:d.charAt(0)})},cardinality:2,prevalidator:[{validator:function(d,h,i,c,f){var e=d;isNaN(h.buffer[i+1])||(e+=h.buffer[i+1]);var g=1===e.length?f.regex.val1pre.test(e):f.regex.val1.test(e);if(!c&&!g){if(g=f.regex.val1.test(d+"0")){return h.buffer[i]=d,h.buffer[++i]="0",{pos:i,c:"0"}}if(g=f.regex.val1.test("0"+d)){return h.buffer[i]="0",i++,{pos:i}}}return g},cardinality:1}]},"2":{validator:function(e,i,g,h,c){var d=c.getFrontValue(i.mask,i.buffer,c);-1!==d.indexOf(c.placeholder[0])&&(d="01"+c.separator);var k=c.regex.val2(c.separator).test(d+e);if(!h&&!k&&(e.charAt(1)===c.separator||-1!=="-./".indexOf(e.charAt(1)))&&(k=c.regex.val2(c.separator).test(d+"0"+e.charAt(0)))){return i.buffer[g-1]="0",{refreshFromBuffer:{start:g-1,end:g},pos:g,c:e.charAt(0)}}if(c.mask.indexOf("2")===c.mask.length-1&&k){var j=i.buffer.join("").substr(4,4)+e;if(j!==c.leapday){return !0}var f=parseInt(i.buffer.join("").substr(0,4),10);return f%4===0?f%100===0?f%400===0?!0:!1:!0:!1}return k},cardinality:2,prevalidator:[{validator:function(d,h,i,c,e){isNaN(h.buffer[i+1])||(d+=h.buffer[i+1]);var g=e.getFrontValue(h.mask,h.buffer,e);-1!==g.indexOf(e.placeholder[0])&&(g="01"+e.separator);var f=1===d.length?e.regex.val2pre(e.separator).test(g+d):e.regex.val2(e.separator).test(g+d);return c||f||!(f=e.regex.val2(e.separator).test(g+"0"+d))?f:(h.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(d,g,i,c,f){if(f.isInYearRange(d,f.yearrange.minyear,f.yearrange.maxyear)){var h=g.buffer.join("").substr(0,6);if(h!==f.leapday){return !0}var e=parseInt(d,10);return e%4===0?e%100===0?e%400===0?!0:!1:!0:!1}return !1},cardinality:4,prevalidator:[{validator:function(e,h,i,d,f){var g=f.isInYearRange(e,f.yearrange.minyear,f.yearrange.maxyear);if(!d&&!g){var c=f.determinebaseyear(f.yearrange.minyear,f.yearrange.maxyear,e+"0").toString().slice(0,1);if(g=f.isInYearRange(c+e,f.yearrange.minyear,f.yearrange.maxyear)){return h.buffer[i++]=c.charAt(0),{pos:i}}if(c=f.determinebaseyear(f.yearrange.minyear,f.yearrange.maxyear,e+"0").toString().slice(0,2),g=f.isInYearRange(c+e,f.yearrange.minyear,f.yearrange.maxyear)){return h.buffer[i++]=c.charAt(0),h.buffer[i++]=c.charAt(1),{pos:i}}}return g},cardinality:1},{validator:function(d,i,g,h,c){var k=c.isInYearRange(d,c.yearrange.minyear,c.yearrange.maxyear);if(!h&&!k){var e=c.determinebaseyear(c.yearrange.minyear,c.yearrange.maxyear,d).toString().slice(0,2);if(k=c.isInYearRange(d[0]+e[1]+d[1],c.yearrange.minyear,c.yearrange.maxyear)){return i.buffer[g++]=e.charAt(1),{pos:g}}if(e=c.determinebaseyear(c.yearrange.minyear,c.yearrange.maxyear,d).toString().slice(0,2),c.isInYearRange(e+d,c.yearrange.minyear,c.yearrange.maxyear)){var j=i.buffer.join("").substr(0,6);if(j!==c.leapday){k=!0}else{var f=parseInt(d,10);k=f%4===0?f%100===0?f%400===0?!0:!1:!0:!1}}else{k=!1}if(k){return i.buffer[g-1]=e.charAt(0),i.buffer[g++]=e.charAt(1),i.buffer[g++]=d.charAt(0),{refreshFromBuffer:{start:g-3,end:g},pos:g}}}return k},cardinality:2},{validator:function(d,f,g,c,e){return e.isInYearRange(d,e.yearrange.minyear,e.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[13-9]|1[012])"+c+"[0-3])|(02"+c+"[0-2])")},val2:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+c+"30)|((0[13578]|1[02])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(h,c,f,g){var i=b(this);if(h.ctrlKey&&h.keyCode===a.keyCode.RIGHT){var d=new Date();i.val((d.getMonth()+1).toString()+d.getDate().toString()+d.getFullYear().toString()),i.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(h,c,f,g){var i=b(this);if(h.ctrlKey&&h.keyCode===a.keyCode.RIGHT){var d=new Date();i.val(d.getFullYear().toString()+(d.getMonth()+1).toString()+d.getDate().toString()),i.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,h,i,c,f){if("24"===f.hourFormat&&24===parseInt(e,10)){return h.buffer[i-1]="0",h.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"}}var g=f.regex.hrs.test(e);if(!c&&!g&&(e.charAt(1)===f.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(g=f.regex.hrs.test("0"+e.charAt(0)))){return h.buffer[i-1]="0",h.buffer[i]=e.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:f.timeseparator}}if(g&&"24"!==f.hourFormat&&f.regex.hrs24.test(e)){var d=parseInt(e,10);return 24===d?(h.buffer[i+5]="a",h.buffer[i+6]="m"):(h.buffer[i+5]="p",h.buffer[i+6]="m"),d-=12,10>d?(h.buffer[i]=d.toString(),h.buffer[i-1]="0"):(h.buffer[i]=d.toString().charAt(1),h.buffer[i-1]=d.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:h.buffer[i]}}return g},cardinality:2,prevalidator:[{validator:function(d,g,h,c,e){var f=e.regex.hrspre.test(d);return c||f||!(f=e.regex.hrs.test("0"+d))?f:(g.buffer[h]="0",h++,{pos:h})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(d,g,h,c,e){var f=e.regex.mspre.test(d);return c||f||!(f=e.regex.ms.test("0"+d))?f:(g.buffer[h]="0",h++,{pos:h})},cardinality:1}]},t:{validator:function(d,f,g,c,e){return e.regex.ampm.test(d+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[13-9]|1[012])"+c+"[0-3])|(02"+c+"[0-2])")},val2:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+c+"30)|((0[13578]|1[02])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(h,c,f,g){var i=b(this);if(h.ctrlKey&&h.keyCode===a.keyCode.RIGHT){var d=new Date();i.val((d.getMonth()+1).toString()+d.getDate().toString()+d.getFullYear().toString()),i.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+c+"[0-3])")},val2:function(d){var c=a.escapeRegex.call(this,d);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+c+"30)|((0[1-6])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),a});