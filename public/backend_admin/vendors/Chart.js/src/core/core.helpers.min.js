"use strict";var color=require("chartjs-color");module.exports=function(a){var d=a.helpers={};d.each=function(l,n,h,j){var k,g;if(d.isArray(l)){g=l.length;if(j){for(k=g-1;k>=0;k--){n.call(h,l[k],k)}}else{for(k=0;k<g;k++){n.call(h,l[k],k)}}}else{if(typeof l==="object"){var m=Object.keys(l);g=m.length;for(k=0;k<g;k++){n.call(h,l[m[k]],m[k])}}}};d.clone=function(h){var g={};d.each(h,function(j,i){if(d.isArray(j)){g[i]=j.slice(0)}else{if(typeof j==="object"&&j!==null){g[i]=d.clone(j)}else{g[i]=j}}});return g};d.extend=function(k){var h=arguments.length;var g=[];for(var j=1;j<h;j++){g.push(arguments[j])}d.each(g,function(i){d.each(i,function(m,l){k[l]=m})});return k};d.configMerge=function(g){var h=d.clone(g);d.each(Array.prototype.slice.call(arguments,1),function(i){d.each(i,function(l,j){if(j==="scales"){h[j]=d.scaleMerge(h.hasOwnProperty(j)?h[j]:{},l)}else{if(j==="scale"){h[j]=d.configMerge(h.hasOwnProperty(j)?h[j]:{},a.scaleService.getScaleDefaults(l.type),l)}else{if(h.hasOwnProperty(j)&&d.isArray(h[j])&&d.isArray(l)){var k=h[j];d.each(l,function(n,m){if(m<k.length){if(typeof k[m]==="object"&&k[m]!==null&&typeof n==="object"&&n!==null){k[m]=d.configMerge(k[m],n)}else{k[m]=n}}else{k.push(n)}})}else{if(h.hasOwnProperty(j)&&typeof h[j]==="object"&&h[j]!==null&&typeof l==="object"){h[j]=d.configMerge(h[j],l)}else{h[j]=l}}}}})});return h};d.extendDeep=function(h){return g.apply(this,arguments);function g(i){d.each(arguments,function(j){if(j!==i){d.each(j,function(l,k){if(i[k]&&i[k].constructor&&i[k].constructor===Object){g(i[k],l)}else{i[k]=l}})}});return i}};d.scaleMerge=function(g,i){var h=d.clone(g);d.each(i,function(k,j){if(j==="xAxes"||j==="yAxes"){if(h.hasOwnProperty(j)){d.each(k,function(o,n){var l=d.getValueOrDefault(o.type,j==="xAxes"?"category":"linear");var m=a.scaleService.getScaleDefaults(l);if(n>=h[j].length||!h[j][n].type){h[j].push(d.configMerge(m,o))}else{if(o.type&&o.type!==h[j][n].type){h[j][n]=d.configMerge(h[j][n],m,o)}else{h[j][n]=d.configMerge(h[j][n],o)}}})}else{h[j]=[];d.each(k,function(m){var l=d.getValueOrDefault(m.type,j==="xAxes"?"category":"linear");h[j].push(d.configMerge(a.scaleService.getScaleDefaults(l),m))})}}else{if(h.hasOwnProperty(j)&&typeof h[j]==="object"&&h[j]!==null&&typeof k==="object"){h[j]=d.configMerge(h[j],k)}else{h[j]=k}}});return h};d.getValueAtIndexOrDefault=function(i,h,g){if(i===undefined||i===null){return g}if(d.isArray(i)){return h<i.length?i[h]:g}return i};d.getValueOrDefault=function(h,g){return h===undefined?g:h};d.indexOf=function(g,j){if(Array.prototype.indexOf){return g.indexOf(j)}else{for(var h=0;h<g.length;h++){if(g[h]===j){return h}}return -1}};d.where=function(i,h){if(d.isArray(i)&&Array.prototype.filter){return i.filter(h)}else{var g=[];d.each(i,function(j){if(h(j)){g.push(j)}});return g}};d.findIndex=function(g,l,h){var j=-1;if(Array.prototype.findIndex){j=g.findIndex(l,h)}else{for(var k=0;k<g.length;++k){h=h!==undefined?h:g;if(l.call(h,g[k],k,g)){j=k;break}}}return j};d.findNextWhere=function(g,l,k){if(k===undefined||k===null){k=-1}for(var j=k+1;j<g.length;j++){var h=g[j];if(l(h)){return h}}};d.findPreviousWhere=function(g,l,k){if(k===undefined||k===null){k=g.length}for(var j=k-1;j>=0;j--){var h=g[j];if(l(h)){return h}}};d.inherits=function(h){var g=this;var i=(h&&h.hasOwnProperty("constructor"))?h.constructor:function(){return g.apply(this,arguments)};var j=function(){this.constructor=i};j.prototype=g.prototype;i.prototype=new j();i.extend=d.inherits;if(h){d.extend(i.prototype,h)}i.__super__=g.prototype;return i};d.noop=function(){};d.uid=(function(){var g=0;return function(){return g++}})();d.warn=function(g){if(console&&typeof console.warn==="function"){console.warn(g)}};d.isNumber=function(g){return !isNaN(parseFloat(g))&&isFinite(g)};d.almostEquals=function(g,i,h){return Math.abs(g-i)<h};d.max=function(g){return g.reduce(function(h,i){if(!isNaN(i)){return Math.max(h,i)}else{return h}},Number.NEGATIVE_INFINITY)};d.min=function(g){return g.reduce(function(h,i){if(!isNaN(i)){return Math.min(h,i)}else{return h}},Number.POSITIVE_INFINITY)};d.sign=function(g){if(Math.sign){return Math.sign(g)}else{g=+g;if(g===0||isNaN(g)){return g}return g>0?1:-1}};d.log10=function(g){if(Math.log10){return Math.log10(g)}else{return Math.log(g)/Math.LN10}};d.toRadians=function(g){return g*(Math.PI/180)};d.toDegrees=function(g){return g*(180/Math.PI)};d.getAngleFromPoint=function(j,h){var k=h.x-j.x,g=h.y-j.y,i=Math.sqrt(k*k+g*g);var l=Math.atan2(g,k);if(l<(-0.5*Math.PI)){l+=2*Math.PI}return{angle:l,distance:i}};d.aliasPixel=function(g){return(g%2===0)?0:0.5};d.splineCurve=function(k,h,m,s){var o=k.skip?h:k,p=h,l=m.skip?h:m;var r=Math.sqrt(Math.pow(p.x-o.x,2)+Math.pow(p.y-o.y,2));var n=Math.sqrt(Math.pow(l.x-p.x,2)+Math.pow(l.y-p.y,2));var g=r/(r+n);var q=n/(r+n);g=isNaN(g)?0:g;q=isNaN(q)?0:q;var j=s*g;var i=s*q;return{previous:{x:p.x-j*(l.x-o.x),y:p.y-j*(l.y-o.y)},next:{x:p.x+i*(l.x-o.x),y:p.y+i*(l.y-o.y)}}};d.nextItem=function(i,h,g){if(g){return h>=i.length-1?i[0]:i[h+1]}return h>=i.length-1?i[i.length-1]:i[h+1]};d.previousItem=function(i,h,g){if(g){return h<=0?i[i.length-1]:i[h-1]}return h<=0?i[0]:i[h-1]};d.niceNum=function(h,g){var k=Math.floor(d.log10(h));var j=h/Math.pow(10,k);var i;if(g){if(j<1.5){i=1}else{if(j<3){i=2}else{if(j<7){i=5}else{i=10}}}}else{if(j<=1){i=1}else{if(j<=2){i=2}else{if(j<=5){i=5}else{i=10}}}}return i*Math.pow(10,k)};var f=d.easingEffects={linear:function(g){return g},easeInQuad:function(g){return g*g},easeOutQuad:function(g){return -1*g*(g-2)},easeInOutQuad:function(g){if((g/=1/2)<1){return 1/2*g*g}return -1/2*((--g)*(g-2)-1)},easeInCubic:function(g){return g*g*g},easeOutCubic:function(g){return 1*((g=g/1-1)*g*g+1)},easeInOutCubic:function(g){if((g/=1/2)<1){return 1/2*g*g*g}return 1/2*((g-=2)*g*g+2)},easeInQuart:function(g){return g*g*g*g},easeOutQuart:function(g){return -1*((g=g/1-1)*g*g*g-1)},easeInOutQuart:function(g){if((g/=1/2)<1){return 1/2*g*g*g*g}return -1/2*((g-=2)*g*g*g-2)},easeInQuint:function(g){return 1*(g/=1)*g*g*g*g},easeOutQuint:function(g){return 1*((g=g/1-1)*g*g*g*g+1)},easeInOutQuint:function(g){if((g/=1/2)<1){return 1/2*g*g*g*g*g}return 1/2*((g-=2)*g*g*g*g+2)},easeInSine:function(g){return -1*Math.cos(g/1*(Math.PI/2))+1},easeOutSine:function(g){return 1*Math.sin(g/1*(Math.PI/2))},easeInOutSine:function(g){return -1/2*(Math.cos(Math.PI*g/1)-1)},easeInExpo:function(g){return(g===0)?1:1*Math.pow(2,10*(g/1-1))},easeOutExpo:function(g){return(g===1)?1:1*(-Math.pow(2,-10*g/1)+1)},easeInOutExpo:function(g){if(g===0){return 0}if(g===1){return 1}if((g/=1/2)<1){return 1/2*Math.pow(2,10*(g-1))}return 1/2*(-Math.pow(2,-10*--g)+2)},easeInCirc:function(g){if(g>=1){return g}return -1*(Math.sqrt(1-(g/=1)*g)-1)},easeOutCirc:function(g){return 1*Math.sqrt(1-(g=g/1-1)*g)},easeInOutCirc:function(g){if((g/=1/2)<1){return -1/2*(Math.sqrt(1-g*g)-1)}return 1/2*(Math.sqrt(1-(g-=2)*g)+1)},easeInElastic:function(h){var i=1.70158;var j=0;var g=1;if(h===0){return 0}if((h/=1)===1){return 1}if(!j){j=1*0.3}if(g<Math.abs(1)){g=1;i=j/4}else{i=j/(2*Math.PI)*Math.asin(1/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*1-i)*(2*Math.PI)/j))},easeOutElastic:function(h){var i=1.70158;var j=0;var g=1;if(h===0){return 0}if((h/=1)===1){return 1}if(!j){j=1*0.3}if(g<Math.abs(1)){g=1;i=j/4}else{i=j/(2*Math.PI)*Math.asin(1/g)}return g*Math.pow(2,-10*h)*Math.sin((h*1-i)*(2*Math.PI)/j)+1},easeInOutElastic:function(h){var i=1.70158;var j=0;var g=1;if(h===0){return 0}if((h/=1/2)===2){return 1}if(!j){j=1*(0.3*1.5)}if(g<Math.abs(1)){g=1;i=j/4}else{i=j/(2*Math.PI)*Math.asin(1/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*1-i)*(2*Math.PI)/j))}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*1-i)*(2*Math.PI)/j)*0.5+1},easeInBack:function(g){var h=1.70158;return 1*(g/=1)*g*((h+1)*g-h)},easeOutBack:function(g){var h=1.70158;return 1*((g=g/1-1)*g*((h+1)*g+h)+1)},easeInOutBack:function(g){var h=1.70158;if((g/=1/2)<1){return 1/2*(g*g*(((h*=(1.525))+1)*g-h))}return 1/2*((g-=2)*g*(((h*=(1.525))+1)*g+h)+2)},easeInBounce:function(g){return 1-f.easeOutBounce(1-g)},easeOutBounce:function(g){if((g/=1)<(1/2.75)){return 1*(7.5625*g*g)}else{if(g<(2/2.75)){return 1*(7.5625*(g-=(1.5/2.75))*g+0.75)}else{if(g<(2.5/2.75)){return 1*(7.5625*(g-=(2.25/2.75))*g+0.9375)}else{return 1*(7.5625*(g-=(2.625/2.75))*g+0.984375)}}}},easeInOutBounce:function(g){if(g<1/2){return f.easeInBounce(g*2)*0.5}return f.easeOutBounce(g*2-1)*0.5+1*0.5}};d.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(g){return window.setTimeout(g,1000/60)}})();d.cancelAnimFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(g){return window.clearTimeout(g,1000/60)}})();d.getRelativePosition=function(r,q){var n,m;var p=r.originalEvent||r,i=r.currentTarget||r.srcElement,j=i.getBoundingClientRect();var o=p.touches;if(o&&o.length>0){n=o[0].clientX;m=o[0].clientY}else{n=p.clientX;m=p.clientY}var l=parseFloat(d.getStyle(i,"padding-left"));var t=parseFloat(d.getStyle(i,"padding-top"));var k=parseFloat(d.getStyle(i,"padding-right"));var h=parseFloat(d.getStyle(i,"padding-bottom"));var g=j.right-j.left-l-k;var s=j.bottom-j.top-t-h;n=Math.round((n-j.left-l)/(g)*i.width/q.currentDevicePixelRatio);m=Math.round((m-j.top-t)/(s)*i.height/q.currentDevicePixelRatio);return{x:n,y:m}};d.addEvent=function(h,g,i){if(h.addEventListener){h.addEventListener(g,i)}else{if(h.attachEvent){h.attachEvent("on"+g,i)}else{h["on"+g]=i}}};d.removeEvent=function(i,g,h){if(i.removeEventListener){i.removeEventListener(g,h,false)}else{if(i.detachEvent){i.detachEvent("on"+g,h)}else{i["on"+g]=d.noop}}};d.bindEvents=function(g,j,i){var h=g.events=g.events||{};d.each(j,function(k){h[k]=function(){i.apply(g,arguments)};d.addEvent(g.chart.canvas,k,h[k])})};d.unbindEvents=function(g,i){var h=g.chart.canvas;d.each(i,function(k,j){d.removeEvent(h,j,k)})};function b(h,j,i){var g;if(typeof(h)==="string"){g=parseInt(h,10);if(h.indexOf("%")!=-1){g=g/100*j.parentNode[i]}}else{g=h}return g}function c(g){return g!==undefined&&g!==null&&g!=="none"}function e(j,p,m){var n=document.defaultView;var k=j.parentNode;var g=n.getComputedStyle(j)[p];var i=n.getComputedStyle(k)[p];var h=c(g);var o=c(i);var l=Number.POSITIVE_INFINITY;if(h||o){return Math.min(h?b(g,j,m):l,o?b(i,k,m):l)}return"none"}d.getConstraintWidth=function(g){return e(g,"max-width","clientWidth")};d.getConstraintHeight=function(g){return e(g,"max-height","clientHeight")};d.getMaximumWidth=function(j){var i=j.parentNode;var k=parseInt(d.getStyle(i,"padding-left"))+parseInt(d.getStyle(i,"padding-right"));var h=i.clientWidth-k;var g=d.getConstraintWidth(j);return isNaN(g)?h:Math.min(h,g)};d.getMaximumHeight=function(k){var g=k.parentNode;var l=parseInt(d.getStyle(g,"padding-top"))+parseInt(d.getStyle(g,"padding-bottom"));var j=g.clientHeight-l;var i=d.getConstraintHeight(k);return isNaN(i)?j:Math.min(j,i)};d.getStyle=function(g,h){return g.currentStyle?g.currentStyle[h]:document.defaultView.getComputedStyle(g,null).getPropertyValue(h)};d.retinaScale=function(k){var h=k.ctx;var i=k.canvas;var j=i.width;var g=i.height;var l=k.currentDevicePixelRatio=window.devicePixelRatio||1;if(l!==1){i.height=g*l;i.width=j*l;h.scale(l,l);k.originalDevicePixelRatio=k.originalDevicePixelRatio||l}i.style.width=j+"px";i.style.height=g+"px"};d.clear=function(g){g.ctx.clearRect(0,0,g.width,g.height)};d.fontString=function(h,i,g){return i+" "+h+"px "+g};d.longestText=function(p,j,o,g){g=g||{};var l=g.data=g.data||{};var n=g.garbageCollect=g.garbageCollect||[];if(g.font!==j){l=g.data={};n=g.garbageCollect=[];g.font=j}p.font=j;var h=0;d.each(o,function(i){if(i!==undefined&&i!==null){var q=l[i];if(!q){q=l[i]=p.measureText(i).width;n.push(i)}if(q>h){h=q}}});var m=n.length/2;if(m>o.length){for(var k=0;k<m;k++){delete l[n[k]]}n.splice(0,m)}return h};d.drawRoundedRectangle=function(j,i,l,k,h,g){j.beginPath();j.moveTo(i+g,l);j.lineTo(i+k-g,l);j.quadraticCurveTo(i+k,l,i+k,l+g);j.lineTo(i+k,l+h-g);j.quadraticCurveTo(i+k,l+h,i+k-g,l+h);j.lineTo(i+g,l+h);j.quadraticCurveTo(i,l+h,i,l+h-g);j.lineTo(i,l+g);j.quadraticCurveTo(i,l,i+g,l);j.closePath()};d.color=function(g){if(!color){console.log("Color.js not found!");return g}if(g instanceof CanvasGradient){return color(a.defaults.global.defaultColor)}return color(g)};d.addResizeListener=function(i,k){var g=document.createElement("iframe");var j="chartjs-hidden-iframe";if(g.classlist){g.classlist.add(j)}else{g.setAttribute("class",j)}var h=g.style;h.width="100%";h.display="block";h.border=0;h.height=0;h.margin=0;h.position="absolute";h.left=0;h.right=0;h.top=0;h.bottom=0;i.insertBefore(g,i.firstChild);(g.contentWindow||g).onresize=function(){if(k){k()}}};d.removeResizeListener=function(h){var g=h.querySelector(".chartjs-hidden-iframe");if(g){g.parentNode.removeChild(g)}};d.isArray=function(g){if(!Array.isArray){return Object.prototype.toString.call(g)==="[object Array]"}return Array.isArray(g)};d.arrayEquals=function(j,h){var l,k,g,m;if(!j||!h||j.length!=h.length){return false}for(l=0,k=j.length;l<k;++l){g=j[l];m=h[l];if(g instanceof Array&&m instanceof Array){if(!d.arrayEquals(g,m)){return false}}else{if(g!=m){return false}}}return true};d.pushAllIfDefined=function(g,h){if(typeof g==="undefined"){return}if(d.isArray(g)){h.push.apply(h,g)}else{h.push(g)}};d.callCallback=function(h,g,i){if(h&&typeof h.call==="function"){h.apply(i,g)}};d.getHoverColor=function(g){return(g instanceof CanvasPattern)?g:d.color(g).saturate(0.5).darken(0.1).rgbString()}};