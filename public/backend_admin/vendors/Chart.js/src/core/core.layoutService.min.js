"use strict";module.exports=function(a){var b=a.helpers;a.layoutService={defaults:{},addBox:function(c,d){if(!c.boxes){c.boxes=[]}c.boxes.push(d)},removeBox:function(c,d){if(!c.boxes){return}c.boxes.splice(c.boxes.indexOf(d),1)},update:function(c,C,w){if(!c){return}var t=0;var e=0;var A=b.where(c.boxes,function(J){return J.options.position==="left"});var D=b.where(c.boxes,function(J){return J.options.position==="right"});var h=b.where(c.boxes,function(J){return J.options.position==="top"});var F=b.where(c.boxes,function(J){return J.options.position==="bottom"});var m=b.where(c.boxes,function(J){return J.options.position==="chartArea"});h.sort(function(K,J){return(J.options.fullWidth?1:0)-(K.options.fullWidth?1:0)});F.sort(function(K,J){return(K.options.fullWidth?1:0)-(J.options.fullWidth?1:0)});var E=C-(2*t);var p=w-(2*e);var u=E/2;var i=p/2;var x=(C-u)/(A.length+D.length);var n=(w-i)/(h.length+F.length);var r=E;var z=p;var j=[];b.each(A.concat(D,h,F),s);function s(J){var K;var L=J.isHorizontal();if(L){K=J.update(J.options.fullWidth?E:r,n);z-=K.height}else{K=J.update(x,i);r-=K.width}j.push({horizontal:L,minSize:K,box:J})}var I=t;var d=t;var y=e;var f=e;b.each(A.concat(D),o);b.each(A,function(J){I+=J.width});b.each(D,function(J){d+=J.width});b.each(h.concat(F),o);function o(K){var J=b.findNextWhere(j,function(M){return M.box===K});if(J){if(K.isHorizontal()){var L={left:I,right:d,top:0,bottom:0};K.update(K.options.fullWidth?E:r,p/2,L)}else{K.update(J.minSize.width,z)}}}b.each(h,function(J){y+=J.height});b.each(F,function(J){f+=J.height});b.each(A.concat(D),g);function g(K){var J=b.findNextWhere(j,function(M){return M.box===K});var L={left:0,right:0,top:y,bottom:f};if(J){K.update(J.minSize.width,z,L)}}I=t;d=t;y=e;f=e;b.each(A,function(J){I+=J.width});b.each(D,function(J){d+=J.width});b.each(h,function(J){y+=J.height});b.each(F,function(J){f+=J.height});var G=w-y-f;var B=C-I-d;if(B!==r||G!==z){b.each(A,function(J){J.height=G});b.each(D,function(J){J.height=G});b.each(h,function(J){if(!J.options.fullWidth){J.width=B}});b.each(F,function(J){if(!J.options.fullWidth){J.width=B}});z=G;r=B}var l=t;var v=e;var H=0;var q=0;b.each(A.concat(h),k);l+=r;v+=z;b.each(D,k);b.each(F,k);function k(J){if(J.isHorizontal()){J.left=J.options.fullWidth?t:I;J.right=J.options.fullWidth?C-t:I+r;J.top=v;J.bottom=v+J.height;v=J.bottom}else{J.left=l;J.right=l+J.width;J.top=y;J.bottom=y+z;l=J.right}}c.chartArea={left:I,top:y,right:I+r,bottom:y+z};b.each(m,function(J){J.left=c.chartArea.left;J.top=c.chartArea.top;J.right=c.chartArea.right;J.bottom=c.chartArea.bottom;J.update(r,z)})}}};