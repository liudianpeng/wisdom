"use strict";module.exports=function(a){var c=a.helpers;a.defaults.global.title={display:false,position:"top",fullWidth:true,fontStyle:"bold",padding:10,text:""};var b=c.noop;a.Title=a.Element.extend({initialize:function(d){c.extend(this,d);this.options=c.configMerge(a.defaults.global.title,d.options);this.legendHitBoxes=[]},beforeUpdate:b,update:function(e,d,f){this.beforeUpdate();this.maxWidth=e;this.maxHeight=d;this.margins=f;this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this.beforeBuildLabels();this.buildLabels();this.afterBuildLabels();this.beforeFit();this.fit();this.afterFit();this.afterUpdate();return this.minSize},afterUpdate:b,beforeSetDimensions:b,setDimensions:function(){if(this.isHorizontal()){this.width=this.maxWidth;this.left=0;this.right=this.width}else{this.height=this.maxHeight;this.top=0;this.bottom=this.height}this.paddingLeft=0;this.paddingTop=0;this.paddingRight=0;this.paddingBottom=0;this.minSize={width:0,height:0}},afterSetDimensions:b,beforeBuildLabels:b,buildLabels:b,afterBuildLabels:b,beforeFit:b,fit:function(){var k=this,d=k.ctx,j=c.getValueOrDefault,f=k.options,e=a.defaults.global,i=f.display,g=j(f.fontSize,e.defaultFontSize),h=k.minSize;if(k.isHorizontal()){h.width=k.maxWidth;h.height=i?g+(f.padding*2):0}else{h.width=i?g+(f.padding*2):0;h.height=k.maxHeight}k.width=h.width;k.height=h.height},afterFit:b,isHorizontal:function(){var d=this.options.position;return d==="top"||d==="bottom"},draw:function(){var j=this,r=j.ctx,l=c.getValueOrDefault,e=j.options,i=a.defaults.global;if(e.display){var s=l(e.fontSize,i.defaultFontSize),h=l(e.fontStyle,i.defaultFontStyle),n=l(e.fontFamily,i.defaultFontFamily),g=c.fontString(s,h,n),q=0,m,k,o=j.top,f=j.left,d=j.bottom,p=j.right;r.fillStyle=l(e.fontColor,i.defaultFontColor);r.font=g;if(j.isHorizontal()){m=f+((p-f)/2);k=o+((d-o)/2)}else{m=e.position==="left"?f+(s/2):p-(s/2);k=o+((d-o)/2);q=Math.PI*(e.position==="left"?-0.5:0.5)}r.save();r.translate(m,k);r.rotate(q);r.textAlign="center";r.textBaseline="middle";r.fillText(e.text,0,0);r.restore()}}})};