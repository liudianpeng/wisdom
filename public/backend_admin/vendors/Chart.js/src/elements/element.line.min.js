"use strict";module.exports=function(a){var c=a.helpers;var b=a.defaults.global;a.defaults.global.elements.line={tension:0.4,backgroundColor:b.defaultColor,borderWidth:3,borderColor:b.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:true};a.elements.Line=a.Element.extend({lineToNextPoint:function(f,d,h,g,i){var e=this._chart.ctx;if(d._view.skip){g.call(this,f,d,h)}else{if(f._view.skip){i.call(this,f,d,h)}else{if(d._view.tension===0){e.lineTo(d._view.x,d._view.y)}else{e.bezierCurveTo(f._view.controlPointNextX,f._view.controlPointNextY,d._view.controlPointPreviousX,d._view.controlPointPreviousY,d._view.x,d._view.y)}}}},draw:function(){var j=this;var g=this._view;var e=this._chart.ctx;var i=this._children[0];var h=this._children[this._children.length-1];function f(k){if(!i._view.skip&&!h._view.skip){e.bezierCurveTo(h._view.controlPointNextX,h._view.controlPointNextY,i._view.controlPointPreviousX,i._view.controlPointPreviousY,i._view.x,i._view.y)}else{if(k){e.lineTo(j._view.scaleZero.x,j._view.scaleZero.y)}}}e.save();if(this._children.length>0&&g.fill){e.beginPath();c.each(this._children,function(k,l){var n=c.previousItem(this._children,l);var m=c.nextItem(this._children,l);if(l===0){if(this._loop){e.moveTo(g.scaleZero.x,g.scaleZero.y)}else{e.moveTo(k._view.x,g.scaleZero)}if(k._view.skip){if(!this._loop){e.moveTo(m._view.x,this._view.scaleZero)}}else{e.lineTo(k._view.x,k._view.y)}}else{this.lineToNextPoint(n,k,m,function(p,o,q){if(this._loop){e.lineTo(this._view.scaleZero.x,this._view.scaleZero.y)}else{e.lineTo(p._view.x,this._view.scaleZero);e.moveTo(q._view.x,this._view.scaleZero)}},function(p,o){e.lineTo(o._view.x,o._view.y)})}},this);if(this._loop){f(true)}else{e.lineTo(this._children[this._children.length-1]._view.x,g.scaleZero);e.lineTo(this._children[0]._view.x,g.scaleZero)}e.fillStyle=g.backgroundColor||b.defaultColor;e.closePath();e.fill()}var d=b.elements.line;e.lineCap=g.borderCapStyle||d.borderCapStyle;if(e.setLineDash){e.setLineDash(g.borderDash||d.borderDash)}e.lineDashOffset=g.borderDashOffset||d.borderDashOffset;e.lineJoin=g.borderJoinStyle||d.borderJoinStyle;e.lineWidth=g.borderWidth||d.borderWidth;e.strokeStyle=g.borderColor||b.defaultColor;e.beginPath();c.each(this._children,function(k,l){var n=c.previousItem(this._children,l);var m=c.nextItem(this._children,l);if(l===0){e.moveTo(k._view.x,k._view.y)}else{this.lineToNextPoint(n,k,m,function(p,o,q){e.moveTo(q._view.x,q._view.y)},function(p,o){e.moveTo(o._view.x,o._view.y)})}},this);if(this._loop&&this._children.length>0){f()}e.stroke();e.restore()}})};