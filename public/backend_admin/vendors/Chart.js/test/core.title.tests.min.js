describe("Title block tests",function(){it("Should be constructed",function(){var a=new Chart.Title({});expect(a).not.toBe(undefined)});it("Should have the correct default config",function(){expect(Chart.defaults.global.title).toEqual({display:false,position:"top",fullWidth:true,fontStyle:"bold",padding:10,text:""})});it("should update correctly",function(){var b={};var a=Chart.helpers.clone(Chart.defaults.global.title);a.text="My title";var d=new Chart.Title({chart:b,options:a});var c=d.update(400,200);expect(c).toEqual({width:400,height:0});d.options.display=true;c=d.update(400,200);expect(c).toEqual({width:400,height:32})});it("should update correctly when vertical",function(){var b={};var a=Chart.helpers.clone(Chart.defaults.global.title);a.text="My title";a.position="left";var d=new Chart.Title({chart:b,options:a});var c=d.update(200,400);expect(c).toEqual({width:0,height:400});d.options.display=true;c=d.update(200,400);expect(c).toEqual({width:32,height:400})});it("should draw correctly horizontally",function(){var c={};var b=window.createMockContext();var a=Chart.helpers.clone(Chart.defaults.global.title);a.text="My title";var e=new Chart.Title({chart:c,options:a,ctx:b});e.update(400,200);e.draw();expect(b.getCalls()).toEqual([]);e.options.display=true;var d=e.update(400,200);e.top=50;e.left=100;e.bottom=e.top+d.height;e.right=e.left+d.width;e.draw();expect(b.getCalls()).toEqual([{name:"setFillStyle",args:["#666"]},{name:"save",args:[]},{name:"translate",args:[300,66]},{name:"rotate",args:[0]},{name:"fillText",args:["My title",0,0]},{name:"restore",args:[]}])});it("should draw correctly vertically",function(){var c={};var b=window.createMockContext();var a=Chart.helpers.clone(Chart.defaults.global.title);a.text="My title";a.position="left";var e=new Chart.Title({chart:c,options:a,ctx:b});e.update(200,400);e.draw();expect(b.getCalls()).toEqual([]);e.options.display=true;var d=e.update(200,400);e.top=50;e.left=100;e.bottom=e.top+d.height;e.right=e.left+d.width;e.draw();expect(b.getCalls()).toEqual([{name:"setFillStyle",args:["#666"]},{name:"save",args:[]},{name:"translate",args:[106,250]},{name:"rotate",args:[-0.5*Math.PI]},{name:"fillText",args:["My title",0,0]},{name:"restore",args:[]}]);e.options.position="right";b.resetCalls();d=e.update(200,400);e.top=50;e.left=100;e.bottom=e.top+d.height;e.right=e.left+d.width;e.draw();expect(b.getCalls()).toEqual([{name:"setFillStyle",args:["#666"]},{name:"save",args:[]},{name:"translate",args:[126,250]},{name:"rotate",args:[0.5*Math.PI]},{name:"fillText",args:["My title",0,0]},{name:"restore",args:[]}])})});