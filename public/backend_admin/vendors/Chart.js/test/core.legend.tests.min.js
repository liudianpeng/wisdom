describe("Legend block tests",function(){beforeEach(function(){window.addDefaultMatchers(jasmine)});afterEach(function(){window.releaseAllCharts()});it("Should be constructed",function(){var a=new Chart.Legend({});expect(a).not.toBe(undefined)});it("should have the correct default config",function(){expect(Chart.defaults.global.legend).toEqual({display:true,position:"top",fullWidth:true,reverse:false,onClick:jasmine.any(Function),labels:{boxWidth:40,padding:10,generateLabels:jasmine.any(Function)}})});it("should update correctly",function(){var a=window.acquireChart({type:"bar",data:{datasets:[{label:"dataset1",backgroundColor:"#f31",borderCapStyle:"butt",borderDash:[2,2],borderDashOffset:5.5,data:[]},{label:"dataset2",hidden:true,borderJoinStyle:"miter",data:[]},{label:"dataset3",borderWidth:10,borderColor:"green",data:[]}],labels:[]}});expect(a.legend.legendItems).toEqual([{text:"dataset1",fillStyle:"#f31",hidden:false,lineCap:"butt",lineDash:[2,2],lineDashOffset:5.5,lineJoin:undefined,lineWidth:undefined,strokeStyle:undefined,datasetIndex:0},{text:"dataset2",fillStyle:undefined,hidden:true,lineCap:undefined,lineDash:undefined,lineDashOffset:undefined,lineJoin:"miter",lineWidth:undefined,strokeStyle:undefined,datasetIndex:1},{text:"dataset3",fillStyle:undefined,hidden:false,lineCap:undefined,lineDash:undefined,lineDashOffset:undefined,lineJoin:undefined,lineWidth:10,strokeStyle:"green",datasetIndex:2}])});it("should draw correctly",function(){var a=window.acquireChart({type:"bar",data:{datasets:[{label:"dataset1",backgroundColor:"#f31",borderCapStyle:"butt",borderDash:[2,2],borderDashOffset:5.5,data:[]},{label:"dataset2",hidden:true,borderJoinStyle:"miter",data:[]},{label:"dataset3",borderWidth:10,borderColor:"green",data:[]}],labels:[]}});expect(a.legend.legendHitBoxes.length).toBe(3);[{h:12,l:101,t:10,w:93},{h:12,l:205,t:10,w:93},{h:12,l:308,t:10,w:93}].forEach(function(c,b){expect(a.legend.legendHitBoxes[b].height).toBeCloseToPixel(c.h);expect(a.legend.legendHitBoxes[b].left).toBeCloseToPixel(c.l);expect(a.legend.legendHitBoxes[b].top).toBeCloseToPixel(c.t);expect(a.legend.legendHitBoxes[b].width).toBeCloseToPixel(c.w)})})});