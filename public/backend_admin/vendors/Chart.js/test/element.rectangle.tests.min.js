describe("Rectangle element tests",function(){it("Should be constructed",function(){var b=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});expect(b).not.toBe(undefined);expect(b._datasetIndex).toBe(2);expect(b._index).toBe(1)});it("Should correctly identify as in range",function(){var c=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});expect(c.inRange(5)).toBe(false);expect(c.inLabelRange(5)).toBe(false);c._view={base:0,width:4,x:10,y:15};expect(c.inRange(10,15)).toBe(true);expect(c.inRange(10,10)).toBe(true);expect(c.inRange(10,16)).toBe(false);expect(c.inRange(5,5)).toBe(false);expect(c.inLabelRange(5)).toBe(false);expect(c.inLabelRange(7)).toBe(false);expect(c.inLabelRange(10)).toBe(true);expect(c.inLabelRange(12)).toBe(true);expect(c.inLabelRange(15)).toBe(false);expect(c.inLabelRange(20)).toBe(false);var b=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});b._view={base:0,width:4,x:10,y:-15};expect(b.inRange(10,-16)).toBe(false);expect(b.inRange(10,1)).toBe(false);expect(b.inRange(10,-5)).toBe(true)});it("should get the correct height",function(){var c=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});c._view={base:0,width:4,x:10,y:15};expect(c.height()).toBe(-15);var b=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});b._view={base:-10,width:4,x:10,y:-15};expect(b.height()).toBe(5)});it("should get the correct tooltip position",function(){var c=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});c._view={base:0,width:4,x:10,y:15};expect(c.tooltipPosition()).toEqual({x:10,y:15,});var b=new Chart.elements.Rectangle({_datasetIndex:2,_index:1});b._view={base:-10,width:4,x:10,y:-15};expect(b.tooltipPosition()).toEqual({x:10,y:-15,})});it("should draw correctly",function(){var c=window.createMockContext();var b=new Chart.elements.Rectangle({_datasetIndex:2,_index:1,_chart:{ctx:c,}});b._view={backgroundColor:"rgb(255, 0, 0)",base:0,borderColor:"rgb(0, 0, 255)",borderWidth:1,ctx:c,width:4,x:10,y:15,};b.draw();expect(c.getCalls()).toEqual([{name:"beginPath",args:[],},{name:"setFillStyle",args:["rgb(255, 0, 0)"]},{name:"setStrokeStyle",args:["rgb(0, 0, 255)"],},{name:"setLineWidth",args:[1]},{name:"moveTo",args:[8.5,0]},{name:"lineTo",args:[8.5,15.5]},{name:"lineTo",args:[11.5,15.5]},{name:"lineTo",args:[11.5,0]},{name:"fill",args:[],},{name:"stroke",args:[]}])});it("should draw correctly with no stroke",function(){var c=window.createMockContext();var b=new Chart.elements.Rectangle({_datasetIndex:2,_index:1,_chart:{ctx:c,}});b._view={backgroundColor:"rgb(255, 0, 0)",base:0,borderColor:"rgb(0, 0, 255)",ctx:c,width:4,x:10,y:15,};b.draw();expect(c.getCalls()).toEqual([{name:"beginPath",args:[],},{name:"setFillStyle",args:["rgb(255, 0, 0)"]},{name:"setStrokeStyle",args:["rgb(0, 0, 255)"],},{name:"setLineWidth",args:[undefined]},{name:"moveTo",args:[8,0]},{name:"lineTo",args:[8,15]},{name:"lineTo",args:[12,15]},{name:"lineTo",args:[12,0]},{name:"fill",args:[],}])});function a(d,b){var f=window.createMockContext();var e=new Chart.elements.Rectangle({_chart:{ctx:f}});e._view={borderSkipped:d,ctx:f,base:0,width:4,x:10,y:15,};e.draw();var c=e._view.ctx.getCalls().splice(4,4);expect(c).toEqual(b)}it('should draw correctly respecting "borderSkipped" == "bottom"',function(){a("bottom",[{name:"moveTo",args:[8,0]},{name:"lineTo",args:[8,15]},{name:"lineTo",args:[12,15]},{name:"lineTo",args:[12,0]},])});it('should draw correctly respecting "borderSkipped" == "left"',function(){a("left",[{name:"moveTo",args:[8,15]},{name:"lineTo",args:[12,15]},{name:"lineTo",args:[12,0]},{name:"lineTo",args:[8,0]},])});it('should draw correctly respecting "borderSkipped" == "top"',function(){a("top",[{name:"moveTo",args:[12,15]},{name:"lineTo",args:[12,0]},{name:"lineTo",args:[8,0]},{name:"lineTo",args:[8,15]},])});it('should draw correctly respecting "borderSkipped" == "right"',function(){a("right",[{name:"moveTo",args:[12,0]},{name:"lineTo",args:[8,0]},{name:"lineTo",args:[8,15]},{name:"lineTo",args:[12,15]},])})});