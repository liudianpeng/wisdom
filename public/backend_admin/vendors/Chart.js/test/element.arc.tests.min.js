describe("Arc element tests",function(){it("Should be constructed",function(){var a=new Chart.elements.Arc({_datasetIndex:2,_index:1});expect(a).not.toBe(undefined);expect(a._datasetIndex).toBe(2);expect(a._index).toBe(1)});it("should determine if in range",function(){var a=new Chart.elements.Arc({_datasetIndex:2,_index:1});expect(a.inRange(2,2)).toBe(false);expect(a.inLabelRange(2)).toBe(false);a._view={startAngle:0,endAngle:Math.PI/2,x:0,y:0,innerRadius:5,outerRadius:10,};expect(a.inRange(2,2)).toBe(false);expect(a.inRange(7,0)).toBe(true);expect(a.inRange(0,11)).toBe(false);expect(a.inRange(Math.sqrt(32),Math.sqrt(32))).toBe(true);expect(a.inRange(-1*Math.sqrt(7),Math.sqrt(7))).toBe(false)});it("should get the tooltip position",function(){var a=new Chart.elements.Arc({_datasetIndex:2,_index:1});a._view={startAngle:0,endAngle:Math.PI/2,x:0,y:0,innerRadius:0,outerRadius:Math.sqrt(2),};var b=a.tooltipPosition();expect(b.x).toBeCloseTo(0.5);expect(b.y).toBeCloseTo(0.5)});it("should draw correctly with no border",function(){var b=window.createMockContext();var a=new Chart.elements.Arc({_datasetIndex:2,_index:1,_chart:{ctx:b,}});a._view={startAngle:0,endAngle:Math.PI/2,x:10,y:5,innerRadius:1,outerRadius:3,backgroundColor:"rgb(0, 0, 255)",borderColor:"rgb(255, 0, 0)",};a.draw();expect(b.getCalls()).toEqual([{name:"beginPath",args:[]},{name:"arc",args:[10,5,3,0,Math.PI/2]},{name:"arc",args:[10,5,1,Math.PI/2,0,true]},{name:"closePath",args:[]},{name:"setStrokeStyle",args:["rgb(255, 0, 0)"]},{name:"setLineWidth",args:[undefined]},{name:"setFillStyle",args:["rgb(0, 0, 255)"]},{name:"fill",args:[]},{name:"setLineJoin",args:["bevel"]}])});it("should draw correctly with a border",function(){var b=window.createMockContext();var a=new Chart.elements.Arc({_datasetIndex:2,_index:1,_chart:{ctx:b,}});a._view={startAngle:0,endAngle:Math.PI/2,x:10,y:5,innerRadius:1,outerRadius:3,backgroundColor:"rgb(0, 0, 255)",borderColor:"rgb(255, 0, 0)",borderWidth:5};a.draw();expect(b.getCalls()).toEqual([{name:"beginPath",args:[]},{name:"arc",args:[10,5,3,0,Math.PI/2]},{name:"arc",args:[10,5,1,Math.PI/2,0,true]},{name:"closePath",args:[]},{name:"setStrokeStyle",args:["rgb(255, 0, 0)"]},{name:"setLineWidth",args:[5]},{name:"setFillStyle",args:["rgb(0, 0, 255)"]},{name:"fill",args:[]},{name:"setLineJoin",args:["bevel"]},{name:"stroke",args:[]}])})});