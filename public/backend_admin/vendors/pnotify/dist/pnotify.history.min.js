(function(c,d){"function"===typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],d):"object"===typeof exports&&"undefined"!==typeof module?module.exports=d(require("jquery"),require("./pnotify")):d(c.jQuery,c.PNotify)})(this,function(d,f){var h,g;d(function(){d("body").on("pnotify.history-all",function(){d.each(f.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var a="top"===f.prototype.options.stack.push,e=a?0:-1,i;do{i=-1===e?f.notices.slice(e):f.notices.slice(e,e+1);if(!i[0]){return !1}e=a?e+1:e-1}while(!i[0].modules.history.inHistory||i[0].elem.is(":visible"));i[0].open&&i[0].open()})});f.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:Infinity,labels:{redisplay:"Redisplay",all:"All",last:"Last"}};f.prototype.modules.history={inHistory:!1,init:function(b,c){b.options.destroy=!1;this.inHistory=c.history;c.menu&&"undefined"===typeof h&&(h=d("<div />",{"class":"ui-pnotify-history-container "+b.styles.hi_menu,mouseleave:function(){h.animate({top:"-"+g+"px"},{duration:100,queue:!1})}}).append(d("<div />",{"class":"ui-pnotify-history-header",text:c.labels.redisplay})).append(d("<button />",{"class":"ui-pnotify-history-all "+b.styles.hi_btn,text:c.labels.all,mouseenter:function(){d(this).addClass(b.styles.hi_btnhov)},mouseleave:function(){d(this).removeClass(b.styles.hi_btnhov)},click:function(){d(this).trigger("pnotify.history-all");return !1}})).append(d("<button />",{"class":"ui-pnotify-history-last "+b.styles.hi_btn,text:c.labels.last,mouseenter:function(){d(this).addClass(b.styles.hi_btnhov)},mouseleave:function(){d(this).removeClass(b.styles.hi_btnhov)},click:function(){d(this).trigger("pnotify.history-last");return !1}})).appendTo("body"),g=d("<span />",{"class":"ui-pnotify-history-pulldown "+b.styles.hi_hnd,mouseenter:function(){h.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(h).offset().top+2,h.css({top:"-"+g+"px"}),c.fixed&&h.addClass("ui-pnotify-history-fixed"))},update:function(e,c){this.inHistory=c.history;c.fixed&&h?h.addClass("ui-pnotify-history-fixed"):h&&h.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(i,b){if(f.notices&&f.notices.length>b.maxonscreen){var a;a="top"!==i.options.stack.push?f.notices.slice(0,f.notices.length-b.maxonscreen):f.notices.slice(b.maxonscreen,f.notices.length);d.each(a,function(){this.remove&&this.remove()})}}};d.extend(f.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"});d.extend(f.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"});d.extend(f.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"});d.extend(f.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})});