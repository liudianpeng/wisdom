(function(a,c){"function"===typeof define&&define.amd?define("pnotify",["jquery"],function(b){return c(b,a)}):"object"===typeof exports&&"undefined"!==typeof module?module.exports=c(require("jquery"),global||a):a.PNotify=c(a.jQuery,a)})(this,function(a,c){var d=function(b){var e={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:a("body"),modal:!1},m,i,p=a(b),j=function(){i=a("body");o.prototype.options.stack.context=i;p=a(b);p.bind("resize",function(){m&&clearTimeout(m);m=setTimeout(function(){o.positionAll(!0)},10)})},f=function(h){var g=a("<div />",{"class":"ui-pnotify-modal-overlay"});g.prependTo(h.context);h.overlay_close&&g.click(function(){o.removeStack(h)});return g},o=function(g){this.parseOptions(g);this.init()};a.extend(o.prototype,{version:"3.0.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8000,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:e},modules:{},runModules:function(l,h){var k,g;for(g in this.modules){k="object"===typeof h&&g in h?h[g]:h,"function"===typeof this.modules[g][l]&&(this.modules[g].notice=this,this.modules[g].options="object"===typeof this.options[g]?this.options[g]:{},this.modules[g][l](this,"object"===typeof this.options[g]?this.options[g]:{},k))}},state:"initializing",timer:null,animTimer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var g=this;this.modules={};a.extend(!0,this.modules,o.prototype.modules);this.styles="object"===typeof this.options.styling?this.options.styling:o.styling[this.options.styling];this.elem=a("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(h){if(g.options.mouse_reset&&"out"===g.animating){if(!g.timerHide){return}g.cancelRemove()}g.options.hide&&g.options.mouse_reset&&g.cancelRemove()},mouseleave:function(h){g.options.hide&&g.options.mouse_reset&&"out"!==g.animating&&g.queueRemove();o.positionAll()}});"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed);this.container=a("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem);""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass);this.options.shadow&&this.container.addClass("ui-pnotify-shadow");!1!==this.options.icon&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);this.title_container=a("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container);!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title);this.text_container=a("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container);!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text);"string"===typeof this.options.width&&this.elem.css("width",this.options.width);"string"===typeof this.options.min_height&&this.container.css("min-height",this.options.min_height);o.notices="top"===this.options.stack.push?a.merge([this],o.notices):a.merge(o.notices,[this]);"top"===this.options.stack.push&&this.queuePosition(!1,1);this.options.stack.animation=!1;this.runModules("init");this.options.auto_display&&this.open();return this},update:function(h){var g=this.options;this.parseOptions(g,h);this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast");"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed);this.options.cornerclass!==g.cornerclass&&this.container.removeClass("ui-corner-all "+g.cornerclass).addClass(this.options.cornerclass);this.options.shadow!==g.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow"));!1===this.options.addclass?this.elem.removeClass(g.addclass):this.options.addclass!==g.addclass&&this.elem.removeClass(g.addclass).addClass(this.options.addclass);!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==g.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===g.title&&this.title_container.slideDown(200));!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==g.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===g.text&&this.text_container.slideDown(200));this.options.type!==g.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice);if(this.options.icon!==g.icon||!0===this.options.icon&&this.options.type!==g.type){this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)}this.options.width!==g.width&&this.elem.animate({width:this.options.width});this.options.min_height!==g.min_height&&this.container.animate({minHeight:this.options.min_height});this.options.hide?g.hide||this.queueRemove():this.cancelRemove();this.queuePosition(!0);this.runModules("update",g);return this},open:function(){this.state="opening";this.runModules("beforeOpen");var g=this;this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:i);"top"!==this.options.stack.push&&this.position(!0);this.animateIn(function(){g.queuePosition(!0);g.options.hide&&g.queueRemove();g.state="open";g.runModules("afterOpen")});return this},remove:function(h){this.state="closing";this.timerHide=!!h;this.runModules("beforeClose");var g=this;this.timer&&(b.clearTimeout(this.timer),this.timer=null);this.animateOut(function(){g.state="closed";g.runModules("afterClose");g.queuePosition(!0);g.options.remove&&g.elem.detach();g.runModules("beforeDestroy");if(g.options.destroy&&null!==o.notices){var k=a.inArray(g,o.notices);-1!==k&&o.notices.splice(k,1)}g.runModules("afterDestroy")});return this},get:function(){return this.elem},parseOptions:function(q,h){this.options=a.extend(!0,{},o.prototype.options);this.options.stack=o.prototype.options.stack;for(var n=[q,h],g,k=0;k<n.length;k++){g=n[k];if("undefined"===typeof g){break}if("object"!==typeof g){this.options.text=g}else{for(var l in g){this.modules[l]?a.extend(!0,this.options[l],g[l]):this.options[l]=g[l]}}}},animateIn:function(h){this.animating="in";var g=this;h=function(){g.animTimer&&clearTimeout(g.animTimer);"in"===g.animating&&(g.elem.is(":visible")?(this&&this.call(),g.animating=!1):g.animTimer=setTimeout(h,40))}.bind(h);"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",h).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(h,650)):(this.elem.addClass("ui-pnotify-in"),h())},animateOut:function(h){this.animating="out";var g=this;h=function(){g.animTimer&&clearTimeout(g.animTimer);"out"===g.animating&&("0"!=g.elem.css("opacity")&&g.elem.is(":visible")?g.animTimer=setTimeout(h,40):(g.elem.removeClass("ui-pnotify-in"),this&&this.call(),g.animating=!1))}.bind(h);"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",h).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(h,650)):(this.elem.removeClass("ui-pnotify-in"),h())},position:function(q){var h=this.options.stack,g=this.elem;"undefined"===typeof h.context&&(h.context=i);if(h){"number"!==typeof h.nextpos1&&(h.nextpos1=h.firstpos1);"number"!==typeof h.nextpos2&&(h.nextpos2=h.firstpos2);"number"!==typeof h.addpos2&&(h.addpos2=0);var n=!g.hasClass("ui-pnotify-in");if(!n||q){h.modal&&(h.overlay?h.overlay.show():h.overlay=f(h));g.addClass("ui-pnotify-move");var k;switch(h.dir1){case"down":k="top";break;case"up":k="bottom";break;case"left":k="right";break;case"right":k="left"}q=parseInt(g.css(k).replace(/(?:\..*|[^0-9.])/g,""));isNaN(q)&&(q=0);"undefined"!==typeof h.firstpos1||n||(h.firstpos1=q,h.nextpos1=h.firstpos1);var l;switch(h.dir2){case"down":l="top";break;case"up":l="bottom";break;case"left":l="right";break;case"right":l="left"}q=parseInt(g.css(l).replace(/(?:\..*|[^0-9.])/g,""));isNaN(q)&&(q=0);"undefined"!==typeof h.firstpos2||n||(h.firstpos2=q,h.nextpos2=h.firstpos2);if("down"===h.dir1&&h.nextpos1+g.height()>(h.context.is(i)?p.height():h.context.prop("scrollHeight"))||"up"===h.dir1&&h.nextpos1+g.height()>(h.context.is(i)?p.height():h.context.prop("scrollHeight"))||"left"===h.dir1&&h.nextpos1+g.width()>(h.context.is(i)?p.width():h.context.prop("scrollWidth"))||"right"===h.dir1&&h.nextpos1+g.width()>(h.context.is(i)?p.width():h.context.prop("scrollWidth"))){h.nextpos1=h.firstpos1,h.nextpos2+=h.addpos2+("undefined"===typeof h.spacing2?25:h.spacing2),h.addpos2=0}"number"===typeof h.nextpos2&&(h.animation?g.css(l,h.nextpos2+"px"):(g.removeClass("ui-pnotify-move"),g.css(l,h.nextpos2+"px"),g.css(l),g.addClass("ui-pnotify-move")));switch(h.dir2){case"down":case"up":g.outerHeight(!0)>h.addpos2&&(h.addpos2=g.height());break;case"left":case"right":g.outerWidth(!0)>h.addpos2&&(h.addpos2=g.width())}"number"===typeof h.nextpos1&&(h.animation?g.css(k,h.nextpos1+"px"):(g.removeClass("ui-pnotify-move"),g.css(k,h.nextpos1+"px"),g.css(k),g.addClass("ui-pnotify-move")));switch(h.dir1){case"down":case"up":h.nextpos1+=g.height()+("undefined"===typeof h.spacing1?25:h.spacing1);break;case"left":case"right":h.nextpos1+=g.width()+("undefined"===typeof h.spacing1?25:h.spacing1)}}return this}},queuePosition:function(g,h){m&&clearTimeout(m);h||(h=10);m=setTimeout(function(){o.positionAll(g)},h);return this},cancelRemove:function(){this.timer&&b.clearTimeout(this.timer);this.animTimer&&b.clearTimeout(this.animTimer);"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in"));return this},queueRemove:function(){var g=this;this.cancelRemove();this.timer=b.setTimeout(function(){g.remove(!0)},isNaN(this.options.delay)?0:this.options.delay);return this}});a.extend(o,{notices:[],reload:d,removeAll:function(){a.each(o.notices,function(){this.remove&&this.remove(!1)})},removeStack:function(g){a.each(o.notices,function(){this.remove&&this.options.stack===g&&this.remove(!1)})},positionAll:function(h){m&&clearTimeout(m);m=null;if(o.notices&&o.notices.length){a.each(o.notices,function(){var k=this.options.stack;k&&(k.overlay&&k.overlay.hide(),k.nextpos1=k.firstpos1,k.nextpos2=k.firstpos2,k.addpos2=0,k.animation=h)}),a.each(o.notices,function(){this.position()})}else{var g=o.prototype.options.stack;g&&(delete g.nextpos1,delete g.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});o.styling.fontawesome=a.extend({},o.styling.bootstrap3);a.extend(o.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});b.document.body?j():a(j);return o};return d(c)});