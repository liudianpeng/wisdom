(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(b){var a={exports:{}};(function(){var i,k,d,f,c,g,m,l,h=[].slice,j={}.hasOwnProperty,e=function(q,o){for(var n in o){if(j.call(o,n)){q[n]=o[n]}}function p(){this.constructor=q}p.prototype=o.prototype;q.prototype=new p();q.__super__=o.prototype;return q};m=function(){};k=(function(){function n(){}n.prototype.addEventListener=n.prototype.on;n.prototype.on=function(p,o){this._callbacks=this._callbacks||{};if(!this._callbacks[p]){this._callbacks[p]=[]}this._callbacks[p].push(o);return this};n.prototype.emit=function(){var p,t,r,q,s,o;q=arguments[0],p=2<=arguments.length?h.call(arguments,1):[];this._callbacks=this._callbacks||{};r=this._callbacks[q];if(r){for(s=0,o=r.length;s<o;s++){t=r[s];t.apply(this,p)}}return this};n.prototype.removeListener=n.prototype.off;n.prototype.removeAllListeners=n.prototype.off;n.prototype.removeEventListener=n.prototype.off;n.prototype.off=function(s,q){var u,r,p,t,o;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}r=this._callbacks[s];if(!r){return this}if(arguments.length===1){delete this._callbacks[s];return this}for(p=t=0,o=r.length;t<o;p=++t){u=r[p];if(u===q){r.splice(p,1);break}}return this};return n})();i=(function(p){var q,n;e(o,p);o.prototype.Emitter=k;o.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];o.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(s,r){return r()},init:function(){return m},forceFallback:false,fallback:function(){var w,s,t,v,r,u;this.element.className=""+this.element.className+" dz-browser-not-supported";u=this.element.getElementsByTagName("div");for(v=0,r=u.length;v<r;v++){w=u[v];if(/(^| )dz-message($| )/.test(w.className)){s=w;w.className="dz-message";continue}}if(!s){s=o.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(s)}t=s.getElementsByTagName("span")[0];if(t){if(t.textContent!=null){t.textContent=this.options.dictFallbackMessage}else{if(t.innerText!=null){t.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function(s){var u,t,r;u={srcX:0,srcY:0,srcWidth:s.width,srcHeight:s.height};t=s.width/s.height;u.optWidth=this.options.thumbnailWidth;u.optHeight=this.options.thumbnailHeight;if((u.optWidth==null)&&(u.optHeight==null)){u.optWidth=u.srcWidth;u.optHeight=u.srcHeight}else{if(u.optWidth==null){u.optWidth=t*u.optHeight}else{if(u.optHeight==null){u.optHeight=(1/t)*u.optWidth}}}r=u.optWidth/u.optHeight;if(s.height<u.optHeight||s.width<u.optWidth){u.trgHeight=u.srcHeight;u.trgWidth=u.srcWidth}else{if(t>r){u.srcHeight=s.height;u.srcWidth=u.srcHeight*r}else{u.srcWidth=s.width;u.srcHeight=u.srcWidth/r}}u.srcX=(s.width-u.srcWidth)/2;u.srcY=(s.height-u.srcHeight)/2;return u},drop:function(r){return this.element.classList.remove("dz-drag-hover")},dragstart:m,dragend:function(r){return this.element.classList.remove("dz-drag-hover")},dragenter:function(r){return this.element.classList.add("dz-drag-hover")},dragover:function(r){return this.element.classList.add("dz-drag-hover")},dragleave:function(r){return this.element.classList.remove("dz-drag-hover")},paste:m,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(u){var t,C,D,A,z,w,E,s,r,B,y,v,x;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){u.previewElement=o.createElement(this.options.previewTemplate.trim());u.previewTemplate=u.previewElement;this.previewsContainer.appendChild(u.previewElement);B=u.previewElement.querySelectorAll("[data-dz-name]");for(A=0,E=B.length;A<E;A++){t=B[A];t.textContent=this._renameFilename(u.name)}y=u.previewElement.querySelectorAll("[data-dz-size]");for(z=0,s=y.length;z<s;z++){t=y[z];t.innerHTML=this.filesize(u.size)}if(this.options.addRemoveLinks){u._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");u.previewElement.appendChild(u._removeLink)}C=(function(F){return function(G){G.preventDefault();G.stopPropagation();if(u.status===o.UPLOADING){return o.confirm(F.options.dictCancelUploadConfirmation,function(){return F.removeFile(u)})}else{if(F.options.dictRemoveFileConfirmation){return o.confirm(F.options.dictRemoveFileConfirmation,function(){return F.removeFile(u)})}else{return F.removeFile(u)}}}})(this);v=u.previewElement.querySelectorAll("[data-dz-remove]");x=[];for(w=0,r=v.length;w<r;w++){D=v[w];x.push(D.addEventListener("click",C))}return x}},removedfile:function(r){var s;if(r.previewElement){if((s=r.previewElement)!=null){s.parentNode.removeChild(r.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(t,w){var s,v,r,u;if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");u=t.previewElement.querySelectorAll("[data-dz-thumbnail]");for(v=0,r=u.length;v<r;v++){s=u[v];s.alt=t.name;s.src=w}return setTimeout(((function(x){return function(){return t.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(t,v){var u,x,s,w,r;if(t.previewElement){t.previewElement.classList.add("dz-error");if(typeof v!=="String"&&v.error){v=v.error}w=t.previewElement.querySelectorAll("[data-dz-errormessage]");r=[];for(x=0,s=w.length;x<s;x++){u=w[x];r.push(u.textContent=v)}return r}},errormultiple:m,processing:function(r){if(r.previewElement){r.previewElement.classList.add("dz-processing");if(r._removeLink){return r._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:m,uploadprogress:function(v,t,u){var w,y,s,x,r;if(v.previewElement){x=v.previewElement.querySelectorAll("[data-dz-uploadprogress]");r=[];for(y=0,s=x.length;y<s;y++){w=x[y];if(w.nodeName==="PROGRESS"){r.push(w.value=t)}else{r.push(w.style.width=""+t+"%")}}return r}},totaluploadprogress:m,sending:m,sendingmultiple:m,success:function(r){if(r.previewElement){return r.previewElement.classList.add("dz-success")}},successmultiple:m,canceled:function(r){return this.emit("error",r,"Upload canceled.")},canceledmultiple:m,complete:function(r){if(r._removeLink){r._removeLink.textContent=this.options.dictRemoveFile}if(r.previewElement){return r.previewElement.classList.add("dz-complete")}},completemultiple:m,maxfilesexceeded:m,maxfilesreached:m,queuecomplete:m,addedfiles:m,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};q=function(){var t,s,v,w,x,u,r;w=arguments[0],v=2<=arguments.length?h.call(arguments,1):[];for(u=0,r=v.length;u<r;u++){s=v[u];for(t in s){x=s[t];w[t]=x}}return w};function o(t,s){var r,v,u;this.element=t;this.version=o.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}o.instances.push(this);this.element.dropzone=this;r=(u=o.optionsForElement(this.element))!=null?u:{};this.options=q({},this.defaultOptions,r,s!=null?s:{});if(this.options.forceFallback||!o.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((v=this.getExistingFallback())&&v.parentNode){v.parentNode.removeChild(v)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=o.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=o.getElements(this.options.clickable,"clickable")}}this.init()}o.prototype.getAcceptedFiles=function(){var t,v,s,u,r;u=this.files;r=[];for(v=0,s=u.length;v<s;v++){t=u[v];if(t.accepted){r.push(t)}}return r};o.prototype.getRejectedFiles=function(){var t,v,s,u,r;u=this.files;r=[];for(v=0,s=u.length;v<s;v++){t=u[v];if(!t.accepted){r.push(t)}}return r};o.prototype.getFilesWithStatus=function(t){var u,w,s,v,r;v=this.files;r=[];for(w=0,s=v.length;w<s;w++){u=v[w];if(u.status===t){r.push(u)}}return r};o.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(o.QUEUED)};o.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(o.UPLOADING)};o.prototype.getAddedFiles=function(){return this.getFilesWithStatus(o.ADDED)};o.prototype.getActiveFiles=function(){var t,v,s,u,r;u=this.files;r=[];for(v=0,s=u.length;v<s;v++){t=u[v];if(t.status===o.UPLOADING||t.status===o.QUEUED){r.push(t)}}return r};o.prototype.init=function(){var t,x,w,v,s,u,r;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){w=(function(y){return function(){if(y.hiddenFileInput){y.hiddenFileInput.parentNode.removeChild(y.hiddenFileInput)}y.hiddenFileInput=document.createElement("input");y.hiddenFileInput.setAttribute("type","file");if((y.options.maxFiles==null)||y.options.maxFiles>1){y.hiddenFileInput.setAttribute("multiple","multiple")}y.hiddenFileInput.className="dz-hidden-input";if(y.options.acceptedFiles!=null){y.hiddenFileInput.setAttribute("accept",y.options.acceptedFiles)}if(y.options.capture!=null){y.hiddenFileInput.setAttribute("capture",y.options.capture)}y.hiddenFileInput.style.visibility="hidden";y.hiddenFileInput.style.position="absolute";y.hiddenFileInput.style.top="0";y.hiddenFileInput.style.left="0";y.hiddenFileInput.style.height="0";y.hiddenFileInput.style.width="0";document.querySelector(y.options.hiddenInputContainer).appendChild(y.hiddenFileInput);return y.hiddenFileInput.addEventListener("change",function(){var A,B,C,z;B=y.hiddenFileInput.files;if(B.length){for(C=0,z=B.length;C<z;C++){A=B[C];y.addFile(A)}}y.emit("addedfiles",B);return w()})}})(this);w()}this.URL=(u=window.URL)!=null?u:window.webkitURL;r=this.events;for(v=0,s=r.length;v<s;v++){t=r[v];this.on(t,this.options[t])}this.on("uploadprogress",(function(y){return function(){return y.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(y){return function(){return y.updateTotalUploadProgress()}})(this));this.on("canceled",(function(y){return function(z){return y.emit("complete",z)}})(this));this.on("complete",(function(y){return function(z){if(y.getAddedFiles().length===0&&y.getUploadingFiles().length===0&&y.getQueuedFiles().length===0){return setTimeout((function(){return y.emit("queuecomplete")}),0)}}})(this));x=function(y){y.stopPropagation();if(y.preventDefault){return y.preventDefault()}else{return y.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:(function(y){return function(z){return y.emit("dragstart",z)}})(this),dragenter:(function(y){return function(z){x(z);return y.emit("dragenter",z)}})(this),dragover:(function(y){return function(A){var z;try{z=A.dataTransfer.effectAllowed}catch(B){}A.dataTransfer.dropEffect="move"===z||"linkMove"===z?"move":"copy";x(A);return y.emit("dragover",A)}})(this),dragleave:(function(y){return function(z){return y.emit("dragleave",z)}})(this),drop:(function(y){return function(z){x(z);return y.drop(z)}})(this),dragend:(function(y){return function(z){return y.emit("dragend",z)}})(this)}}];this.clickableElements.forEach((function(y){return function(z){return y.listeners.push({element:z,events:{click:function(A){if((z!==y.element)||(A.target===y.element||o.elementInside(A.target,y.element.querySelector(".dz-message")))){y.hiddenFileInput.click()}return true}}})}})(this));this.enable();return this.options.init.call(this)};o.prototype.destroy=function(){var r;this.disable();this.removeAllFiles(true);if((r=this.hiddenFileInput)!=null?r.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return o.instances.splice(o.instances.indexOf(this),1)};o.prototype.updateTotalUploadProgress=function(){var t,u,y,r,x,w,s,v;r=0;y=0;t=this.getActiveFiles();if(t.length){v=this.getActiveFiles();for(w=0,s=v.length;w<s;w++){u=v[w];r+=u.upload.bytesSent;y+=u.upload.total}x=100*r/y}else{x=100}return this.emit("totaluploadprogress",x,y,r)};o.prototype._getParamName=function(r){if(typeof this.options.paramName==="function"){return this.options.paramName(r)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+r+"]":"")}};o.prototype._renameFilename=function(r){if(typeof this.options.renameFilename!=="function"){return r}return this.options.renameFilename(r)};o.prototype.getFallbackForm=function(){var s,r,u,t;if(s=this.getExistingFallback()){return s}u='<div class="dz-fallback">';if(this.options.dictFallbackText){u+="<p>"+this.options.dictFallbackText+"</p>"}u+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';r=o.createElement(u);if(this.element.tagName!=="FORM"){t=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');t.appendChild(r)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return t!=null?t:r};o.prototype.getExistingFallback=function(){var w,t,s,v,r,u;t=function(A){var y,z,x;for(z=0,x=A.length;z<x;z++){y=A[z];if(/(^| )fallback($| )/.test(y.className)){return y}}};u=["div","form"];for(v=0,r=u.length;v<r;v++){s=u[v];if(w=t(this.element.getElementsByTagName(s))){return w}}};o.prototype.setupEventListeners=function(){var u,t,x,w,s,v,r;v=this.listeners;r=[];for(w=0,s=v.length;w<s;w++){u=v[w];r.push((function(){var y,z;y=u.events;z=[];for(t in y){x=y[t];z.push(u.element.addEventListener(t,x,false))}return z})())}return r};o.prototype.removeEventListeners=function(){var u,t,x,w,s,v,r;v=this.listeners;r=[];for(w=0,s=v.length;w<s;w++){u=v[w];r.push((function(){var y,z;y=u.events;z=[];for(t in y){x=y[t];z.push(u.element.removeEventListener(t,x,false))}return z})())}return r};o.prototype.disable=function(){var t,v,s,u,r;this.clickableElements.forEach(function(w){return w.classList.remove("dz-clickable")});this.removeEventListeners();u=this.files;r=[];for(v=0,s=u.length;v<s;v++){t=u[v];r.push(this.cancelUpload(t))}return r};o.prototype.enable=function(){this.clickableElements.forEach(function(r){return r.classList.add("dz-clickable")});return this.setupEventListeners()};o.prototype.filesize=function(z){var s,v,t,r,y,w,u,x;t=0;r="b";if(z>0){w=["TB","GB","MB","KB","b"];for(v=u=0,x=w.length;u<x;v=++u){y=w[v];s=Math.pow(this.options.filesizeBase,4-v)/10;if(z>=s){t=z/Math.pow(this.options.filesizeBase,4-v);r=y;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+r};o.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};o.prototype.drop=function(t){var s,r;if(!t.dataTransfer){return}this.emit("drop",t);s=t.dataTransfer.files;this.emit("addedfiles",s);if(s.length){r=t.dataTransfer.items;if(r&&r.length&&(r[0].webkitGetAsEntry!=null)){this._addFilesFromItems(r)}else{this.handleFiles(s)}}};o.prototype.paste=function(t){var r,s;if((t!=null?(s=t.clipboardData)!=null?s.items:void 0:void 0)==null){return}this.emit("paste",t);r=t.clipboardData.items;if(r.length){return this._addFilesFromItems(r)}};o.prototype.handleFiles=function(u){var t,v,s,r;r=[];for(v=0,s=u.length;v<s;v++){t=u[v];r.push(this.addFile(t))}return r};o.prototype._addFilesFromItems=function(t){var v,u,w,s,r;r=[];for(w=0,s=t.length;w<s;w++){u=t[w];if((u.webkitGetAsEntry!=null)&&(v=u.webkitGetAsEntry())){if(v.isFile){r.push(this.addFile(u.getAsFile()))}else{if(v.isDirectory){r.push(this._addFilesFromDirectory(v,v.name))}else{r.push(void 0)}}}else{if(u.getAsFile!=null){if((u.kind==null)||u.kind==="file"){r.push(this.addFile(u.getAsFile()))}else{r.push(void 0)}}else{r.push(void 0)}}}return r};o.prototype._addFilesFromDirectory=function(r,v){var u,t,s;u=r.createReader();t=function(w){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(w):void 0:void 0};s=(function(w){return function(){return u.readEntries(function(x){var z,A,y;if(x.length>0){for(A=0,y=x.length;A<y;A++){z=x[A];if(z.isFile){z.file(function(B){if(w.options.ignoreHiddenFiles&&B.name.substring(0,1)==="."){return}B.fullPath=""+v+"/"+B.name;return w.addFile(B)})}else{if(z.isDirectory){w._addFilesFromDirectory(z,""+v+"/"+z.name)}}}s()}return null},t)}})(this);return s()};o.prototype.accept=function(s,r){if(s.size>this.options.maxFilesize*1024*1024){return r(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(s.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!o.isValidFile(s,this.options.acceptedFiles)){return r(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){r(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",s)}else{return this.options.accept.call(this,s,r)}}}};o.prototype.addFile=function(r){r.upload={progress:0,total:r.size,bytesSent:0};this.files.push(r);r.status=o.ADDED;this.emit("addedfile",r);this._enqueueThumbnail(r);return this.accept(r,(function(s){return function(t){if(t){r.accepted=false;s._errorProcessing([r],t)}else{r.accepted=true;if(s.options.autoQueue){s.enqueueFile(r)}}return s._updateMaxFilesReachedClass()}})(this))};o.prototype.enqueueFiles=function(t){var s,u,r;for(u=0,r=t.length;u<r;u++){s=t[u];this.enqueueFile(s)}return null};o.prototype.enqueueFile=function(r){if(r.status===o.ADDED&&r.accepted===true){r.status=o.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(s){return function(){return s.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};o.prototype._thumbnailQueue=[];o.prototype._processingThumbnail=false;o.prototype._enqueueThumbnail=function(r){if(this.options.createImageThumbnails&&r.type.match(/image.*/)&&r.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(r);return setTimeout(((function(s){return function(){return s._processThumbnailQueue()}})(this)),0)}};o.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(r){return function(){r._processingThumbnail=false;return r._processThumbnailQueue()}})(this))};o.prototype.removeFile=function(r){if(r.status===o.UPLOADING){this.cancelUpload(r)}this.files=l(this.files,r);this.emit("removedfile",r);if(this.files.length===0){return this.emit("reset")}};o.prototype.removeAllFiles=function(v){var s,u,r,t;if(v==null){v=false}t=this.files.slice();for(u=0,r=t.length;u<r;u++){s=t[u];if(s.status!==o.UPLOADING||v){this.removeFile(s)}}return null};o.prototype.createThumbnail=function(s,t){var r;r=new FileReader;r.onload=(function(u){return function(){if(s.type==="image/svg+xml"){u.emit("thumbnail",s,r.result);if(t!=null){t()}return}return u.createThumbnailFromUrl(s,r.result,t)}})(this);return r.readAsDataURL(s)};o.prototype.createThumbnailFromUrl=function(u,t,v,s){var r;r=document.createElement("img");if(s){r.crossOrigin=s}r.onload=(function(w){return function(){var z,y,C,E,A,x,D,B;u.width=r.width;u.height=r.height;C=w.options.resize.call(w,u);if(C.trgWidth==null){C.trgWidth=C.optWidth}if(C.trgHeight==null){C.trgHeight=C.optHeight}z=document.createElement("canvas");y=z.getContext("2d");z.width=C.trgWidth;z.height=C.trgHeight;g(y,r,(A=C.srcX)!=null?A:0,(x=C.srcY)!=null?x:0,C.srcWidth,C.srcHeight,(D=C.trgX)!=null?D:0,(B=C.trgY)!=null?B:0,C.trgWidth,C.trgHeight);E=z.toDataURL("image/png");w.emit("thumbnail",u,E);if(v!=null){return v()}}})(this);if(v!=null){r.onerror=v}return r.src=t};o.prototype.processQueue=function(){var s,u,r,t;u=this.options.parallelUploads;r=this.getUploadingFiles().length;s=r;if(r>=u){return}t=this.getQueuedFiles();if(!(t.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(t.slice(0,u-r))}else{while(s<u){if(!t.length){return}this.processFile(t.shift());s++}}};o.prototype.processFile=function(r){return this.processFiles([r])};o.prototype.processFiles=function(t){var s,u,r;for(u=0,r=t.length;u<r;u++){s=t[u];s.processing=true;s.status=o.UPLOADING;this.emit("processing",s)}if(this.options.uploadMultiple){this.emit("processingmultiple",t)}return this.uploadFiles(t)};o.prototype._getFilesWithXhr=function(t){var r,s;return s=(function(){var x,v,w,u;w=this.files;u=[];for(x=0,v=w.length;x<v;x++){r=w[x];if(r.xhr===t){u.push(r)}}return u}).call(this)};o.prototype.cancelUpload=function(v){var t,u,y,w,s,r,x;if(v.status===o.UPLOADING){u=this._getFilesWithXhr(v.xhr);for(y=0,s=u.length;y<s;y++){t=u[y];t.status=o.CANCELED}v.xhr.abort();for(w=0,r=u.length;w<r;w++){t=u[w];this.emit("canceled",t)}if(this.options.uploadMultiple){this.emit("canceledmultiple",u)}}else{if((x=v.status)===o.ADDED||x===o.QUEUED){v.status=o.CANCELED;this.emit("canceled",v);if(this.options.uploadMultiple){this.emit("canceledmultiple",[v])}}}if(this.options.autoProcessQueue){return this.processQueue()}};n=function(){var r,s;s=arguments[0],r=2<=arguments.length?h.call(arguments,1):[];if(typeof s==="function"){return s.apply(this,r)}return s};o.prototype.uploadFile=function(r){return this.uploadFiles([r])};o.prototype.uploadFiles=function(F){var U,S,K,P,H,A,T,N,J,Q,Z,D,O,G,t,L,E,R,I,z,x,v,s,W,Y,X,V,r,M,C,B,y,w,u;I=new XMLHttpRequest();for(z=0,W=F.length;z<W;z++){U=F[z];U.xhr=I}D=n(this.options.method,F);E=n(this.options.url,F);I.open(D,E,true);I.withCredentials=!!this.options.withCredentials;t=null;K=(function(aa){return function(){var ad,ac,ab;ab=[];for(ad=0,ac=F.length;ad<ac;ad++){U=F[ad];ab.push(aa._errorProcessing(F,t||aa.options.dictResponseError.replace("{{statusCode}}",I.status),I))}return ab}})(this);L=(function(aa){return function(ak){var af,ac,aj,ah,ag,ae,ad,ab,ai;if(ak!=null){ac=100*ak.loaded/ak.total;for(aj=0,ae=F.length;aj<ae;aj++){U=F[aj];U.upload={progress:ac,total:ak.total,bytesSent:ak.loaded}}}else{af=true;ac=100;for(ah=0,ad=F.length;ah<ad;ah++){U=F[ah];if(!(U.upload.progress===100&&U.upload.bytesSent===U.upload.total)){af=false}U.upload.progress=ac;U.upload.bytesSent=U.upload.total}if(af){return}}ai=[];for(ag=0,ab=F.length;ag<ab;ag++){U=F[ag];ai.push(aa.emit("uploadprogress",U,ac,U.upload.bytesSent))}return ai}})(this);I.onload=(function(aa){return function(ac){var ab;if(F[0].status===o.CANCELED){return}if(I.readyState!==4){return}t=I.responseText;if(I.getResponseHeader("content-type")&&~I.getResponseHeader("content-type").indexOf("application/json")){try{t=JSON.parse(t)}catch(ad){ac=ad;t="Invalid JSON response from server."}}L();if(!((200<=(ab=I.status)&&ab<300))){return K()}else{return aa._finished(F,t,ac)}}})(this);I.onerror=(function(aa){return function(){if(F[0].status===o.CANCELED){return}return K()}})(this);G=(M=I.upload)!=null?M:I;G.onprogress=L;A={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){q(A,this.options.headers)}for(P in A){H=A[P];if(H){I.setRequestHeader(P,H)}}S=new FormData();if(this.options.params){C=this.options.params;for(Z in C){R=C[Z];S.append(Z,R)}}for(x=0,Y=F.length;x<Y;x++){U=F[x];this.emit("sending",U,I,S)}if(this.options.uploadMultiple){this.emit("sendingmultiple",F,I,S)}if(this.element.tagName==="FORM"){B=this.element.querySelectorAll("input, textarea, select, button");for(v=0,X=B.length;v<X;v++){N=B[v];J=N.getAttribute("name");Q=N.getAttribute("type");if(N.tagName==="SELECT"&&N.hasAttribute("multiple")){y=N.options;for(s=0,V=y.length;s<V;s++){O=y[s];if(O.selected){S.append(J,O.value)}}}else{if(!Q||((w=Q.toLowerCase())!=="checkbox"&&w!=="radio")||N.checked){S.append(J,N.value)}}}}for(T=r=0,u=F.length-1;0<=u?r<=u:r>=u;T=0<=u?++r:--r){S.append(this._getParamName(T),F[T],this._renameFilename(F[T].name))}return this.submitRequest(I,S,F)};o.prototype.submitRequest=function(t,s,r){return t.send(s)};o.prototype._finished=function(t,v,w){var s,u,r;for(u=0,r=t.length;u<r;u++){s=t[u];s.status=o.SUCCESS;this.emit("success",s,v,w);this.emit("complete",s)}if(this.options.uploadMultiple){this.emit("successmultiple",t,v,w);this.emit("completemultiple",t)}if(this.options.autoProcessQueue){return this.processQueue()}};o.prototype._errorProcessing=function(u,t,w){var s,v,r;for(v=0,r=u.length;v<r;v++){s=u[v];s.status=o.ERROR;this.emit("error",s,t,w);this.emit("complete",s)}if(this.options.uploadMultiple){this.emit("errormultiple",u,t,w);this.emit("completemultiple",u)}if(this.options.autoProcessQueue){return this.processQueue()}};return o})(k);i.version="4.3.0";i.options={};i.optionsForElement=function(n){if(n.getAttribute("id")){return i.options[d(n.getAttribute("id"))]}else{return void 0}};i.instances=[];i.forElement=function(n){if(typeof n==="string"){n=document.querySelector(n)}if((n!=null?n.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return n.dropzone};i.autoDiscover=true;i.discover=function(){var s,p,q,r,o,n;if(document.querySelectorAll){q=document.querySelectorAll(".dropzone")}else{q=[];s=function(x){var v,w,u,t;t=[];for(w=0,u=x.length;w<u;w++){v=x[w];if(/(^| )dropzone($| )/.test(v.className)){t.push(q.push(v))}else{t.push(void 0)}}return t};s(document.getElementsByTagName("div"));s(document.getElementsByTagName("form"))}n=[];for(r=0,o=q.length;r<o;r++){p=q[r];if(i.optionsForElement(p)!==false){n.push(new i(p))}else{n.push(void 0)}}return n};i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];i.isBrowserSupported=function(){var o,p,r,n,q;o=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){o=false}else{q=i.blacklistedBrowsers;for(r=0,n=q.length;r<n;r++){p=q[r];if(p.test(navigator.userAgent)){o=false;continue}}}}else{o=false}return o};l=function(s,p){var q,r,o,n;n=[];for(r=0,o=s.length;r<o;r++){q=s[r];if(q!==p){n.push(q)}}return n};d=function(n){return n.replace(/[\-_](\w)/g,function(o){return o.charAt(1).toUpperCase()})};i.createElement=function(n){var o;o=document.createElement("div");o.innerHTML=n;return o.childNodes[0]};i.elementInside=function(o,n){if(o===n){return true}while(o=o.parentNode){if(o===n){return true}}return false};i.getElement=function(p,n){var o;if(typeof p==="string"){o=document.querySelector(p)}else{if(p.nodeType!=null){o=p}}if(o==null){throw new Error("Invalid `"+n+"` option provided. Please provide a CSS selector or a plain HTML element.")}return o};i.getElements=function(t,o){var v,q,n,s,r,w,p,u;if(t instanceof Array){n=[];try{for(s=0,w=t.length;s<w;s++){q=t[s];n.push(this.getElement(q,o))}}catch(x){v=x;n=null}}else{if(typeof t==="string"){n=[];u=document.querySelectorAll(t);for(r=0,p=u.length;r<p;r++){q=u[r];n.push(q)}}else{if(t.nodeType!=null){n=[t]}}}if(!((n!=null)&&n.length)){throw new Error("Invalid `"+o+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return n};i.confirm=function(n,p,o){if(window.confirm(n)){return p()}else{if(o!=null){return o()}}};i.isValidFile=function(q,n){var p,t,r,s,o;if(!n){return true}n=n.split(",");t=q.type;p=t.replace(/\/.*$/,"");for(s=0,o=n.length;s<o;s++){r=n[s];r=r.trim();if(r.charAt(0)==="."){if(q.name.toLowerCase().indexOf(r.toLowerCase(),q.name.length-r.length)!==-1){return true}}else{if(/\/\*$/.test(r)){if(p===r.replace(/\/.*$/,"")){return true}}else{if(t===r){return true}}}}return false};if(typeof b!=="undefined"&&b!==null){b.fn.dropzone=function(n){return this.each(function(){return new i(this,n)})}}if(typeof a!=="undefined"&&a!==null){a.exports=i}else{window.Dropzone=i}i.ADDED="added";i.QUEUED="queued";i.ACCEPTED=i.QUEUED;i.UPLOADING="uploading";i.PROCESSING=i.UPLOADING;i.CANCELED="canceled";i.ERROR="error";i.SUCCESS="success";c=function(r){var p,n,x,q,s,w,o,v,t,u;o=r.naturalWidth;w=r.naturalHeight;n=document.createElement("canvas");n.width=1;n.height=w;x=n.getContext("2d");x.drawImage(r,0,0);q=x.getImageData(0,0,1,w).data;u=0;s=w;v=w;while(v>u){p=q[(v-1)*4+3];if(p===0){s=v}else{u=v}v=(s+u)>>1}t=v/w;if(t===0){return 1}else{return t}};g=function(v,o,t,s,u,p,x,w,n,r){var q;q=c(o);return v.drawImage(o,t,s,u,p,x,w,n,r/q)};f=function(p,t){var y,u,o,x,q,n,w,s,r;o=false;r=true;u=p.document;s=u.documentElement;y=(u.addEventListener?"addEventListener":"attachEvent");w=(u.addEventListener?"removeEventListener":"detachEvent");n=(u.addEventListener?"":"on");x=function(z){if(z.type==="readystatechange"&&u.readyState!=="complete"){return}(z.type==="load"?p:u)[w](n+z.type,x,false);if(!o&&(o=true)){return t.call(p,z.type||z)}};q=function(){var z;try{s.doScroll("left")}catch(A){z=A;setTimeout(q,50);return}return x("poll")};if(u.readyState!=="complete"){if(u.createEventObject&&s.doScroll){try{r=!p.frameElement}catch(v){}if(r){q()}}u[y](n+"DOMContentLoaded",x,false);u[y](n+"readystatechange",x,false);return p[y](n+"load",x,false)}};i._autoDiscoverFunction=function(){if(i.autoDiscover){return i.discover()}};f(window,i._autoDiscoverFunction)}).call(this);return a.exports}));