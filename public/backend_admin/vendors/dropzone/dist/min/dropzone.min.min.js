(function(){var v,u,t,s,r,q,p,o,n=[].slice,m={}.hasOwnProperty,l=function(f,e){function h(){this.constructor=f}for(var g in e){m.call(e,g)&&(f[g]=e[g])}return h.prototype=e.prototype,f.prototype=new h,f.__super__=e.prototype,f};p=function(){},u=function(){function b(){}return b.prototype.addEventListener=b.prototype.on,b.prototype.on=function(d,c){return this._callbacks=this._callbacks||{},this._callbacks[d]||(this._callbacks[d]=[]),this._callbacks[d].push(c),this},b.prototype.emit=function(){var h,g,w,k,j,i;if(k=arguments[0],h=2<=arguments.length?n.call(arguments,1):[],this._callbacks=this._callbacks||{},w=this._callbacks[k]){for(j=0,i=w.length;i>j;j++){g=w[j],g.apply(this,h)}}return this},b.prototype.removeListener=b.prototype.off,b.prototype.removeAllListeners=b.prototype.off,b.prototype.removeEventListener=b.prototype.off,b.prototype.off=function(i,h){var y,x,w,k,j;if(!this._callbacks||0===arguments.length){return this._callbacks={},this}if(x=this._callbacks[i],!x){return this}if(1===arguments.length){return delete this._callbacks[i],this}for(w=k=0,j=x.length;j>k;w=++k){if(y=x[w],y===h){x.splice(w,1);break}}return this},b}(),v=function(b){function h(d,c){var k,j,i;if(this.element=d,this.version=h.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}if(h.instances.push(this),this.element.dropzone=this,k=null!=(i=h.optionsForElement(this.element))?i:{},this.options=g({},this.defaultOptions,k,null!=c?c:{}),this.options.forceFallback||!h.isBrowserSupported()){return this.options.fallback.call(this)}if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(j=this.getExistingFallback())&&j.parentNode&&j.parentNode.removeChild(j),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?h.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:h.getElements(this.options.clickable,"clickable")),this.init()}var g,f;return l(h,b),h.prototype.Emitter=u,h.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],h.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(d,c){return c()},init:function(){return p},forceFallback:!1,fallback:function(){var i,c,x,w,k,j;for(this.element.className=""+this.element.className+" dz-browser-not-supported",j=this.element.getElementsByTagName("div"),w=0,k=j.length;k>w;w++){i=j[w],/(^| )dz-message($| )/.test(i.className)&&(c=i,i.className="dz-message")}return c||(c=h.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c)),x=c.getElementsByTagName("span")[0],x&&(null!=x.textContent?x.textContent=this.options.dictFallbackMessage:null!=x.innerText&&(x.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(i){var e,k,j;return e={srcX:0,srcY:0,srcWidth:i.width,srcHeight:i.height},k=i.width/i.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=k*e.optHeight:null==e.optHeight&&(e.optHeight=1/k*e.optWidth),j=e.optWidth/e.optHeight,i.height<e.optHeight||i.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):k>j?(e.srcHeight=i.height,e.srcWidth=e.srcHeight*j):(e.srcWidth=i.width,e.srcHeight=e.srcWidth/j),e.srcX=(i.width-e.srcWidth)/2,e.srcY=(i.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:p,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:p,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(I){var H,G,F,E,D,C,B,A,z,y,x,w,c;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(I.previewElement=h.createElement(this.options.previewTemplate.trim()),I.previewTemplate=I.previewElement,this.previewsContainer.appendChild(I.previewElement),y=I.previewElement.querySelectorAll("[data-dz-name]"),E=0,B=y.length;B>E;E++){H=y[E],H.textContent=this._renameFilename(I.name)}for(x=I.previewElement.querySelectorAll("[data-dz-size]"),D=0,A=x.length;A>D;D++){H=x[D],H.innerHTML=this.filesize(I.size)}for(this.options.addRemoveLinks&&(I._removeLink=h.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),I.previewElement.appendChild(I._removeLink)),G=function(a){return function(e){return e.preventDefault(),e.stopPropagation(),I.status===h.UPLOADING?h.confirm(a.options.dictCancelUploadConfirmation,function(){return a.removeFile(I)}):a.options.dictRemoveFileConfirmation?h.confirm(a.options.dictRemoveFileConfirmation,function(){return a.removeFile(I)}):a.removeFile(I)}}(this),w=I.previewElement.querySelectorAll("[data-dz-remove]"),c=[],C=0,z=w.length;z>C;C++){F=w[C],c.push(F.addEventListener("click",G))}return c}},removedfile:function(d){var c;return d.previewElement&&null!=(c=d.previewElement)&&c.parentNode.removeChild(d.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(j,i){var y,x,w,k;if(j.previewElement){for(j.previewElement.classList.remove("dz-file-preview"),k=j.previewElement.querySelectorAll("[data-dz-thumbnail]"),x=0,w=k.length;w>x;x++){y=k[x],y.alt=j.name,y.src=i}return setTimeout(function(){return function(){return j.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(j,i){var z,y,x,w,k;if(j.previewElement){for(j.previewElement.classList.add("dz-error"),"String"!=typeof i&&i.error&&(i=i.error),w=j.previewElement.querySelectorAll("[data-dz-errormessage]"),k=[],y=0,x=w.length;x>y;y++){z=w[y],k.push(z.textContent=i)}return k}},errormultiple:p,processing:function(c){return c.previewElement&&(c.previewElement.classList.add("dz-processing"),c._removeLink)?c._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:p,uploadprogress:function(j,i){var z,y,x,w,k;if(j.previewElement){for(w=j.previewElement.querySelectorAll("[data-dz-uploadprogress]"),k=[],y=0,x=w.length;x>y;y++){z=w[y],k.push("PROGRESS"===z.nodeName?z.value=i:z.style.width=""+i+"%")}return k}},totaluploadprogress:p,sending:p,sendingmultiple:p,success:function(c){return c.previewElement?c.previewElement.classList.add("dz-success"):void 0},successmultiple:p,canceled:function(c){return this.emit("error",c,"Upload canceled.")},canceledmultiple:p,complete:function(c){return c._removeLink&&(c._removeLink.textContent=this.options.dictRemoveFile),c.previewElement?c.previewElement.classList.add("dz-complete"):void 0},completemultiple:p,maxfilesexceeded:p,maxfilesreached:p,queuecomplete:p,addedfiles:p,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},g=function(){var j,i,z,y,x,w,k;for(y=arguments[0],z=2<=arguments.length?n.call(arguments,1):[],w=0,k=z.length;k>w;w++){i=z[w];for(j in i){x=i[j],y[j]=x}}return y},h.prototype.getAcceptedFiles=function(){var j,i,x,w,k;for(w=this.files,k=[],i=0,x=w.length;x>i;i++){j=w[i],j.accepted&&k.push(j)}return k},h.prototype.getRejectedFiles=function(){var j,i,x,w,k;for(w=this.files,k=[],i=0,x=w.length;x>i;i++){j=w[i],j.accepted||k.push(j)}return k},h.prototype.getFilesWithStatus=function(j){var i,y,x,w,k;for(w=this.files,k=[],y=0,x=w.length;x>y;y++){i=w[y],i.status===j&&k.push(i)}return k},h.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(h.QUEUED)},h.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(h.UPLOADING)},h.prototype.getAddedFiles=function(){return this.getFilesWithStatus(h.ADDED)},h.prototype.getActiveFiles=function(){var i,c,w,k,j;for(k=this.files,j=[],c=0,w=k.length;w>c;c++){i=k[c],(i.status===h.UPLOADING||i.status===h.QUEUED)&&j.push(i)}return j},h.prototype.init=function(){var i,c,y,x,w,k,j;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(h.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(y=function(d){return function(){return d.hiddenFileInput&&d.hiddenFileInput.parentNode.removeChild(d.hiddenFileInput),d.hiddenFileInput=document.createElement("input"),d.hiddenFileInput.setAttribute("type","file"),(null==d.options.maxFiles||d.options.maxFiles>1)&&d.hiddenFileInput.setAttribute("multiple","multiple"),d.hiddenFileInput.className="dz-hidden-input",null!=d.options.acceptedFiles&&d.hiddenFileInput.setAttribute("accept",d.options.acceptedFiles),null!=d.options.capture&&d.hiddenFileInput.setAttribute("capture",d.options.capture),d.hiddenFileInput.style.visibility="hidden",d.hiddenFileInput.style.position="absolute",d.hiddenFileInput.style.top="0",d.hiddenFileInput.style.left="0",d.hiddenFileInput.style.height="0",d.hiddenFileInput.style.width="0",document.querySelector(d.options.hiddenInputContainer).appendChild(d.hiddenFileInput),d.hiddenFileInput.addEventListener("change",function(){var a,B,A,z;if(B=d.hiddenFileInput.files,B.length){for(A=0,z=B.length;z>A;A++){a=B[A],d.addFile(a)}}return d.emit("addedfiles",B),y()})}}(this))(),this.URL=null!=(k=window.URL)?k:window.webkitURL,j=this.events,x=0,w=j.length;w>x;x++){i=j[x],this.on(i,this.options[i])}return this.on("uploadprogress",function(d){return function(){return d.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(d){return function(){return d.updateTotalUploadProgress()}}(this)),this.on("canceled",function(d){return function(a){return d.emit("complete",a)}}(this)),this.on("complete",function(d){return function(){return 0===d.getAddedFiles().length&&0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length?setTimeout(function(){return d.emit("queuecomplete")},0):void 0}}(this)),c=function(d){return d.stopPropagation(),d.preventDefault?d.preventDefault():d.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(d){return function(a){return d.emit("dragstart",a)}}(this),dragenter:function(d){return function(a){return c(a),d.emit("dragenter",a)}}(this),dragover:function(d){return function(A){var z;try{z=A.dataTransfer.effectAllowed}catch(a){}return A.dataTransfer.dropEffect="move"===z||"linkMove"===z?"move":"copy",c(A),d.emit("dragover",A)}}(this),dragleave:function(d){return function(a){return d.emit("dragleave",a)}}(this),drop:function(d){return function(a){return c(a),d.drop(a)}}(this),dragend:function(d){return function(a){return d.emit("dragend",a)}}(this)}}],this.clickableElements.forEach(function(d){return function(a){return d.listeners.push({element:a,events:{click:function(e){return(a!==d.element||e.target===d.element||h.elementInside(e.target,d.element.querySelector(".dz-message")))&&d.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},h.prototype.destroy=function(){var c;return this.disable(),this.removeAllFiles(!0),(null!=(c=this.hiddenFileInput)?c.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,h.instances.splice(h.instances.indexOf(this),1)},h.prototype.updateTotalUploadProgress=function(){var j,i,A,z,y,x,w,k;if(z=0,A=0,j=this.getActiveFiles(),j.length){for(k=this.getActiveFiles(),x=0,w=k.length;w>x;x++){i=k[x],z+=i.upload.bytesSent,A+=i.upload.total}y=100*z/A}else{y=100}return this.emit("totaluploadprogress",y,A,z)},h.prototype._getParamName=function(c){return"function"==typeof this.options.paramName?this.options.paramName(c):""+this.options.paramName+(this.options.uploadMultiple?"["+c+"]":"")},h.prototype._renameFilename=function(c){return"function"!=typeof this.options.renameFilename?c:this.options.renameFilename(c)},h.prototype.getFallbackForm=function(){var i,c,k,j;return(i=this.getExistingFallback())?i:(k='<div class="dz-fallback">',this.options.dictFallbackText&&(k+="<p>"+this.options.dictFallbackText+"</p>"),k+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',c=h.createElement(k),"FORM"!==this.element.tagName?(j=h.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),j.appendChild(c)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=j?j:c)},h.prototype.getExistingFallback=function(){var j,i,y,x,w,k;for(i=function(z){var e,B,A;for(B=0,A=z.length;A>B;B++){if(e=z[B],/(^| )fallback($| )/.test(e.className)){return e}}},k=["div","form"],x=0,w=k.length;w>x;x++){if(y=k[x],j=i(this.element.getElementsByTagName(y))){return j}}},h.prototype.setupEventListeners=function(){var j,i,z,y,x,w,k;for(w=this.listeners,k=[],y=0,x=w.length;x>y;y++){j=w[y],k.push(function(){var c,a;c=j.events,a=[];for(i in c){z=c[i],a.push(j.element.addEventListener(i,z,!1))}return a}())}return k},h.prototype.removeEventListeners=function(){var j,i,z,y,x,w,k;for(w=this.listeners,k=[],y=0,x=w.length;x>y;y++){j=w[y],k.push(function(){var c,a;c=j.events,a=[];for(i in c){z=c[i],a.push(j.element.removeEventListener(i,z,!1))}return a}())}return k},h.prototype.disable=function(){var j,i,x,w,k;for(this.clickableElements.forEach(function(c){return c.classList.remove("dz-clickable")}),this.removeEventListeners(),w=this.files,k=[],i=0,x=w.length;x>i;i++){j=w[i],k.push(this.cancelUpload(j))}return k},h.prototype.enable=function(){return this.clickableElements.forEach(function(c){return c.classList.add("dz-clickable")}),this.setupEventListeners()},h.prototype.filesize=function(C){var B,A,z,y,x,w,k,j;if(z=0,y="b",C>0){for(w=["TB","GB","MB","KB","b"],A=k=0,j=w.length;j>k;A=++k){if(x=w[A],B=Math.pow(this.options.filesizeBase,4-A)/10,C>=B){z=C/Math.pow(this.options.filesizeBase,4-A),y=x;break}}z=Math.round(10*z)/10}return"<strong>"+z+"</strong> "+y},h.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},h.prototype.drop=function(e){var d,i;e.dataTransfer&&(this.emit("drop",e),d=e.dataTransfer.files,this.emit("addedfiles",d),d.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(d)))},h.prototype.paste=function(e){var d,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0)){return this.emit("paste",e),d=e.clipboardData.items,d.length?this._addFilesFromItems(d):void 0}},h.prototype.handleFiles=function(j){var i,x,w,k;for(k=[],x=0,w=j.length;w>x;x++){i=j[x],k.push(this.addFile(i))}return k},h.prototype._addFilesFromItems=function(j){var i,y,x,w,k;for(k=[],x=0,w=j.length;w>x;x++){y=j[x],k.push(null!=y.webkitGetAsEntry&&(i=y.webkitGetAsEntry())?i.isFile?this.addFile(y.getAsFile()):i.isDirectory?this._addFilesFromDirectory(i,i.name):void 0:null!=y.getAsFile?null==y.kind||"file"===y.kind?this.addFile(y.getAsFile()):void 0:void 0)}return k},h.prototype._addFilesFromDirectory=function(j,i){var x,w,k;return x=j.createReader(),w=function(c){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(c):void 0},(k=function(c){return function(){return x.readEntries(function(z){var y,e,a;if(z.length>0){for(e=0,a=z.length;a>e;e++){y=z[e],y.isFile?y.file(function(d){return c.options.ignoreHiddenFiles&&"."===d.name.substring(0,1)?void 0:(d.fullPath=""+i+"/"+d.name,c.addFile(d))}):y.isDirectory&&c._addFilesFromDirectory(y,""+i+"/"+y.name)}k()}return null},w)}}(this))()},h.prototype.accept=function(d,c){return d.size>1024*this.options.maxFilesize*1024?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(d.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):h.isValidFile(d,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",d)):this.options.accept.call(this,d,c):c(this.options.dictInvalidFileType)},h.prototype.addFile=function(c){return c.upload={progress:0,total:c.size,bytesSent:0},this.files.push(c),c.status=h.ADDED,this.emit("addedfile",c),this._enqueueThumbnail(c),this.accept(c,function(a){return function(d){return d?(c.accepted=!1,a._errorProcessing([c],d)):(c.accepted=!0,a.options.autoQueue&&a.enqueueFile(c)),a._updateMaxFilesReachedClass()}}(this))},h.prototype.enqueueFiles=function(i){var e,k,j;for(k=0,j=i.length;j>k;k++){e=i[k],this.enqueueFile(e)}return null},h.prototype.enqueueFile=function(c){if(c.status!==h.ADDED||c.accepted!==!0){throw new Error("This file can't be queued because it has already been processed or was rejected.")}return c.status=h.QUEUED,this.options.autoProcessQueue?setTimeout(function(d){return function(){return d.processQueue()}}(this),0):void 0},h.prototype._thumbnailQueue=[],h.prototype._processingThumbnail=!1,h.prototype._enqueueThumbnail=function(c){return this.options.createImageThumbnails&&c.type.match(/image.*/)&&c.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(c),setTimeout(function(d){return function(){return d._processThumbnailQueue()}}(this),0)):void 0},h.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(c){return function(){return c._processingThumbnail=!1,c._processThumbnailQueue()}}(this)))},h.prototype.removeFile=function(c){return c.status===h.UPLOADING&&this.cancelUpload(c),this.files=o(this.files,c),this.emit("removedfile",c),0===this.files.length?this.emit("reset"):void 0},h.prototype.removeAllFiles=function(i){var c,w,k,j;for(null==i&&(i=!1),j=this.files.slice(),w=0,k=j.length;k>w;w++){c=j[w],(c.status!==h.UPLOADING||i)&&this.removeFile(c)}return null},h.prototype.createThumbnail=function(e,d){var i;return i=new FileReader,i.onload=function(a){return function(){return"image/svg+xml"===e.type?(a.emit("thumbnail",e,i.result),void (null!=d&&d())):a.createThumbnailFromUrl(e,i.result,d)}}(this),i.readAsDataURL(e)},h.prototype.createThumbnailFromUrl=function(j,i,x,w){var k;return k=document.createElement("img"),w&&(k.crossOrigin=w),k.onload=function(a){return function(){var D,C,B,A,z,y,e,c;return j.width=k.width,j.height=k.height,B=a.options.resize.call(a,j),null==B.trgWidth&&(B.trgWidth=B.optWidth),null==B.trgHeight&&(B.trgHeight=B.optHeight),D=document.createElement("canvas"),C=D.getContext("2d"),D.width=B.trgWidth,D.height=B.trgHeight,q(C,k,null!=(z=B.srcX)?z:0,null!=(y=B.srcY)?y:0,B.srcWidth,B.srcHeight,null!=(e=B.trgX)?e:0,null!=(c=B.trgY)?c:0,B.trgWidth,B.trgHeight),A=D.toDataURL("image/png"),a.emit("thumbnail",j,A),null!=x?x():void 0}}(this),null!=x&&(k.onerror=x),k.src=i},h.prototype.processQueue=function(){var i,e,k,j;if(e=this.options.parallelUploads,k=this.getUploadingFiles().length,i=k,!(k>=e)&&(j=this.getQueuedFiles(),j.length>0)){if(this.options.uploadMultiple){return this.processFiles(j.slice(0,e-k))}for(;e>i;){if(!j.length){return}this.processFile(j.shift()),i++}}},h.prototype.processFile=function(c){return this.processFiles([c])},h.prototype.processFiles=function(i){var c,k,j;for(k=0,j=i.length;j>k;k++){c=i[k],c.processing=!0,c.status=h.UPLOADING,this.emit("processing",c)}return this.options.uploadMultiple&&this.emit("processingmultiple",i),this.uploadFiles(i)},h.prototype._getFilesWithXhr=function(e){var d,i;return i=function(){var w,k,j,a;for(j=this.files,a=[],w=0,k=j.length;k>w;w++){d=j[w],d.xhr===e&&a.push(d)}return a}.call(this)},h.prototype.cancelUpload=function(j){var c,A,z,y,x,w,k;if(j.status===h.UPLOADING){for(A=this._getFilesWithXhr(j.xhr),z=0,x=A.length;x>z;z++){c=A[z],c.status=h.CANCELED}for(j.xhr.abort(),y=0,w=A.length;w>y;y++){c=A[y],this.emit("canceled",c)}this.options.uploadMultiple&&this.emit("canceledmultiple",A)}else{((k=j.status)===h.ADDED||k===h.QUEUED)&&(j.status=h.CANCELED,this.emit("canceled",j),this.options.uploadMultiple&&this.emit("canceledmultiple",[j]))}return this.options.autoProcessQueue?this.processQueue():void 0},f=function(){var d,c;return c=arguments[0],d=2<=arguments.length?n.call(arguments,1):[],"function"==typeof c?c.apply(this,d):c},h.prototype.uploadFile=function(c){return this.uploadFiles([c])},h.prototype.uploadFiles=function(ar){var aq,ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ad,ab,Z,X,V,T,R,P,N,e,ae,ac,aa,Y,W,U,S,Q,O,M,d,c;for(R=new XMLHttpRequest,P=0,ac=ar.length;ac>P;P++){aq=ar[P],aq.xhr=R}af=f(this.options.method,ar),V=f(this.options.url,ar),R.open(af,V,!0),R.withCredentials=!!this.options.withCredentials,Z=null,ao=function(a){return function(){var k,j,i;for(i=[],k=0,j=ar.length;j>k;k++){aq=ar[k],i.push(a._errorProcessing(ar,Z||a.options.dictResponseError.replace("{{statusCode}}",R.status),R))}return i}}(this),X=function(a){return function(F){var E,D,C,B,A,z,y,x,w;if(null!=F){for(D=100*F.loaded/F.total,C=0,z=ar.length;z>C;C++){aq=ar[C],aq.upload={progress:D,total:F.total,bytesSent:F.loaded}}}else{for(E=!0,D=100,B=0,y=ar.length;y>B;B++){aq=ar[B],(100!==aq.upload.progress||aq.upload.bytesSent!==aq.upload.total)&&(E=!1),aq.upload.progress=D,aq.upload.bytesSent=aq.upload.total}if(E){return}}for(w=[],A=0,x=ar.length;x>A;A++){aq=ar[A],w.push(a.emit("uploadprogress",aq,D,aq.upload.bytesSent))}return w}}(this),R.onload=function(a){return function(k){var j;if(ar[0].status!==h.CANCELED&&4===R.readyState){if(Z=R.responseText,R.getResponseHeader("content-type")&&~R.getResponseHeader("content-type").indexOf("application/json")){try{Z=JSON.parse(Z)}catch(i){k=i,Z="Invalid JSON response from server."}}return X(),200<=(j=R.status)&&300>j?a._finished(ar,Z,k):ao()}}}(this),R.onerror=function(){return function(){return ar[0].status!==h.CANCELED?ao():void 0}}(this),ab=null!=(S=R.upload)?S:R,ab.onprogress=X,al={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&g(al,this.options.headers);for(an in al){am=al[an],am&&R.setRequestHeader(an,am)}if(ap=new FormData,this.options.params){Q=this.options.params;for(ag in Q){T=Q[ag],ap.append(ag,T)}}for(N=0,aa=ar.length;aa>N;N++){aq=ar[N],this.emit("sending",aq,R,ap)}if(this.options.uploadMultiple&&this.emit("sendingmultiple",ar,R,ap),"FORM"===this.element.tagName){for(O=this.element.querySelectorAll("input, textarea, select, button"),e=0,Y=O.length;Y>e;e++){if(aj=O[e],ai=aj.getAttribute("name"),ah=aj.getAttribute("type"),"SELECT"===aj.tagName&&aj.hasAttribute("multiple")){for(M=aj.options,ae=0,W=M.length;W>ae;ae++){ad=M[ae],ad.selected&&ap.append(ai,ad.value)}}else{(!ah||"checkbox"!==(d=ah.toLowerCase())&&"radio"!==d||aj.checked)&&ap.append(ai,aj.value)}}}for(ak=U=0,c=ar.length-1;c>=0?c>=U:U>=c;ak=c>=0?++U:--U){ap.append(this._getParamName(ak),ar[ak],this._renameFilename(ar[ak].name))}return this.submitRequest(R,ap,ar)},h.prototype.submitRequest=function(d,c){return d.send(c)},h.prototype._finished=function(i,c,x){var w,k,j;for(k=0,j=i.length;j>k;k++){w=i[k],w.status=h.SUCCESS,this.emit("success",w,c,x),this.emit("complete",w)}return this.options.uploadMultiple&&(this.emit("successmultiple",i,c,x),this.emit("completemultiple",i)),this.options.autoProcessQueue?this.processQueue():void 0},h.prototype._errorProcessing=function(i,c,x){var w,k,j;for(k=0,j=i.length;j>k;k++){w=i[k],w.status=h.ERROR,this.emit("error",w,c,x),this.emit("complete",w)}return this.options.uploadMultiple&&(this.emit("errormultiple",i,c,x),this.emit("completemultiple",i)),this.options.autoProcessQueue?this.processQueue():void 0},h}(u),v.version="4.3.0",v.options={},v.optionsForElement=function(a){return a.getAttribute("id")?v.options[t(a.getAttribute("id"))]:void 0},v.instances=[],v.forElement=function(b){if("string"==typeof b&&(b=document.querySelector(b)),null==(null!=b?b.dropzone:void 0)){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return b.dropzone},v.autoDiscover=!0,v.discover=function(){var a,w,k,j,i,h;for(document.querySelectorAll?k=document.querySelectorAll(".dropzone"):(k=[],a=function(g){var d,z,y,x;for(x=[],z=0,y=g.length;y>z;z++){d=g[z],x.push(/(^| )dropzone($| )/.test(d.className)?k.push(d):void 0)}return x},a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form"))),h=[],j=0,i=k.length;i>j;j++){w=k[j],h.push(v.optionsForElement(w)!==!1?new v(w):void 0)}return h},v.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],v.isBrowserSupported=function(){var a,j,i,h,g;if(a=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if("classList" in document.createElement("a")){for(g=v.blacklistedBrowsers,i=0,h=g.length;h>i;i++){j=g[i],j.test(navigator.userAgent)&&(a=!1)}}else{a=!1}}else{a=!1}return a},o=function(h,g){var w,k,j,i;for(i=[],k=0,j=h.length;j>k;k++){w=h[k],w!==g&&i.push(w)}return i},t=function(b){return b.replace(/[\-_](\w)/g,function(c){return c.charAt(1).toUpperCase()})},v.createElement=function(d){var c;return c=document.createElement("div"),c.innerHTML=d,c.childNodes[0]},v.elementInside=function(d,c){if(d===c){return !0}for(;d=d.parentNode;){if(d===c){return !0}}return !1},v.getElement=function(e,d){var f;if("string"==typeof e?f=document.querySelector(e):null!=e.nodeType&&(f=e),null==f){throw new Error("Invalid `"+d+"` option provided. Please provide a CSS selector or a plain HTML element.")}return f},v.getElements=function(G,F){var E,D,C,B,A,z,y,x;if(G instanceof Array){C=[];try{for(B=0,z=G.length;z>B;B++){D=G[B],C.push(this.getElement(D,F))}}catch(w){E=w,C=null}}else{if("string"==typeof G){for(C=[],x=document.querySelectorAll(G),A=0,y=x.length;y>A;A++){D=x[A],C.push(D)}}else{null!=G.nodeType&&(C=[G])}}if(null==C||!C.length){throw new Error("Invalid `"+F+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return C},v.confirm=function(e,d,f){return window.confirm(e)?d():null!=f?f():void 0},v.isValidFile=function(i,h){var y,x,w,k,j;if(!h){return !0}for(h=h.split(","),x=i.type,y=x.replace(/\/.*$/,""),k=0,j=h.length;j>k;k++){if(w=h[k],w=w.trim(),"."===w.charAt(0)){if(-1!==i.name.toLowerCase().indexOf(w.toLowerCase(),i.name.length-w.length)){return !0}}else{if(/\/\*$/.test(w)){if(y===w.replace(/\/.*$/,"")){return !0}}else{if(x===w){return !0}}}}return !1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new v(this,a)})}),"undefined"!=typeof module&&null!==module?module.exports=v:window.Dropzone=v,v.ADDED="added",v.QUEUED="queued",v.ACCEPTED=v.QUEUED,v.UPLOADING="uploading",v.PROCESSING=v.UPLOADING,v.CANCELED="canceled",v.ERROR="error",v.SUCCESS="success",r=function(G){var F,E,D,C,B,A,z,y,x,w;for(z=G.naturalWidth,A=G.naturalHeight,E=document.createElement("canvas"),E.width=1,E.height=A,D=E.getContext("2d"),D.drawImage(G,0,0),C=D.getImageData(0,0,1,A).data,w=0,B=A,y=A;y>w;){F=C[4*(y-1)+3],0===F?B=y:w=y,y=B+w>>1}return x=y/A,0===x?1:x},q=function(F,E,D,C,B,A,z,y,x,w){var e;return e=r(E),F.drawImage(E,D,C,B,A,z,y,x,w/e)},s=function(H,G){var F,E,D,C,B,A,z,y,x;if(D=!1,x=!0,E=H.document,y=E.documentElement,F=E.addEventListener?"addEventListener":"attachEvent",z=E.addEventListener?"removeEventListener":"detachEvent",A=E.addEventListener?"":"on",C=function(a){return"readystatechange"!==a.type||"complete"===E.readyState?(("load"===a.type?H:E)[z](A+a.type,C,!1),!D&&(D=!0)?G.call(H,a.type||a):void 0):void 0},B=function(){var d;try{y.doScroll("left")}catch(c){return d=c,void setTimeout(B,50)}return C("poll")},"complete"!==E.readyState){if(E.createEventObject&&y.doScroll){try{x=!H.frameElement}catch(w){}x&&B()}return E[F](A+"DOMContentLoaded",C,!1),E[F](A+"readystatechange",C,!1),H[F](A+"load",C,!1)}},v._autoDiscoverFunction=function(){return v.autoDiscover?v.discover():void 0},s(window,v._autoDiscoverFunction)}).call(this);