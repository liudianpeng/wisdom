(function(){var c=Date,b=c.prototype,f=function(j,i){if(!i){i=2}return("000"+j).slice(i*-1)};var h=function(m){var i={},j=this,n,k;k=function(s,p,q){if(s==="day"){var r=(m.month!==undefined)?m.month:j.getMonth();var o=(m.year!==undefined)?m.year:j.getFullYear();return c[p](q,o,r)}else{return c[p](q)}};for(n in m){if(hasOwnProperty.call(m,n)){var l="validate"+n.charAt(0).toUpperCase()+n.slice(1);if(c[l]&&m[n]!==null&&k(n,l,m[n])){i[n]=m[n]}}}return i};b.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};b.setTimeToNow=function(){var i=new Date();this.setHours(i.getHours());this.setMinutes(i.getMinutes());this.setSeconds(i.getSeconds());this.setMilliseconds(i.getMilliseconds());return this};b.clone=function(){return new Date(this.getTime())};b.compareTo=function(i){return Date.compare(this,i)};b.equals=function(i){return Date.equals(this,(i!==undefined?i:new Date()))};b.between=function(j,i){return this.getTime()>=j.getTime()&&this.getTime()<=i.getTime()};b.isAfter=function(i){return this.compareTo(i||new Date())===1};b.isBefore=function(i){return(this.compareTo(i||new Date())===-1)};b.isToday=b.isSameDay=function(i){return this.clone().clearTime().equals((i||new Date()).clone().clearTime())};b.addMilliseconds=function(i){if(!i){return this}this.setTime(this.getTime()+i*1);return this};b.addSeconds=function(i){if(!i){return this}return this.addMilliseconds(i*1000)};b.addMinutes=function(i){if(!i){return this}return this.addMilliseconds(i*60000)};b.addHours=function(i){if(!i){return this}return this.addMilliseconds(i*3600000)};b.addDays=function(i){if(!i){return this}this.setDate(this.getDate()+i*1);return this};b.addWeekdays=function(k){if(!k){return this}var i=this.getDay();var j=(Math.ceil(Math.abs(k)/7));if(i===0||i===6){if(k>0){this.next().monday();this.addDays(-1);i=this.getDay()}}if(k<0){while(k<0){this.addDays(-1);i=this.getDay();if(i!==0&&i!==6){k++}}return this}else{if(k>5||(6-i)<=k){k=k+(j*2)}}return this.addDays(k)};b.addWeeks=function(i){if(!i){return this}return this.addDays(i*7)};b.addMonths=function(i){if(!i){return this}var j=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+i*1);this.setDate(Math.min(j,c.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};b.addQuarters=function(i){if(!i){return this}return this.addMonths(i*3)};b.addYears=function(i){if(!i){return this}return this.addMonths(i*12)};b.add=function(j){if(typeof j==="number"){this._orient=j;return this}var i=j;if(i.day){if((i.day-this.getDate())!==0){this.setDate(i.day)}}if(i.milliseconds){this.addMilliseconds(i.milliseconds)}if(i.seconds){this.addSeconds(i.seconds)}if(i.minutes){this.addMinutes(i.minutes)}if(i.hours){this.addHours(i.hours)}if(i.weeks){this.addWeeks(i.weeks)}if(i.months){this.addMonths(i.months)}if(i.years){this.addYears(i.years)}if(i.days){this.addDays(i.days)}return this};b.getWeek=function(j){var i,k=new Date(this.valueOf());if(j){k.addMinutes(k.getTimezoneOffset());i=k.clone()}else{i=this}var l=(i.getDay()+6)%7;k.setDate(k.getDate()-l+3);var m=k.valueOf();k.setMonth(0,1);if(k.getDay()!==4){k.setMonth(0,1+((4-k.getDay())+7)%7)}return 1+Math.ceil((m-k)/604800000)};b.getISOWeek=function(){return f(this.getWeek(true))};b.setWeek=function(i){if((i-this.getWeek())===0){if(this.getDay()!==1){return this.moveToDayOfWeek(1,(this.getDay()>1?-1:1))}else{return this}}else{return this.moveToDayOfWeek(1,(this.getDay()>1?-1:1)).addWeeks(i-this.getWeek())}};b.setQuarter=function(i){var j=Math.abs(((i-1)*3)+1);return this.setMonth(j,1)};b.getQuarter=function(){return Date.getQuarter(this)};b.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};b.moveToNthOccurrence=function(j,k){if(j==="Weekday"){if(k>0){this.moveToFirstDayOfMonth();if(this.is().weekday()){k-=1}}else{if(k<0){this.moveToLastDayOfMonth();if(this.is().weekday()){k+=1}}else{return this}}return this.addWeekdays(k)}var i=0;if(k>0){i=k-1}else{if(k===-1){this.moveToLastDayOfMonth();if(this.getDay()!==j){this.moveToDayOfWeek(j,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(j,+1).addWeeks(i)};var d=function(k,j,i){return function(m,l){var n=(m-this[k]()+i*(l||+1))%i;return this[j]((n===0)?n+=i*(l||+1):n)}};b.moveToDayOfWeek=d("getDay","addDays",7);b.moveToMonth=d("getMonth","addMonths",12);b.getOrdinate=function(){var i=this.getDate();return a(i)};b.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};b.getTimezone=function(){return c.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())};b.setTimezoneOffset=function(k){var i=this.getTimezoneOffset(),j=Number(k)*-6/10;return(j||j===0)?this.addMinutes(j-i):this};b.setTimezone=function(i){return this.setTimezoneOffset(c.getTimezoneOffset(i))};b.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};b.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()};b.getUTCOffset=function(j){var k=(j||this.getTimezoneOffset())*-10/6,i;if(k<0){i=(k-10000).toString();return i.charAt(0)+i.substr(2)}else{i=(k+10000).toString();return"+"+i.substr(1)}};b.getElapsed=function(i){return(i||new Date())-this};b.set=function(j){j=h.call(this,j);var k;for(k in j){if(hasOwnProperty.call(j,k)){var i=k.charAt(0).toUpperCase()+k.slice(1);var l,m;if(k!=="week"&&k!=="month"&&k!=="timezone"&&k!=="timezoneOffset"){i+="s"}l="add"+i;m="get"+i;if(k==="month"){l=l+"s"}else{if(k==="year"){m="getFullYear"}}if(k!=="day"&&k!=="timezone"&&k!=="timezoneOffset"&&k!=="week"&&k!=="hour"){this[l](j[k]-this[m]())}else{if(k==="timezone"||k==="timezoneOffset"||k==="week"||k==="hour"){this["set"+i](j[k])}}}}if(j.day){this.addDays(j.day-this.getDate())}return this};b.moveToFirstDayOfMonth=function(){return this.set({day:1})};b.moveToLastDayOfMonth=function(){return this.set({day:c.getDaysInMonth(this.getFullYear(),this.getMonth())})};var a=function(i){switch(i*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};var g=function(i){var k,j=Date.CultureInfo.formatPatterns;switch(i){case"d":return this.toString(j.shortDate);case"D":return this.toString(j.longDate);case"F":return this.toString(j.fullDateTime);case"m":return this.toString(j.monthDay);case"r":case"R":k=this.clone().addMinutes(this.getTimezoneOffset());return k.toString(j.rfc1123)+" GMT";case"s":return this.toString(j.sortableDateTime);case"t":return this.toString(j.shortTime);case"T":return this.toString(j.longTime);case"u":k=this.clone().addMinutes(this.getTimezoneOffset());return k.toString(j.universalSortableDateTime);case"y":return this.toString(j.yearMonth);default:return false}};var e=function(i){return function(j){if(j.charAt(0)==="\\"){return j.replace("\\","")}switch(j){case"hh":return f(i.getHours()<13?(i.getHours()===0?12:i.getHours()):(i.getHours()-12));case"h":return i.getHours()<13?(i.getHours()===0?12:i.getHours()):(i.getHours()-12);case"HH":return f(i.getHours());case"H":return i.getHours();case"mm":return f(i.getMinutes());case"m":return i.getMinutes();case"ss":return f(i.getSeconds());case"s":return i.getSeconds();case"yyyy":return f(i.getFullYear(),4);case"yy":return f(i.getFullYear());case"y":return i.getFullYear();case"E":case"dddd":return Date.CultureInfo.dayNames[i.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[i.getDay()];case"dd":return f(i.getDate());case"d":return i.getDate();case"MMMM":return Date.CultureInfo.monthNames[i.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[i.getMonth()];case"MM":return f((i.getMonth()+1));case"M":return i.getMonth()+1;case"t":return i.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return i.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return a(i.getDate());case"W":return i.getWeek();case"WW":return i.getISOWeek();case"Q":return"Q"+i.getQuarter();case"q":return String(i.getQuarter());case"z":return i.getTimezone();case"Z":case"X":return Date.getTimezoneOffset(i.getTimezone());case"ZZ":return i.getTimezoneOffset()*-60;case"u":return i.getDay();case"L":return(c.isLeapYear(i.getFullYear()))?1:0;case"B":return"@"+((i.getUTCSeconds()+(i.getUTCMinutes()*60)+((i.getUTCHours()+1)*3600))/86.4);default:return j}}};b.toString=function(k,j){if(!j&&k&&k.length===1){output=g.call(this,k);if(output){return output}}var i=e(this);return k?k.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,i).replace(/\[|\]/g,""):this._toString()}}());