(function(){var b=function(f){return function(){return this[f]}};var e=function(f){return function(g){this[f]=g;return this}};var c=["years","months","days","hours","minutes","seconds","milliseconds"];var a=function(h,f){for(var g=0;g<f.length;g++){var k=f[g],j=k.slice(0,1).toUpperCase()+k.slice(1);h.prototype[k]=0;h.prototype["get"+j]=b(k);h.prototype["set"+j]=e(k)}};var d=function(l,f,i,j,h){if(arguments.length===1&&typeof l==="number"){var g=(l<0)?-1:+1;var k=Math.abs(l);this.setDays(Math.floor(k/86400000)*g);k=k%86400000;this.setHours(Math.floor(k/3600000)*g);k=k%3600000;this.setMinutes(Math.floor(k/60000)*g);k=k%60000;this.setSeconds(Math.floor(k/1000)*g);k=k%1000;this.setMilliseconds(k*g)}else{this.set(l,f,i,j,h)}this.getTotalMilliseconds=function(){return(this.getDays()*86400000)+(this.getHours()*3600000)+(this.getMinutes()*60000)+(this.getSeconds()*1000)};this.compareTo=function(o){var n=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),m;if(o===null){m=new Date(1970,1,1,0,0,0)}else{m=new Date(1970,1,1,o.getHours(),o.getMinutes(),o.getSeconds())}return(n<m)?-1:(n>m)?1:0};this.equals=function(m){return(this.compareTo(m)===0)};this.add=function(m){return(m===null)?this:this.addSeconds(m.getTotalMilliseconds()/1000)};this.subtract=function(m){return(m===null)?this:this.addSeconds(-m.getTotalMilliseconds()/1000)};this.addDays=function(m){return new d(this.getTotalMilliseconds()+(m*86400000))};this.addHours=function(m){return new d(this.getTotalMilliseconds()+(m*3600000))};this.addMinutes=function(m){return new d(this.getTotalMilliseconds()+(m*60000))};this.addSeconds=function(m){return new d(this.getTotalMilliseconds()+(m*1000))};this.addMilliseconds=function(m){return new d(this.getTotalMilliseconds()+m)};this.get12HourHour=function(){return(this.getHours()>12)?this.getHours()-12:(this.getHours()===0)?12:this.getHours()};this.getDesignator=function(){return(this.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(n){this._toString=function(){if(this.getDays()!==null&&this.getDays()>0){return this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}else{return this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}};this.p=function(o){return(o.toString().length<2)?"0"+o:o};var m=this;return n?n.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(o){switch(o){case"d":return m.getDays();case"dd":return m.p(m.getDays());case"H":return m.getHours();case"HH":return m.p(m.getHours());case"h":return m.get12HourHour();case"hh":return m.p(m.get12HourHour());case"m":return m.getMinutes();case"mm":return m.p(m.getMinutes());case"s":return m.getSeconds();case"ss":return m.p(m.getSeconds());case"t":return((m.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return(m.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};a(d,c.slice(2));d.prototype.set=function(j,f,h,i,g){this.setDays(j||this.getDays());this.setHours(f||this.getHours());this.setMinutes(h||this.getMinutes());this.setSeconds(i||this.getSeconds());this.setMilliseconds(g||this.getMilliseconds())};Date.prototype.getTimeOfDay=function(){return new d(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.TimeSpan=d;if(typeof window!=="undefined"){window.TimeSpan=d}}());