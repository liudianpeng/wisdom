Date.CultureStrings=Date.CultureStrings||{};Date.CultureStrings["en-US"]={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Su:"Su",Mo:"Mo",Tu:"Tu",We:"We",Th:"Th",Fr:"Fr",Sa:"Sa",S_Sun_Initial:"S",M_Mon_Initial:"M",T_Tue_Initial:"T",W_Wed_Initial:"W",T_Thu_Initial:"T",F_Fri_Initial:"F",S_Sat_Initial:"S",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Jan_Abbr:"Jan",Feb_Abbr:"Feb",Mar_Abbr:"Mar",Apr_Abbr:"Apr",May_Abbr:"May",Jun_Abbr:"Jun",Jul_Abbr:"Jul",Aug_Abbr:"Aug",Sep_Abbr:"Sep",Oct_Abbr:"Oct",Nov_Abbr:"Nov",Dec_Abbr:"Dec",AM:"AM",PM:"PM",firstDayOfWeek:0,twoDigitYearMax:2049,mdy:"mdy","M/d/yyyy":"M/d/yyyy","dddd, MMMM dd, yyyy":"dddd, MMMM dd, yyyy","h:mm tt":"h:mm tt","h:mm:ss tt":"h:mm:ss tt","dddd, MMMM dd, yyyy h:mm:ss tt":"dddd, MMMM dd, yyyy h:mm:ss tt","yyyy-MM-ddTHH:mm:ss":"yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ssZ":"yyyy-MM-dd HH:mm:ssZ","ddd, dd MMM yyyy HH:mm:ss":"ddd, dd MMM yyyy HH:mm:ss","MMMM dd":"MMMM dd","MMMM, yyyy":"MMMM, yyyy","/jan(uary)?/":"jan(uary)?","/feb(ruary)?/":"feb(ruary)?","/mar(ch)?/":"mar(ch)?","/apr(il)?/":"apr(il)?","/may/":"may","/jun(e)?/":"jun(e)?","/jul(y)?/":"jul(y)?","/aug(ust)?/":"aug(ust)?","/sep(t(ember)?)?/":"sep(t(ember)?)?","/oct(ober)?/":"oct(ober)?","/nov(ember)?/":"nov(ember)?","/dec(ember)?/":"dec(ember)?","/^su(n(day)?)?/":"^su(n(day)?)?","/^mo(n(day)?)?/":"^mo(n(day)?)?","/^tu(e(s(day)?)?)?/":"^tu(e(s(day)?)?)?","/^we(d(nesday)?)?/":"^we(d(nesday)?)?","/^th(u(r(s(day)?)?)?)?/":"^th(u(r(s(day)?)?)?)?","/^fr(i(day)?)?/":"^fr(i(day)?)?","/^sa(t(urday)?)?/":"^sa(t(urday)?)?","/^next/":"^next","/^last|past|prev(ious)?/":"^last|past|prev(ious)?","/^(\\+|aft(er)?|from|hence)/":"^(\\+|aft(er)?|from|hence)","/^(\\-|bef(ore)?|ago)/":"^(\\-|bef(ore)?|ago)","/^yes(terday)?/":"^yes(terday)?","/^t(od(ay)?)?/":"^t(od(ay)?)?","/^tom(orrow)?/":"^tom(orrow)?","/^n(ow)?/":"^n(ow)?","/^ms|milli(second)?s?/":"^ms|milli(second)?s?","/^sec(ond)?s?/":"^sec(ond)?s?","/^mn|min(ute)?s?/":"^mn|min(ute)?s?","/^h(our)?s?/":"^h(our)?s?","/^w(eek)?s?/":"^w(eek)?s?","/^m(onth)?s?/":"^m(onth)?s?","/^d(ay)?s?/":"^d(ay)?s?","/^y(ear)?s?/":"^y(ear)?s?","/^(a|p)/":"^(a|p)","/^(a\\.?m?\\.?|p\\.?m?\\.?)/":"^(a\\.?m?\\.?|p\\.?m?\\.?)","/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/":"^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)","/^\\s*(st|nd|rd|th)/":"^\\s*(st|nd|rd|th)","/^\\s*(\\:|a(?!u|p)|p)/":"^\\s*(\\:|a(?!u|p)|p)",LINT:"LINT",TOT:"TOT",CHAST:"CHAST",NZST:"NZST",NFT:"NFT",SBT:"SBT",AEST:"AEST",ACST:"ACST",JST:"JST",CWST:"CWST",CT:"CT",ICT:"ICT",MMT:"MMT",BIOT:"BST",NPT:"NPT",IST:"IST",PKT:"PKT",AFT:"AFT",MSK:"MSK",IRST:"IRST",FET:"FET",EET:"EET",CET:"CET",UTC:"UTC",GMT:"GMT",CVT:"CVT",GST:"GST",BRT:"BRT",NST:"NST",AST:"AST",EST:"EST",CST:"CST",MST:"MST",PST:"PST",AKST:"AKST",MIT:"MIT",HST:"HST",SST:"SST",BIT:"BIT",CHADT:"CHADT",NZDT:"NZDT",AEDT:"AEDT",ACDT:"ACDT",AZST:"AZST",IRDT:"IRDT",EEST:"EEST",CEST:"CEST",BST:"BST",PMDT:"PMDT",ADT:"ADT",NDT:"NDT",EDT:"EDT",CDT:"CDT",MDT:"MDT",PDT:"PDT",AKDT:"AKDT",HADT:"HADT"};Date.CultureStrings.lang="en-US";(function(){var j=Date,i=Date.CultureStrings?Date.CultureStrings.lang:null,l={},h=function(n,q){var g,o,p,c=q?q:i;if(Date.CultureStrings&&Date.CultureStrings[c]&&Date.CultureStrings[c][n]){g=Date.CultureStrings[c][n]}else{switch(n){case"name":g="en-US";break;case"englishName":g="English (United States)";break;case"nativeName":g="English (United States)";break;case"twoDigitYearMax":g=2049;break;case"firstDayOfWeek":g=0;break;default:if(g=n,o=n.split("_"),p=o.length,1<p&&"/"!==n.charAt(0)&&(p=o[p-1].toLowerCase(),"initial"===p||"abbr"===p)){g=o[0]}}}"/"===n.charAt(0)&&(g=Date.CultureStrings&&Date.CultureStrings[c]&&Date.CultureStrings[c][n]?RegExp(Date.CultureStrings[c][n],"i"):RegExp(n.replace(RegExp("/","g"),""),"i"));l[n]=n;return g},d=function(f){f=Date.Config.i18n+f+".js";var m=document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=f;var g={done:function(){}};c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(done=!0,g.done(),m.removeChild(c))};setTimeout(function(){m.insertBefore(c,m.firstChild)},0);return{done:function(b){g.done=function(){b&&b()}}}},k=function(){var a={name:h("name"),englishName:h("englishName"),nativeName:h("nativeName"),dayNames:[h("Sunday"),h("Monday"),h("Tuesday"),h("Wednesday"),h("Thursday"),h("Friday"),h("Saturday")],abbreviatedDayNames:[h("Sun"),h("Mon"),h("Tue"),h("Wed"),h("Thu"),h("Fri"),h("Sat")],shortestDayNames:[h("Su"),h("Mo"),h("Tu"),h("We"),h("Th"),h("Fr"),h("Sa")],firstLetterDayNames:[h("S_Sun_Initial"),h("M_Mon_Initial"),h("T_Tues_Initial"),h("W_Wed_Initial"),h("T_Thu_Initial"),h("F_Fri_Initial"),h("S_Sat_Initial")],monthNames:[h("January"),h("February"),h("March"),h("April"),h("May"),h("June"),h("July"),h("August"),h("September"),h("October"),h("November"),h("December")],abbreviatedMonthNames:[h("Jan_Abbr"),h("Feb_Abbr"),h("Mar_Abbr"),h("Apr_Abbr"),h("May_Abbr"),h("Jun_Abbr"),h("Jul_Abbr"),h("Aug_Abbr"),h("Sep_Abbr"),h("Oct_Abbr"),h("Nov_Abbr"),h("Dec_Abbr")],amDesignator:h("AM"),pmDesignator:h("PM"),firstDayOfWeek:h("firstDayOfWeek"),twoDigitYearMax:h("twoDigitYearMax"),dateElementOrder:h("mdy"),formatPatterns:{shortDate:h("M/d/yyyy"),longDate:h("dddd, MMMM dd, yyyy"),shortTime:h("h:mm tt"),longTime:h("h:mm:ss tt"),fullDateTime:h("dddd, MMMM dd, yyyy h:mm:ss tt"),sortableDateTime:h("yyyy-MM-ddTHH:mm:ss"),universalSortableDateTime:h("yyyy-MM-dd HH:mm:ssZ"),rfc1123:h("ddd, dd MMM yyyy HH:mm:ss"),monthDay:h("MMMM dd"),yearMonth:h("MMMM, yyyy")},regexPatterns:{inTheMorning:h("/( in the )(morn(ing)?)\\b/"),thisMorning:h("/(this )(morn(ing)?)\\b/"),amThisMorning:h("/(\b\\d(am)? )(this )(morn(ing)?)/"),inTheEvening:h("/( in the )(even(ing)?)\\b/"),thisEvening:h("/(this )(even(ing)?)\\b/"),pmThisEvening:h("/(\b\\d(pm)? )(this )(even(ing)?)/"),jan:h("/jan(uary)?/"),feb:h("/feb(ruary)?/"),mar:h("/mar(ch)?/"),apr:h("/apr(il)?/"),may:h("/may/"),jun:h("/jun(e)?/"),jul:h("/jul(y)?/"),aug:h("/aug(ust)?/"),sep:h("/sep(t(ember)?)?/"),oct:h("/oct(ober)?/"),nov:h("/nov(ember)?/"),dec:h("/dec(ember)?/"),sun:h("/^su(n(day)?)?/"),mon:h("/^mo(n(day)?)?/"),tue:h("/^tu(e(s(day)?)?)?/"),wed:h("/^we(d(nesday)?)?/"),thu:h("/^th(u(r(s(day)?)?)?)?/"),fri:h("/fr(i(day)?)?/"),sat:h("/^sa(t(urday)?)?/"),future:h("/^next/"),past:h("/last|past|prev(ious)?/"),add:h("/^(\\+|aft(er)?|from|hence)/"),subtract:h("/^(\\-|bef(ore)?|ago)/"),yesterday:h("/^yes(terday)?/"),today:h("/^t(od(ay)?)?/"),tomorrow:h("/^tom(orrow)?/"),now:h("/^n(ow)?/"),millisecond:h("/^ms|milli(second)?s?/"),second:h("/^sec(ond)?s?/"),minute:h("/^mn|min(ute)?s?/"),hour:h("/^h(our)?s?/"),week:h("/^w(eek)?s?/"),month:h("/^m(onth)?s?/"),day:h("/^d(ay)?s?/"),year:h("/^y(ear)?s?/"),shortMeridian:h("/^(a|p)/"),longMeridian:h("/^(a\\.?m?\\.?|p\\.?m?\\.?)/"),timezone:h("/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/"),ordinalSuffix:h("/^\\s*(st|nd|rd|th)/"),timeContext:h("/^\\s*(\\:|a(?!u|p)|p)/")},timezones:[],abbreviatedTimeZoneDST:{},abbreviatedTimeZoneStandard:{}};a.abbreviatedTimeZoneDST[h("CHADT")]="+1345";a.abbreviatedTimeZoneDST[h("NZDT")]="+1300";a.abbreviatedTimeZoneDST[h("AEDT")]="+1100";a.abbreviatedTimeZoneDST[h("ACDT")]="+1030";a.abbreviatedTimeZoneDST[h("AZST")]="+0500";a.abbreviatedTimeZoneDST[h("IRDT")]="+0430";a.abbreviatedTimeZoneDST[h("EEST")]="+0300";a.abbreviatedTimeZoneDST[h("CEST")]="+0200";a.abbreviatedTimeZoneDST[h("BST")]="+0100";a.abbreviatedTimeZoneDST[h("PMDT")]="-0200";a.abbreviatedTimeZoneDST[h("ADT")]="-0300";a.abbreviatedTimeZoneDST[h("NDT")]="-0230";a.abbreviatedTimeZoneDST[h("EDT")]="-0400";a.abbreviatedTimeZoneDST[h("CDT")]="-0500";a.abbreviatedTimeZoneDST[h("MDT")]="-0600";a.abbreviatedTimeZoneDST[h("PDT")]="-0700";a.abbreviatedTimeZoneDST[h("AKDT")]="-0800";a.abbreviatedTimeZoneDST[h("HADT")]="-0900";a.abbreviatedTimeZoneStandard[h("LINT")]="+1400";a.abbreviatedTimeZoneStandard[h("TOT")]="+1300";a.abbreviatedTimeZoneStandard[h("CHAST")]="+1245";a.abbreviatedTimeZoneStandard[h("NZST")]="+1200";a.abbreviatedTimeZoneStandard[h("NFT")]="+1130";a.abbreviatedTimeZoneStandard[h("SBT")]="+1100";a.abbreviatedTimeZoneStandard[h("AEST")]="+1000";a.abbreviatedTimeZoneStandard[h("ACST")]="+0930";a.abbreviatedTimeZoneStandard[h("JST")]="+0900";a.abbreviatedTimeZoneStandard[h("CWST")]="+0845";a.abbreviatedTimeZoneStandard[h("CT")]="+0800";a.abbreviatedTimeZoneStandard[h("ICT")]="+0700";a.abbreviatedTimeZoneStandard[h("MMT")]="+0630";a.abbreviatedTimeZoneStandard[h("BST")]="+0600";a.abbreviatedTimeZoneStandard[h("NPT")]="+0545";a.abbreviatedTimeZoneStandard[h("IST")]="+0530";a.abbreviatedTimeZoneStandard[h("PKT")]="+0500";a.abbreviatedTimeZoneStandard[h("AFT")]="+0430";a.abbreviatedTimeZoneStandard[h("MSK")]="+0400";a.abbreviatedTimeZoneStandard[h("IRST")]="+0330";a.abbreviatedTimeZoneStandard[h("FET")]="+0300";a.abbreviatedTimeZoneStandard[h("EET")]="+0200";a.abbreviatedTimeZoneStandard[h("CET")]="+0100";a.abbreviatedTimeZoneStandard[h("GMT")]="+0000";a.abbreviatedTimeZoneStandard[h("UTC")]="+0000";a.abbreviatedTimeZoneStandard[h("CVT")]="-0100";a.abbreviatedTimeZoneStandard[h("GST")]="-0200";a.abbreviatedTimeZoneStandard[h("BRT")]="-0300";a.abbreviatedTimeZoneStandard[h("NST")]="-0330";a.abbreviatedTimeZoneStandard[h("AST")]="-0400";a.abbreviatedTimeZoneStandard[h("EST")]="-0500";a.abbreviatedTimeZoneStandard[h("CST")]="-0600";a.abbreviatedTimeZoneStandard[h("MST")]="-0700";a.abbreviatedTimeZoneStandard[h("PST")]="-0800";a.abbreviatedTimeZoneStandard[h("AKST")]="-0900";a.abbreviatedTimeZoneStandard[h("MIT")]="-0930";a.abbreviatedTimeZoneStandard[h("HST")]="-1000";a.abbreviatedTimeZoneStandard[h("SST")]="-1100";a.abbreviatedTimeZoneStandard[h("BIT")]="-1200";for(var b in a.abbreviatedTimeZoneStandard){a.abbreviatedTimeZoneStandard.hasOwnProperty(b)&&a.timezones.push({name:b,offset:a.abbreviatedTimeZoneStandard[b]})}for(b in a.abbreviatedTimeZoneDST){a.abbreviatedTimeZoneDST.hasOwnProperty(b)&&a.timezones.push({name:b,offset:a.abbreviatedTimeZoneDST[b],dst:!0})}return a};j.i18n={__:function(a,b){return h(a,b)},currentLanguage:function(){return i||"en-US"},setLanguage:function(b,e){if(e||"en-US"===b||Date.CultureStrings&&Date.CultureStrings[b]){i=b,Date.CultureStrings.lang=b,Date.CultureInfo=k()}else{if(!Date.CultureStrings||!Date.CultureStrings[b]){if("undefined"!==typeof exports&&this.exports!==exports){try{require("../i18n/"+b+".js"),i=b,Date.CultureStrings.lang=b,Date.CultureInfo=k()}catch(f){throw Error("The DateJS IETF language tag '"+b+"' could not be loaded by Node. It likely does not exist.")}}else{Date.Config&&Date.Config.i18n?d(b).done(function(){i=b;Date.CultureStrings.lang=b;Date.CultureInfo=k()}):Date.console.error("The DateJS IETF language tag '"+b+"' is not available and has not been loaded.")}}}},getLoggedKeys:function(){return l},updateCultureInfo:function(){Date.CultureInfo=k()}};j.i18n.updateCultureInfo()})();(function(){var i=Date,h=i.prototype,j=function(f,c){c||(c=2);return("000"+f).slice(-1*c)};i.console="undefined"!==typeof window&&"undefined"!==typeof window.console&&"undefined"!==typeof window.console.log?console:{log:function(){},error:function(){}};i.Config={};i.initOverloads=function(){i.now?i._now||(i._now=i.now):i._now=function(){return(new Date).getTime()};i.now=function(b){return b?i.present():i._now()};h.toISOString||(h.toISOString=function(){return this.getUTCFullYear()+"-"+j(this.getUTCMonth()+1)+"-"+j(this.getUTCDate())+"T"+j(this.getUTCHours())+":"+j(this.getUTCMinutes())+":"+j(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"});void 0===h._toString&&(h._toString=h.toString)};i.initOverloads();h.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};h.setTimeToNow=function(){var b=new Date;this.setHours(b.getHours());this.setMinutes(b.getMinutes());this.setSeconds(b.getSeconds());this.setMilliseconds(b.getMilliseconds());return this};i.today=function(){return(new Date).clearTime()};i.present=function(){return new Date};i.compare=function(f,c){if(isNaN(f)||isNaN(c)){throw Error(f+" - "+c)}if(f instanceof Date&&c instanceof Date){return f<c?-1:f>c?1:0}throw new TypeError(f+" - "+c)};i.equals=function(f,c){return 0===f.compareTo(c)};i.getDayName=function(b){return Date.CultureInfo.dayNames[b]};i.getDayNumberFromName=function(g){var f=Date.CultureInfo.dayNames,l=Date.CultureInfo.abbreviatedDayNames,m=Date.CultureInfo.shortestDayNames;g=g.toLowerCase();for(var k=0;k<f.length;k++){if(f[k].toLowerCase()===g||l[k].toLowerCase()===g||m[k].toLowerCase()===g){return k}}return -1};i.getMonthNumberFromName=function(g){var f=Date.CultureInfo.monthNames,k=Date.CultureInfo.abbreviatedMonthNames;g=g.toLowerCase();for(var l=0;l<f.length;l++){if(f[l].toLowerCase()===g||k[l].toLowerCase()===g){return l}}return -1};i.getMonthName=function(b){return Date.CultureInfo.monthNames[b]};i.isLeapYear=function(b){return 0===b%4&&0!==b%100||0===b%400};i.getDaysInMonth=function(f,c){!c&&i.validateMonth(f)&&(c=f,f=Date.today().getFullYear());return[31,i.isLeapYear(f)?29:28,31,30,31,30,31,31,30,31,30,31][c]};i.getTimezoneAbbreviation=function(g,f){var k,l=f?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(k in l){if(l.hasOwnProperty(k)&&l[k]===g){return k}}return null};i.getTimezoneOffset=function(g,f){var l,m=[],k=Date.CultureInfo.timezones;g||(g=(new Date).getTimezone());for(l=0;l<k.length;l++){k[l].name===g.toUpperCase()&&m.push(l)}if(!k[m[0]]){return null}if(1!==m.length&&f){for(l=0;l<m.length;l++){if(k[m[l]].dst){return k[m[l]].offset}}}else{return k[m[0]].offset}};i.getQuarter=function(b){b=b||new Date;return[1,2,3,4][Math.floor(b.getMonth()/3)]};i.getDaysLeftInQuarter=function(f){f=f||new Date;var c=new Date(f);c.setMonth(c.getMonth()+3-c.getMonth()%3,0);return Math.floor((c-f)/86400000)};h.clone=function(){return new Date(this.getTime())};h.compareTo=function(b){return Date.compare(this,b)};h.equals=function(b){return Date.equals(this,void 0!==b?b:new Date)};h.between=function(f,c){return this.getTime()>=f.getTime()&&this.getTime()<=c.getTime()};h.isAfter=function(b){return 1===this.compareTo(b||new Date)};h.isBefore=function(b){return -1===this.compareTo(b||new Date)};h.isToday=h.isSameDay=function(b){return this.clone().clearTime().equals((b||new Date).clone().clearTime())};h.addMilliseconds=function(b){if(!b){return this}this.setTime(this.getTime()+1*b);return this};h.addSeconds=function(b){return b?this.addMilliseconds(1000*b):this};h.addMinutes=function(b){return b?this.addMilliseconds(60000*b):this};h.addHours=function(b){return b?this.addMilliseconds(3600000*b):this};h.addDays=function(b){if(!b){return this}this.setDate(this.getDate()+1*b);return this};h.addWeekdays=function(f){if(!f){return this}var c=this.getDay(),g=Math.ceil(Math.abs(f)/7);(0===c||6===c)&&0<f&&(this.next().monday(),this.addDays(-1));if(0>f){for(;0>f;){this.addDays(-1),c=this.getDay(),0!==c&&6!==c&&f++}return this}if(5<f||6-c<=f){f+=2*g}return this.addDays(f)};h.addWeeks=function(b){return b?this.addDays(7*b):this};h.addMonths=function(f){if(!f){return this}var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+1*f);this.setDate(Math.min(c,i.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};h.addQuarters=function(b){return b?this.addMonths(3*b):this};h.addYears=function(b){return b?this.addMonths(12*b):this};h.add=function(b){if("number"===typeof b){return this._orient=b,this}b.day&&0!==b.day-this.getDate()&&this.setDate(b.day);b.milliseconds&&this.addMilliseconds(b.milliseconds);b.seconds&&this.addSeconds(b.seconds);b.minutes&&this.addMinutes(b.minutes);b.hours&&this.addHours(b.hours);b.weeks&&this.addWeeks(b.weeks);b.months&&this.addMonths(b.months);b.years&&this.addYears(b.years);b.days&&this.addDays(b.days);return this};h.getWeek=function(f){var c=new Date(this.valueOf());f?(c.addMinutes(c.getTimezoneOffset()),f=c.clone()):f=this;f=(f.getDay()+6)%7;c.setDate(c.getDate()-f+3);f=c.valueOf();c.setMonth(0,1);4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7);return 1+Math.ceil((f-c)/604800000)};h.getISOWeek=function(){return j(this.getWeek(!0))};h.setWeek=function(b){return 0===b-this.getWeek()?1!==this.getDay()?this.moveToDayOfWeek(1,1<this.getDay()?-1:1):this:this.moveToDayOfWeek(1,1<this.getDay()?-1:1).addWeeks(b-this.getWeek())};h.setQuarter=function(b){b=Math.abs(3*(b-1)+1);return this.setMonth(b,1)};h.getQuarter=function(){return Date.getQuarter(this)};h.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};var e=function(g,f,k,l){if("undefined"===typeof g){return !1}if("number"!==typeof g){throw new TypeError(g+" is not a Number.")}return g<f||g>k?!1:!0};i.validateMillisecond=function(a){return e(a,0,999,"millisecond")};i.validateSecond=function(a){return e(a,0,59,"second")};i.validateMinute=function(a){return e(a,0,59,"minute")};i.validateHour=function(a){return e(a,0,23,"hour")};i.validateDay=function(c,a,f){return e(c,1,i.getDaysInMonth(a,f),"day")};i.validateWeek=function(a){return e(a,0,53,"week")};i.validateMonth=function(a){return e(a,0,11,"month")};i.validateYear=function(a){return e(a,-271822,275760,"year")};h.set=function(b){i.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());i.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());i.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());i.validateHour(b.hour)&&this.addHours(b.hour-this.getHours());i.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());i.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());i.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);b.week&&i.validateWeek(b.week)&&this.setWeek(b.week);return this};h.moveToFirstDayOfMonth=function(){return this.set({day:1})};h.moveToLastDayOfMonth=function(){return this.set({day:i.getDaysInMonth(this.getFullYear(),this.getMonth())})};h.moveToNthOccurrence=function(f,c){if("Weekday"===f){if(0<c){this.moveToFirstDayOfMonth(),this.is().weekday()&&(c-=1)}else{if(0>c){this.moveToLastDayOfMonth(),this.is().weekday()&&(c+=1)}else{return this}}return this.addWeekdays(c)}var g=0;if(0<c){g=c-1}else{if(-1===c){return this.moveToLastDayOfMonth(),this.getDay()!==f&&this.moveToDayOfWeek(f,-1),this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(f,1).addWeeks(g)};h.moveToDayOfWeek=function(f,c){var g=(f-this.getDay()+7*(c||1))%7;return this.addDays(0===g?g+7*(c||1):g)};h.moveToMonth=function(f,c){var g=(f-this.getMonth()+12*(c||1))%12;return this.addMonths(0===g?g+12*(c||1):g)};h.getOrdinate=function(){var b=this.getDate();return d(b)};h.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};h.getTimezone=function(){return i.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())};h.setTimezoneOffset=function(f){var c=this.getTimezoneOffset();return(f=-6*Number(f)/10)||0===f?this.addMinutes(f-c):this};h.setTimezone=function(b){return this.setTimezoneOffset(i.getTimezoneOffset(b))};h.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};h.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()};h.getUTCOffset=function(b){b=-10*(b||this.getTimezoneOffset())/6;if(0>b){return b=(b-10000).toString(),b.charAt(0)+b.substr(2)}b=(b+10000).toString();return"+"+b.substr(1)};h.getElapsed=function(b){return(b||new Date)-this};var d=function(b){switch(1*b){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};h.toString=function(b,l){var m=this;if(!l&&b&&1===b.length){var k,c=Date.CultureInfo.formatPatterns;m.t=m.toString;switch(b){case"d":return m.t(c.shortDate);case"D":return m.t(c.longDate);case"F":return m.t(c.fullDateTime);case"m":return m.t(c.monthDay);case"r":case"R":return k=m.clone().addMinutes(m.getTimezoneOffset()),k.toString(c.rfc1123)+" GMT";case"s":return m.t(c.sortableDateTime);case"t":return m.t(c.shortTime);case"T":return m.t(c.longTime);case"u":return k=m.clone().addMinutes(m.getTimezoneOffset()),k.toString(c.universalSortableDateTime);case"y":return m.t(c.yearMonth)}}return b?b.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,function(f){if("\\"===f.charAt(0)){return f.replace("\\","")}m.h=m.getHours;switch(f){case"hh":return j(13>m.h()?0===m.h()?12:m.h():m.h()-12);case"h":return 13>m.h()?0===m.h()?12:m.h():m.h()-12;case"HH":return j(m.h());case"H":return m.h();case"mm":return j(m.getMinutes());case"m":return m.getMinutes();case"ss":return j(m.getSeconds());case"s":return m.getSeconds();case"yyyy":return j(m.getFullYear(),4);case"yy":return j(m.getFullYear());case"dddd":return Date.CultureInfo.dayNames[m.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[m.getDay()];case"dd":return j(m.getDate());case"d":return m.getDate();case"MMMM":return Date.CultureInfo.monthNames[m.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[m.getMonth()];case"MM":return j(m.getMonth()+1);case"M":return m.getMonth()+1;case"t":return 12>m.h()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return 12>m.h()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return d(m.getDate());case"W":return m.getWeek();case"WW":return m.getISOWeek();case"Q":return"Q"+m.getQuarter();case"q":return String(m.getQuarter());default:return f}}).replace(/\[|\]/g,""):this._toString()}})();(function(){Date.Parsing={Exception:function(c){this.message="Parse error at '"+c.substring(0,10)+" ...'"}};var b=Date.Parsing,a=[0,31,59,90,120,151,181,212,243,273,304,334],d=[0,31,60,91,121,152,182,213,244,274,305,335];b.isLeapYear=function(c){return 0===c%4&&0!==c%100||0===c%400};b.processTimeObject=function(f){var c,g;c=new Date;g=b.isLeapYear(f.year)?d:a;f.hours=f.hours?f.hours:0;f.minutes=f.minutes?f.minutes:0;f.seconds=f.seconds?f.seconds:0;f.milliseconds=f.milliseconds?f.milliseconds:0;f.year||(f.year=c.getFullYear());if(f.month||!f.week&&!f.dayOfYear){f.month=f.month?f.month:0,f.day=f.day?f.day:1,f.dayOfYear=g[f.month]+f.day}else{for(f.dayOfYear||(f.weekDay=f.weekDay||0===f.weekDay?f.weekDay:1,c=new Date(f.year,0,4),c=0===c.getDay()?7:c.getDay(),f.dayOfYear=7*f.week+(0===f.weekDay?7:f.weekDay)-(c+3)),c=0;c<=g.length;c++){if(f.dayOfYear<g[c]||c===g.length){f.day=f.day?f.day:f.dayOfYear-g[c-1];break}else{f.month=c}}}g=new Date(f.year,f.month,f.day,f.hours,f.minutes,f.seconds,f.milliseconds);f.zone&&("Z"===f.zone.toUpperCase()||0===f.zone_hours&&0===f.zone_minutes?c=-g.getTimezoneOffset():(c=60*f.zone_hours+(f.zone_minutes?f.zone_minutes:0),"+"===f.zone_sign&&(c*=-1),c-=g.getTimezoneOffset()),g.setMinutes(g.getMinutes()+c));return g};b.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(e){e=e.match(this.regex);if(!e||!e.length){return null}var c={year:e[1]?Number(e[1]):e[1],month:e[5]?Number(e[5])-1:e[5],day:e[7]?Number(e[7]):e[7],week:e[8]?Number(e[8]):e[8],weekDay:e[9]?7===Math.abs(Number(e[9]))?0:Math.abs(Number(e[9])):e[9],dayOfYear:e[10]?Number(e[10]):e[10],hours:e[15]?Number(e[15]):e[15],minutes:e[16]?Number(e[16].replace(":","")):e[16],seconds:e[19]?Math.floor(Number(e[19].replace(":","").replace(",","."))):e[19],milliseconds:e[20]?1000*Number(e[20].replace(",",".")):e[20],zone:e[21],zone_sign:e[22],zone_hours:e[23]&&"undefined"!==typeof e[23]?Number(e[23]):e[23],zone_minutes:e[24]&&"undefined"!==typeof e[23]?Number(e[24]):e[24]};e[18]&&((e[18]=60*Number(e[18].replace(",",".")),c.minutes)?c.seconds||(c.seconds=e[18]):c.minutes=e[18]);return c.year&&(c.year||c.month||c.day||c.week||c.dayOfYear)?b.processTimeObject(c):null}};b.Numeric={isNumeric:function(c){return !isNaN(parseFloat(c))&&isFinite(c)},regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(g){var f,h={},i=Date.CultureInfo.dateElementOrder.split("");if(!this.isNumeric(g)||"+"===g[0]&&"-"===g[0]){return null}if(5>g.length){return h.year=g,b.processTimeObject(h)}g=g.match(this.regex);if(!g||!g.length){return null}for(f=0;f<i.length;f++){switch(i[f]){case"d":h.day=g[f+1];break;case"m":h.month=g[f+1]-1;break;case"y":h.year=g[f+1]}}return b.processTimeObject(h)}};b.Normalizer={parse:function(g){var f=Date.CultureInfo.regexPatterns,h=Date.i18n.__;g=g.replace(f.jan.source,"January");g=g.replace(f.feb,"February");g=g.replace(f.mar,"March");g=g.replace(f.apr,"April");g=g.replace(f.may,"May");g=g.replace(f.jun,"June");g=g.replace(f.jul,"July");g=g.replace(f.aug,"August");g=g.replace(f.sep,"September");g=g.replace(f.oct,"October");g=g.replace(f.nov,"November");g=g.replace(f.dec,"December");g=g.replace(f.tomorrow,Date.today().addDays(1).toString("d"));g=g.replace(f.yesterday,Date.today().addDays(-1).toString("d"));g=g.replace(/\bat\b/gi,"");g=g.replace(/\s{2,}/," ");g=g.replace(RegExp("(\\b\\d\\d?("+h("AM")+"|"+h("PM")+")? )("+f.tomorrow.source.slice(1)+")","i"),function(l,k,m,n,o){return Date.today().addDays(1).toString("d")+" "+k});g=g.replace(RegExp("(("+f.past.source+")\\s("+f.mon.source+"))"),Date.today().last().monday().toString("d"));g=g.replace(RegExp("(("+f.past.source+")\\s("+f.tue.source+"))"),Date.today().last().tuesday().toString("d"));g=g.replace(RegExp("(("+f.past.source+")\\s("+f.wed.source+"))"),Date.today().last().wednesday().toString("d"));g=g.replace(RegExp("(("+f.past.source+")\\s("+f.thu.source+"))"),Date.today().last().thursday().toString("d"));g=g.replace(RegExp("(("+f.past.source+")\\s("+f.fri.source+"))"),Date.today().last().friday().toString("d"));g=g.replace(RegExp("(("+f.past.source+")\\s("+f.sat.source+"))"),Date.today().last().saturday().toString("d"));g=g.replace(RegExp("(("+f.past.source+")\\s("+f.sun.source+"))"),Date.today().last().sunday().toString("d"));g=g.replace(f.amThisMorning,function(e,c){return c});g=g.replace(f.inTheMorning,"am");g=g.replace(f.thisMorning,"9am");g=g.replace(f.amThisEvening,function(e,c){return c});g=g.replace(f.inTheEvening,"pm");g=g.replace(f.thisEvening,"7pm");try{var j=g.split(/([\s\-\.\,\/\x27]+)/);3===j.length&&b.Numeric.isNumeric(j[0])&&b.Numeric.isNumeric(j[2])&&4<=j[2].length&&"d"===Date.CultureInfo.dateElementOrder[0]&&(g="1/"+j[0]+"/"+j[2])}catch(i){}return g}}})();(function(){for(var i=Date.Parsing,h=i.Operators={rtoken:function(b){return function(a){var c=a.match(b);if(c){return[c[0],a.substring(c[0].length)]}throw new i.Exception(a)}},token:function(b){return function(c){return h.rtoken(RegExp("^s*"+c+"s*"))(c)}},stoken:function(b){return h.rtoken(RegExp("^"+b))},until:function(b){return function(a){for(var g=[],k=null;a.length;){try{k=b.call(this,a)}catch(f){g.push(k[0]);a=k[1];continue}break}return[g,a]}},many:function(b){return function(a){for(var g=[],k=null;a.length;){try{k=b.call(this,a)}catch(f){break}g.push(k[0]);a=k[1]}return[g,a]}},optional:function(b){return function(a){var f=null;try{f=b.call(this,a)}catch(g){return[null,a]}return[f[0],f[1]]}},not:function(b){return function(a){try{b.call(this,a)}catch(c){return[null,a]}throw new i.Exception(a)}},ignore:function(b){return b?function(a){var c=null,c=b.call(this,a);return[null,c[1]]}:null},product:function(){for(var g=arguments[0],f=Array.prototype.slice.call(arguments,1),k=[],l=0;l<g.length;l++){k.push(h.each(g[l],f))}return k},cache:function(f){var c={},g=null;return function(b){try{g=c[b]=c[b]||f.call(this,b)}catch(a){g=c[b]=a}if(g instanceof i.Exception){throw g}return g}},any:function(){var b=arguments;return function(a){for(var g=null,k=0;k<b.length;k++){if(null!=b[k]){try{g=b[k].call(this,a)}catch(f){g=null}if(g){return g}}}throw new i.Exception(a)}},each:function(){var b=arguments;return function(a){for(var l=[],m=null,f=0;f<b.length;f++){if(null!=b[f]){try{m=b[f].call(this,a)}catch(k){throw new i.Exception(a)}l.push(m[0]);a=m[1]}}return[l,a]}},all:function(){var b=b;return b.each(b.optional(arguments))},sequence:function(f,c,g){c=c||h.rtoken(/^\s*/);g=g||null;return 1==f.length?f[0]:function(v){for(var l=null,o=null,a=[],u=0;u<f.length;u++){try{l=f[u].call(this,v)}catch(q){break}a.push(l[0]);try{o=c.call(this,l[1])}catch(k){o=null;break}v=o[1]}if(!l){throw new i.Exception(v)}if(o){throw new i.Exception(o[1])}if(g){try{l=g.call(this,l[1])}catch(b){throw new i.Exception(l[1])}}return[a,l?l[1]:v]}},between:function(g,f,k){k=k||g;var l=h.each(h.ignore(g),f,h.ignore(k));return function(b){b=l.call(this,b);return[[b[0][0],r[0][2]],b[1]]}},list:function(f,c,g){c=c||h.rtoken(/^\s*/);g=g||null;return f instanceof Array?h.each(h.product(f.slice(0,-1),h.ignore(c)),f.slice(-1),h.ignore(g)):h.each(h.many(h.each(f,h.ignore(c))),px,h.ignore(g))},set:function(f,c,g){c=c||h.rtoken(/^\s*/);g=g||null;return function(w){for(var q=null,o=q=null,l=null,b=[[],w],a=!1,A=0;A<f.length;A++){q=o=null;a=1==f.length;try{q=f[A].call(this,w)}catch(z){continue}l=[[q[0]],q[1]];if(0<q[1].length&&!a){try{o=c.call(this,q[1])}catch(y){a=!0}}else{a=!0}a||0!==o[1].length||(a=!0);if(!a){q=[];for(a=0;a<f.length;a++){A!=a&&q.push(f[a])}q=h.set(q,c).call(this,o[1]);0<q[0].length&&(l[0]=l[0].concat(q[0]),l[1]=q[1])}l[1].length<b[1].length&&(b=l);if(0===b[1].length){break}}if(0===b[0].length){return b}if(g){try{o=g.call(this,b[1])}catch(x){throw new i.Exception(b[1])}b[1]=o[1]}return b}},forward:function(f,c){return function(a){return f[c].call(this,a)}},replace:function(f,c){return function(a){a=f.call(this,a);return[c,a[1]]}},process:function(f,c){return function(a){a=f.call(this,a);return[c.call(this,a[0]),a[1]]}},min:function(f,c){return function(a){var b=c.call(this,a);if(b[0].length<f){throw new i.Exception(a)}return b}}},j=function(b){return function(){var a=null,f=[],g;1<arguments.length?a=Array.prototype.slice.call(arguments):arguments[0] instanceof Array&&(a=arguments[0]);if(a){if(g=a.shift(),0<g.length){return a.unshift(g[void 0]),f.push(b.apply(null,a)),a.shift(),f}}else{return b.apply(null,arguments)}}},e="optional not ignore cache".split(/\s/),d=0;d<e.length;d++){h[e[d]]=j(h[e[d]])}j=function(b){return function(){return arguments[0] instanceof Array?b.apply(null,arguments[0]):b.apply(null,arguments)}};e="each any all".split(/\s/);for(d=0;d<e.length;d++){h[e[d]]=j(h[e[d]])}})();(function(){var k=Date,j=function(e){for(var d=[],f=0;f<e.length;f++){e[f] instanceof Array?d=d.concat(j(e[f])):e[f]&&d.push(e[f])}return d};k.Grammar={};k.Translator={hour:function(b){return function(){this.hour=Number(b)}},minute:function(b){return function(){this.minute=Number(b)}},second:function(b){return function(){this.second=Number(b)}},secondAndMillisecond:function(b){return function(){var a=b.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(a[1]);this.millisecond=Number(a[2])}},meridian:function(b){return function(){this.meridian=b.slice(0,1).toLowerCase()}},timezone:function(b){return function(){var a=b.replace(/[^\d\+\-]/g,"");a.length?this.timezoneOffset=Number(a):this.timezone=b.toLowerCase()}},day:function(d){var c=d[0];return function(){this.day=Number(c.match(/\d+/)[0]);if(1>this.day){throw"invalid day"}}},month:function(b){return function(){this.month=3===b.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(b)/4:Number(b)-1;if(0>this.month){throw"invalid month"}}},year:function(b){return function(){var a=Number(b);this.year=2<b.length?a:a+(a+2000<Date.CultureInfo.twoDigitYearMax?2000:1900)}},rday:function(b){return function(){switch(b){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(d){d=d instanceof Array?d:[d];for(var c=0;c<d.length;c++){d[c]&&d[c].call(this)}d=new Date;!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=d.getDate());this.year||(this.year=d.getFullYear());this.month||0===this.month||(this.month=d.getMonth());this.day||(this.day=1);this.hour||(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=0);this.millisecond||(this.millisecond=0);if(this.meridian&&(this.hour||0===this.hour)){if("a"==this.meridian&&11<this.hour&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}if("p"==this.meridian&&12>this.hour&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}"p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0)}if(this.day>k.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);100>this.year&&d.setFullYear(this.year);this.timezone?d.set({timezone:this.timezone}):this.timezoneOffset&&d.set({timezoneOffset:this.timezoneOffset});return d},finish:function(g){g=g instanceof Array?j(g):[g];if(0===g.length){return null}for(var f=0;f<g.length;f++){"function"==typeof g[f]&&g[f].call(this)}g=k.today();if(!this.now||this.unit||this.operator){this.now&&(g=new Date)}else{return new Date}var f=!!(this.days&&null!==this.days||this.orient||this.operator),t,q,l;l="past"==this.orient||"subtract"==this.operator?-1:1;this.now||-1=="hour minute second".indexOf(this.unit)||g.setTimeToNow();this.month&&"week"==this.unit&&(this.value=this.month+1,delete this.month,delete this.day);!this.month&&0!==this.month||-1=="year day hour minute second".indexOf(this.unit)||(this.value||(this.value=this.month+1),this.month=null,f=!0);f||!this.weekday||this.day||this.days||(t=Date[this.weekday](),this.day=t.getDate(),this.month||(this.month=t.getMonth()),this.year=t.getFullYear());f&&this.weekday&&"month"!=this.unit&&"week"!=this.unit&&(this.unit="day",t=k.getDayNumberFromName(this.weekday)-g.getDay(),q=7,this.days=t?(t+l*q)%q:l*q);this.month&&"day"==this.unit&&this.operator&&(this.value||(this.value=this.month+1),this.month=null);null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value);this.month&&!this.day&&this.value&&(g.set({day:1*this.value}),f||(this.day=1*this.value));this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,f=!0);f&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",t=this.month-g.getMonth(),q=12,this.months=t?(t+l*q)%q:l*q,this.month=null);this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]){this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*l}else{if(null==this[this.unit+"s"]||null!=this.operator){this.value||(this.value=1),this[this.unit+"s"]=this.value*l}}if(this.meridian&&(this.hour||0===this.hour)){if("a"==this.meridian&&11<this.hour&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}if("p"==this.meridian&&12>this.hour&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}"p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0)}!this.weekday||"week"===this.unit||this.day||this.days||(t=Date[this.weekday](),this.day=t.getDate(),t.getMonth()!==g.getMonth()&&(this.month=t.getMonth()));!this.month&&0!==this.month||this.day||(this.day=1);if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if("week"==this.unit&&this.weeks&&!this.day&&!this.month){return g=Date[this.weekday?this.weekday:"today"]().addWeeks(this.weeks),this.now&&g.setTimeToNow(),g}f&&this.timezone&&this.day&&this.days&&(this.day=this.days);return f?g.add(this):g.set(this)}};var o=k.Parsing.Operators,s=k.Grammar,p=k.Translator,m;s.datePartDelimiter=o.rtoken(/^([\s\-\.\,\/\x27]+)/);s.timePartDelimiter=o.stoken(":");s.whiteSpace=o.rtoken(/^\s*/);s.generalDelimiter=o.rtoken(/^(([\s\,]|at|@|on)+)/);var h={};s.ctoken=function(g){var c=h[g];if(!c){for(var c=Date.CultureInfo.regexPatterns,t=g.split(/\s+/),q=[],l=0;l<t.length;l++){q.push(o.replace(o.rtoken(c[t[l]]),t[l]))}c=h[g]=o.any.apply(null,q)}return c};s.ctoken2=function(b){return o.rtoken(Date.CultureInfo.regexPatterns[b])};s.h=o.cache(o.process(o.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),p.hour));s.hh=o.cache(o.process(o.rtoken(/^(0[0-9]|1[0-2])/),p.hour));s.H=o.cache(o.process(o.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),p.hour));s.HH=o.cache(o.process(o.rtoken(/^([0-1][0-9]|2[0-3])/),p.hour));s.m=o.cache(o.process(o.rtoken(/^([0-5][0-9]|[0-9])/),p.minute));s.mm=o.cache(o.process(o.rtoken(/^[0-5][0-9]/),p.minute));s.s=o.cache(o.process(o.rtoken(/^([0-5][0-9]|[0-9])/),p.second));s.ss=o.cache(o.process(o.rtoken(/^[0-5][0-9]/),p.second));s["ss.s"]=o.cache(o.process(o.rtoken(/^[0-5][0-9]\.[0-9]{1,3}/),p.secondAndMillisecond));s.hms=o.cache(o.sequence([s.H,s.m,s.s],s.timePartDelimiter));s.t=o.cache(o.process(s.ctoken2("shortMeridian"),p.meridian));s.tt=o.cache(o.process(s.ctoken2("longMeridian"),p.meridian));s.z=o.cache(o.process(o.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),p.timezone));s.zz=o.cache(o.process(o.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),p.timezone));s.zzz=o.cache(o.process(s.ctoken2("timezone"),p.timezone));s.timeSuffix=o.each(o.ignore(s.whiteSpace),o.set([s.tt,s.zzz]));s.time=o.each(o.optional(o.ignore(o.stoken("T"))),s.hms,s.timeSuffix);s.d=o.cache(o.process(o.each(o.rtoken(/^([0-2]\d|3[0-1]|\d)/),o.optional(s.ctoken2("ordinalSuffix"))),p.day));s.dd=o.cache(o.process(o.each(o.rtoken(/^([0-2]\d|3[0-1])/),o.optional(s.ctoken2("ordinalSuffix"))),p.day));s.ddd=s.dddd=o.cache(o.process(s.ctoken("sun mon tue wed thu fri sat"),function(b){return function(){this.weekday=b}}));s.M=o.cache(o.process(o.rtoken(/^(1[0-2]|0\d|\d)/),p.month));s.MM=o.cache(o.process(o.rtoken(/^(1[0-2]|0\d)/),p.month));s.MMM=s.MMMM=o.cache(o.process(s.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),p.month));s.y=o.cache(o.process(o.rtoken(/^(\d\d?)/),p.year));s.yy=o.cache(o.process(o.rtoken(/^(\d\d)/),p.year));s.yyy=o.cache(o.process(o.rtoken(/^(\d\d?\d?\d?)/),p.year));s.yyyy=o.cache(o.process(o.rtoken(/^(\d\d\d\d)/),p.year));m=function(){return o.each(o.any.apply(null,arguments),o.not(s.ctoken2("timeContext")))};s.day=m(s.d,s.dd);s.month=m(s.M,s.MMM);s.year=m(s.yyyy,s.yy);s.orientation=o.process(s.ctoken("past future"),function(b){return function(){this.orient=b}});s.operator=o.process(s.ctoken("add subtract"),function(b){return function(){this.operator=b}});s.rday=o.process(s.ctoken("yesterday tomorrow today now"),p.rday);s.unit=o.process(s.ctoken("second minute hour day week month year"),function(b){return function(){this.unit=b}});s.value=o.process(o.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/),function(b){return function(){this.value=b.replace(/\D/g,"")}});s.expression=o.set([s.rday,s.operator,s.value,s.unit,s.orientation,s.ddd,s.MMM]);m=function(){return o.set(arguments,s.datePartDelimiter)};s.mdy=m(s.ddd,s.month,s.day,s.year);s.ymd=m(s.ddd,s.year,s.month,s.day);s.dmy=m(s.ddd,s.day,s.month,s.year);s.date=function(a){return(s[Date.CultureInfo.dateElementOrder]||s.mdy).call(this,a)};s.format=o.process(o.many(o.any(o.process(o.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(s[a]){return s[a]}throw k.Parsing.Exception(a)}),o.process(o.rtoken(/^[^dMyhHmstz]+/),function(b){return o.ignore(o.stoken(b))}))),function(b){return o.process(o.each.apply(null,b),p.finishExact)});var n={},i=function(a){n[a]=n[a]||s.format(a)[0];return n[a]};s.allformats=function(e){var d=[];if(e instanceof Array){for(var f=0;f<e.length;f++){d.push(i(e[f]))}}else{d.push(i(e))}return d};s.formats=function(e){if(e instanceof Array){for(var c=[],f=0;f<e.length;f++){c.push(i(e[f]))}return o.any.apply(null,c)}return i(e)};s._formats=s.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ss.sz;yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));s._start=o.process(o.set([s.date,s.time,s.expression],s.generalDelimiter,s.whiteSpace),p.finish);s.start=function(a){try{var f=s._formats.call({},a);if(0===f[1].length){return f}}catch(e){}return s._start.call({},a)};k._parse||(k._parse=k.parse);k.parse=function(l){var f,v,u=null;if(!l){return null}if(l instanceof Date){return l.clone()}4<=l.length&&"0"!==l.charAt(0)&&"+"!==l.charAt(0)&&"-"!==l.charAt(0)&&(f=k.Parsing.ISO.parse(l)||k.Parsing.Numeric.parse(l));if(f instanceof Date&&!isNaN(f.getTime())){return f}l=(f=l.match(/\b(\d+)(?:st|nd|rd|th)\b/))&&2===f.length?l.replace(f[0],f[1]):l;l=k.Parsing.Normalizer.parse(l);try{u=k.Grammar.start.call({},l.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(t){return null}f=0===u[1].length?u[0]:null;if(null!==f){return f}try{return(v=Date._parse(l))||0===v?new Date(v):null}catch(q){return null}};Date.getParseFunction=function(d){var c=Date.Grammar.allformats(d);return function(b){for(var l=null,g=0;g<c.length;g++){try{l=c[g].call({},b)}catch(f){continue}if(0===l[1].length){return l[0]}}return null}};k.parseExact=function(d,c){return k.getParseFunction(c)(d)}})();(function(){var p=Date,o=p.prototype,u=Number.prototype;o._orient=1;o._nth=null;o._is=!1;o._same=!1;o._isSecond=!1;u._dateElement="days";o.next=function(){this._move=!0;this._orient=1;return this};p.next=function(){return p.today().next()};o.last=o.prev=o.previous=function(){this._move=!0;this._orient=-1;return this};p.last=p.prev=p.previous=function(){return p.today().last()};o.is=function(){this._is=!0;return this};o.same=function(){this._same=!0;this._isSecond=!1;return this};o.today=function(){return this.same().day()};o.weekday=function(){return this._nth?j("Weekday").call(this):this._move?this.addWeekdays(this._orient):this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};o.weekend=function(){return this._is?(this._is=!1,this.is().sat()||this.is().sun()):!1};o.at=function(b){return"string"===typeof b?p.parse(this.toString("d")+" "+b):this.set(b)};u.fromNow=u.after=function(d){var c={};c[this._dateElement]=this;return(d?d.clone():new Date).add(c)};u.ago=u.before=function(d){var c={};c["s"!==this._dateElement[this._dateElement.length-1]?this._dateElement+"s":this._dateElement]=-1*this;return(d?d.clone():new Date).add(c)};var w="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),v="january february march april may june july august september october november december".split(/\s/),s="Millisecond Second Minute Hour Day Week Month Year Quarter Weekday".split(/\s/),i="Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter".split(/\s/),t="final first second third fourth fifth".split(/\s/);o.toObject=function(){for(var d={},c=0;c<s.length;c++){this["get"+i[c]]&&(d[s[c].toLowerCase()]=this["get"+i[c]]())}return d};p.fromObject=function(b){b.week=null;return Date.today().set(b)};for(var j=function(b){return function(){if(this._is){return this._is=!1,this.getDay()===b}this._move&&(this._move=null);if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient);this._isSecond=!1;var a=this._nth;this._nth=null;var d=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(b,a);if(this>d){throw new RangeError(p.getDayName(b)+" does not occur "+a+" times in the month of "+p.getMonthName(d.getMonth())+" "+d.getFullYear()+".")}return this}return this.moveToDayOfWeek(b,this._orient)}},n=function(b){return function(){var a=p.today(),d=b-a.getDay();0===b&&1===Date.CultureInfo.firstDayOfWeek&&0!==a.getDay()&&(d+=7);return a.addDays(d)}},m=0;m<w.length;m++){p[w[m].toUpperCase()]=p[w[m].toUpperCase().substring(0,3)]=m,p[w[m]]=p[w[m].substring(0,3)]=n(m),o[w[m]]=o[w[m].substring(0,3)]=j(m)}w=function(b){return function(){return this._is?(this._is=!1,this.getMonth()===b):this.moveToMonth(b,this._orient)}};n=function(b){return function(){return p.today().set({month:b,day:1})}};for(m=0;m<v.length;m++){p[v[m].toUpperCase()]=p[v[m].toUpperCase().substring(0,3)]=m,p[v[m]]=p[v[m].substring(0,3)]=n(m),o[v[m]]=o[v[m].substring(0,3)]=w(m)}w=function(b){return function(a){if(this._isSecond){return this._isSecond=!1,this}if(this._same){this._same=this._is=!1;var l=this.toObject();a=(a||new Date).toObject();for(var k="",h=b.toLowerCase(),h="s"===h[h.length-1]?h.substring(0,h.length-1):h,e=s.length-1;-1<e;e--){k=s[e].toLowerCase();if(l[k]!==a[k]){return !1}if(h===k){break}}return !0}"s"!==b.substring(b.length-1)&&(b+="s");this._move&&(this._move=null);return this["add"+b](this._orient)}};n=function(b){return function(){this._dateElement=b;return this}};for(m=0;m<s.length;m++){v=s[m].toLowerCase(),"weekday"!==v&&(o[v]=o[v+"s"]=w(s[m]),u[v]=u[v+"s"]=n(v+"s"))}o._ss=w("Second");u=function(b){return function(a){if(this._same){return this._ss(a)}if(a||0===a){return this.moveToNthOccurrence(a,b)}this._nth=b;return 2!==b||void 0!==a&&null!==a?this:(this._isSecond=!0,this.addSeconds(this._orient))}};for(v=0;v<t.length;v++){o[t[v]]=0===v?u(-1):u(v)}})();(function(){var e=Date,d=e.prototype,h=[],b=function(f,g){g||(g=2);return("000"+f).slice(-1*g)};e.normalizeFormat=function(c){return c};e.strftime=function(f,g){return(new Date(1000*g)).$format(f)};e.strtotime=function(c){c=e.parse(c);c.addMinutes(-1*c.getTimezoneOffset());return Math.round(e.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds())/1000)};d.$format=function(a){var f=this,c,i=function(j,g){h.push(j);return f.toString(j,g)};return a?a.replace(/(%|\\)?.|%%/g,function(g){if("\\"===g.charAt(0)||"%%"===g.substring(0,2)){return g.replace("\\","").replace("%%","%")}switch(g){case"d":case"%d":return i("dd");case"D":case"%a":return i("ddd");case"j":case"%e":return i("d",!0);case"l":case"%A":return i("dddd");case"N":case"%u":return f.getDay()+1;case"S":return i("S");case"w":case"%w":return f.getDay();case"z":return f.getOrdinalNumber();case"%j":return b(f.getOrdinalNumber(),3);case"%U":g=f.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0);var j=f.clone().addDays(1).moveToDayOfWeek(0,-1);return j<g?"00":b((j.getOrdinalNumber()-g.getOrdinalNumber())/7+1);case"W":case"%V":return f.getISOWeek();case"%W":return b(f.getWeek());case"F":case"%B":return i("MMMM");case"m":case"%m":return i("MM");case"M":case"%b":case"%h":return i("MMM");case"n":return i("M");case"t":return e.getDaysInMonth(f.getFullYear(),f.getMonth());case"L":return e.isLeapYear(f.getFullYear())?1:0;case"o":case"%G":return f.setWeek(f.getISOWeek()).toString("yyyy");case"%g":return f.$format("%G").slice(-2);case"Y":case"%Y":return i("yyyy");case"y":case"%y":return i("yy");case"a":case"%p":return i("tt").toLowerCase();case"A":return i("tt").toUpperCase();case"g":case"%I":return i("h");case"G":return i("H");case"h":return i("hh");case"H":case"%H":return i("HH");case"i":case"%M":return i("mm");case"s":case"%S":return i("ss");case"u":return b(f.getMilliseconds(),3);case"I":return f.isDaylightSavingTime()?1:0;case"O":return f.getUTCOffset();case"P":return c=f.getUTCOffset(),c.substring(0,c.length-2)+":"+c.substring(c.length-2);case"e":case"T":case"%z":case"%Z":return f.getTimezone();case"Z":return -60*f.getTimezoneOffset();case"B":return g=new Date,Math.floor((3600*g.getHours()+60*g.getMinutes()+g.getSeconds()+60*(g.getTimezoneOffset()+60))/86.4);case"c":return f.toISOString().replace(/\"/g,"");case"U":return e.strtotime("now");case"%c":return i("d")+" "+i("t");case"%C":return Math.floor(f.getFullYear()/100+1);case"%D":return i("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return i("hh:mm tt");case"%R":return i("H:mm");case"%T":return i("H:mm:ss");case"%x":return i("d");case"%X":return i("t");default:return h.push(g),g}}):this._toString()};d.format||(d.format=d.$format)})();var TimeSpan=function(p,o,u,w,v){for(var s="days hours minutes seconds milliseconds".split(/\s+/),i=function(b){return function(){return this[b]}},t=function(b){return function(a){this[b]=a;return this}},j=0;j<s.length;j++){var n=s[j],m=n.slice(0,1).toUpperCase()+n.slice(1);TimeSpan.prototype[n]=0;TimeSpan.prototype["get"+m]=i(n);TimeSpan.prototype["set"+m]=t(n)}4===arguments.length?(this.setDays(p),this.setHours(o),this.setMinutes(u),this.setSeconds(w)):5===arguments.length?(this.setDays(p),this.setHours(o),this.setMinutes(u),this.setSeconds(w),this.setMilliseconds(v)):1===arguments.length&&"number"===typeof p&&(s=0>p?-1:1,this.setMilliseconds(Math.abs(p)),this.setDays(Math.floor(this.getMilliseconds()/86400000)*s),this.setMilliseconds(this.getMilliseconds()%86400000),this.setHours(Math.floor(this.getMilliseconds()/3600000)*s),this.setMilliseconds(this.getMilliseconds()%3600000),this.setMinutes(Math.floor(this.getMilliseconds()/60000)*s),this.setMilliseconds(this.getMilliseconds()%60000),this.setSeconds(Math.floor(this.getMilliseconds()/1000)*s),this.setMilliseconds(this.getMilliseconds()%1000),this.setMilliseconds(this.getMilliseconds()*s));this.getTotalMilliseconds=function(){return 86400000*this.getDays()+3600000*this.getHours()+60000*this.getMinutes()+1000*this.getSeconds()};this.compareTo=function(d){var c=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds());d=null===d?new Date(1970,1,1,0,0,0):new Date(1970,1,1,d.getHours(),d.getMinutes(),d.getSeconds());return c<d?-1:c>d?1:0};this.equals=function(b){return 0===this.compareTo(b)};this.add=function(b){return null===b?this:this.addSeconds(b.getTotalMilliseconds()/1000)};this.subtract=function(b){return null===b?this:this.addSeconds(-b.getTotalMilliseconds()/1000)};this.addDays=function(b){return new TimeSpan(this.getTotalMilliseconds()+86400000*b)};this.addHours=function(b){return new TimeSpan(this.getTotalMilliseconds()+3600000*b)};this.addMinutes=function(b){return new TimeSpan(this.getTotalMilliseconds()+60000*b)};this.addSeconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+1000*b)};this.addMilliseconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+b)};this.get12HourHour=function(){return 12<this.getHours()?this.getHours()-12:0===this.getHours()?12:this.getHours()};this.getDesignator=function(){return 12>this.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(d){this._toString=function(){return null!==this.getDays()&&0<this.getDays()?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())};this.p=function(b){return 2>b.toString().length?"0"+b:b};var c=this;return d?d.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(b){switch(b){case"d":return c.getDays();case"dd":return c.p(c.getDays());case"H":return c.getHours();case"HH":return c.p(c.getHours());case"h":return c.get12HourHour();case"hh":return c.p(c.get12HourHour());case"m":return c.getMinutes();case"mm":return c.p(c.getMinutes());case"s":return c.getSeconds();case"ss":return c.p(c.getSeconds());case"t":return(12>c.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return 12>c.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(v,u,y,A,z,w,i){for(var x="years months days hours minutes seconds milliseconds".split(/\s+/),p=function(b){return function(){return this[b]}},t=function(b){return function(a){this[b]=a;return this}},s=0;s<x.length;s++){var o=x[s],j=o.slice(0,1).toUpperCase()+o.slice(1);TimePeriod.prototype[o]=0;TimePeriod.prototype["get"+j]=p(o);TimePeriod.prototype["set"+j]=t(o)}if(7===arguments.length){this.years=v,this.months=u,this.setDays(y),this.setHours(A),this.setMinutes(z),this.setSeconds(w),this.setMilliseconds(i)}else{if(2===arguments.length&&arguments[0] instanceof Date&&arguments[1] instanceof Date){x=v.clone();p=u.clone();t=x.clone();s=x>p?-1:1;this.years=p.getFullYear()-x.getFullYear();t.addYears(this.years);1===s?t>p&&0!==this.years&&this.years--:t<p&&0!==this.years&&this.years++;x.addYears(this.years);if(1===s){for(;x<p&&x.clone().addMonths(1)<=p;){x.addMonths(1),this.months++}}else{for(;x>p&&x.clone().addDays(-x.getDaysInMonth())>p;){x.addMonths(-1),this.months--}}x=p-x;0!==x&&(x=new TimeSpan(x),this.setDays(x.getDays()),this.setHours(x.getHours()),this.setMinutes(x.getMinutes()),this.setSeconds(x.getSeconds()),this.setMilliseconds(x.getMilliseconds()))}}return this};