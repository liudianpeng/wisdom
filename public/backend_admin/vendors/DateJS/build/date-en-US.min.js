Date.CultureStrings=Date.CultureStrings||{};Date.CultureStrings["en-US"]={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Su:"Su",Mo:"Mo",Tu:"Tu",We:"We",Th:"Th",Fr:"Fr",Sa:"Sa",S_Sun_Initial:"S",M_Mon_Initial:"M",T_Tue_Initial:"T",W_Wed_Initial:"W",T_Thu_Initial:"T",F_Fri_Initial:"F",S_Sat_Initial:"S",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Jan_Abbr:"Jan",Feb_Abbr:"Feb",Mar_Abbr:"Mar",Apr_Abbr:"Apr",May_Abbr:"May",Jun_Abbr:"Jun",Jul_Abbr:"Jul",Aug_Abbr:"Aug",Sep_Abbr:"Sep",Oct_Abbr:"Oct",Nov_Abbr:"Nov",Dec_Abbr:"Dec",AM:"AM",PM:"PM",firstDayOfWeek:0,twoDigitYearMax:2049,mdy:"mdy","M/d/yyyy":"M/d/yyyy","dddd, MMMM dd, yyyy":"dddd, MMMM dd, yyyy","h:mm tt":"h:mm tt","h:mm:ss tt":"h:mm:ss tt","dddd, MMMM dd, yyyy h:mm:ss tt":"dddd, MMMM dd, yyyy h:mm:ss tt","yyyy-MM-ddTHH:mm:ss":"yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ssZ":"yyyy-MM-dd HH:mm:ssZ","ddd, dd MMM yyyy HH:mm:ss":"ddd, dd MMM yyyy HH:mm:ss","MMMM dd":"MMMM dd","MMMM, yyyy":"MMMM, yyyy","/jan(uary)?/":"jan(uary)?","/feb(ruary)?/":"feb(ruary)?","/mar(ch)?/":"mar(ch)?","/apr(il)?/":"apr(il)?","/may/":"may","/jun(e)?/":"jun(e)?","/jul(y)?/":"jul(y)?","/aug(ust)?/":"aug(ust)?","/sep(t(ember)?)?/":"sep(t(ember)?)?","/oct(ober)?/":"oct(ober)?","/nov(ember)?/":"nov(ember)?","/dec(ember)?/":"dec(ember)?","/^su(n(day)?)?/":"^su(n(day)?)?","/^mo(n(day)?)?/":"^mo(n(day)?)?","/^tu(e(s(day)?)?)?/":"^tu(e(s(day)?)?)?","/^we(d(nesday)?)?/":"^we(d(nesday)?)?","/^th(u(r(s(day)?)?)?)?/":"^th(u(r(s(day)?)?)?)?","/^fr(i(day)?)?/":"^fr(i(day)?)?","/^sa(t(urday)?)?/":"^sa(t(urday)?)?","/^next/":"^next","/^last|past|prev(ious)?/":"^last|past|prev(ious)?","/^(\\+|aft(er)?|from|hence)/":"^(\\+|aft(er)?|from|hence)","/^(\\-|bef(ore)?|ago)/":"^(\\-|bef(ore)?|ago)","/^yes(terday)?/":"^yes(terday)?","/^t(od(ay)?)?/":"^t(od(ay)?)?","/^tom(orrow)?/":"^tom(orrow)?","/^n(ow)?/":"^n(ow)?","/^ms|milli(second)?s?/":"^ms|milli(second)?s?","/^sec(ond)?s?/":"^sec(ond)?s?","/^mn|min(ute)?s?/":"^mn|min(ute)?s?","/^h(our)?s?/":"^h(our)?s?","/^w(eek)?s?/":"^w(eek)?s?","/^m(onth)?s?/":"^m(onth)?s?","/^d(ay)?s?/":"^d(ay)?s?","/^y(ear)?s?/":"^y(ear)?s?","/^(a|p)/":"^(a|p)","/^(a\\.?m?\\.?|p\\.?m?\\.?)/":"^(a\\.?m?\\.?|p\\.?m?\\.?)","/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/":"^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)","/^\\s*(st|nd|rd|th)/":"^\\s*(st|nd|rd|th)","/^\\s*(\\:|a(?!u|p)|p)/":"^\\s*(\\:|a(?!u|p)|p)",LINT:"LINT",TOT:"TOT",CHAST:"CHAST",NZST:"NZST",NFT:"NFT",SBT:"SBT",AEST:"AEST",ACST:"ACST",JST:"JST",CWST:"CWST",CT:"CT",ICT:"ICT",MMT:"MMT",BIOT:"BST",NPT:"NPT",IST:"IST",PKT:"PKT",AFT:"AFT",MSK:"MSK",IRST:"IRST",FET:"FET",EET:"EET",CET:"CET",UTC:"UTC",GMT:"GMT",CVT:"CVT",GST:"GST",BRT:"BRT",NST:"NST",AST:"AST",EST:"EST",CST:"CST",MST:"MST",PST:"PST",AKST:"AKST",MIT:"MIT",HST:"HST",SST:"SST",BIT:"BIT",CHADT:"CHADT",NZDT:"NZDT",AEDT:"AEDT",ACDT:"ACDT",AZST:"AZST",IRDT:"IRDT",EEST:"EEST",CEST:"CEST",BST:"BST",PMDT:"PMDT",ADT:"ADT",NDT:"NDT",EDT:"EDT",CDT:"CDT",MDT:"MDT",PDT:"PDT",AKDT:"AKDT",HADT:"HADT"};Date.CultureStrings.lang="en-US";(function(){var a=Date;var e=Date.CultureStrings?Date.CultureStrings.lang:null;var f={};var c=function(j,m){var h,i,l,k;var g=(m)?m:e;if(Date.CultureStrings&&Date.CultureStrings[g]&&Date.CultureStrings[g][j]){h=Date.CultureStrings[g][j]}else{switch(j){case"name":h="en-US";break;case"englishName":h="English (United States)";break;case"nativeName":h="English (United States)";break;case"twoDigitYearMax":h=2049;break;case"firstDayOfWeek":h=0;break;default:h=j;i=j.split("_");l=i.length;if(l>1&&j.charAt(0)!=="/"){k=i[(l-1)].toLowerCase();if(k==="initial"||k==="abbr"){h=i[0]}}}}if(j.charAt(0)==="/"){if(Date.CultureStrings&&Date.CultureStrings[g]&&Date.CultureStrings[g][j]){h=new RegExp(Date.CultureStrings[g][j],"i")}else{h=new RegExp(j.replace(new RegExp("/","g"),""),"i")}}f[j]=j;return h};var b=function(l){var h=Date.Config.i18n+l+".js";var j=document.getElementsByTagName("head")[0]||document.documentElement;var g=document.createElement("script");g.src=h;var k=false;var i={done:function(){}};g.onload=g.onreadystatechange=function(){if(!k&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;i.done();j.removeChild(g)}};setTimeout(function(){j.insertBefore(g,j.firstChild)},0);return{done:function(m){i.done=function(){if(m){m()}}}}};var d=function(){var g=function(j){var i;for(i in j.abbreviatedTimeZoneStandard){if(j.abbreviatedTimeZoneStandard.hasOwnProperty(i)){j.timezones.push({name:i,offset:j.abbreviatedTimeZoneStandard[i]})}}for(i in j.abbreviatedTimeZoneDST){if(j.abbreviatedTimeZoneDST.hasOwnProperty(i)){j.timezones.push({name:i,offset:j.abbreviatedTimeZoneDST[i],dst:true})}}return j.timezones};var h={name:c("name"),englishName:c("englishName"),nativeName:c("nativeName"),dayNames:[c("Sunday"),c("Monday"),c("Tuesday"),c("Wednesday"),c("Thursday"),c("Friday"),c("Saturday")],abbreviatedDayNames:[c("Sun"),c("Mon"),c("Tue"),c("Wed"),c("Thu"),c("Fri"),c("Sat")],shortestDayNames:[c("Su"),c("Mo"),c("Tu"),c("We"),c("Th"),c("Fr"),c("Sa")],firstLetterDayNames:[c("S_Sun_Initial"),c("M_Mon_Initial"),c("T_Tues_Initial"),c("W_Wed_Initial"),c("T_Thu_Initial"),c("F_Fri_Initial"),c("S_Sat_Initial")],monthNames:[c("January"),c("February"),c("March"),c("April"),c("May"),c("June"),c("July"),c("August"),c("September"),c("October"),c("November"),c("December")],abbreviatedMonthNames:[c("Jan_Abbr"),c("Feb_Abbr"),c("Mar_Abbr"),c("Apr_Abbr"),c("May_Abbr"),c("Jun_Abbr"),c("Jul_Abbr"),c("Aug_Abbr"),c("Sep_Abbr"),c("Oct_Abbr"),c("Nov_Abbr"),c("Dec_Abbr")],amDesignator:c("AM"),pmDesignator:c("PM"),firstDayOfWeek:c("firstDayOfWeek"),twoDigitYearMax:c("twoDigitYearMax"),dateElementOrder:c("mdy"),formatPatterns:{shortDate:c("M/d/yyyy"),longDate:c("dddd, MMMM dd, yyyy"),shortTime:c("h:mm tt"),longTime:c("h:mm:ss tt"),fullDateTime:c("dddd, MMMM dd, yyyy h:mm:ss tt"),sortableDateTime:c("yyyy-MM-ddTHH:mm:ss"),universalSortableDateTime:c("yyyy-MM-dd HH:mm:ssZ"),rfc1123:c("ddd, dd MMM yyyy HH:mm:ss"),monthDay:c("MMMM dd"),yearMonth:c("MMMM, yyyy")},regexPatterns:{inTheMorning:c("/( in the )(morn(ing)?)\\b/"),thisMorning:c("/(this )(morn(ing)?)\\b/"),amThisMorning:c("/(\b\\d(am)? )(this )(morn(ing)?)/"),inTheEvening:c("/( in the )(even(ing)?)\\b/"),thisEvening:c("/(this )(even(ing)?)\\b/"),pmThisEvening:c("/(\b\\d(pm)? )(this )(even(ing)?)/"),jan:c("/jan(uary)?/"),feb:c("/feb(ruary)?/"),mar:c("/mar(ch)?/"),apr:c("/apr(il)?/"),may:c("/may/"),jun:c("/jun(e)?/"),jul:c("/jul(y)?/"),aug:c("/aug(ust)?/"),sep:c("/sep(t(ember)?)?/"),oct:c("/oct(ober)?/"),nov:c("/nov(ember)?/"),dec:c("/dec(ember)?/"),sun:c("/^su(n(day)?)?/"),mon:c("/^mo(n(day)?)?/"),tue:c("/^tu(e(s(day)?)?)?/"),wed:c("/^we(d(nesday)?)?/"),thu:c("/^th(u(r(s(day)?)?)?)?/"),fri:c("/fr(i(day)?)?/"),sat:c("/^sa(t(urday)?)?/"),future:c("/^next/"),past:c("/last|past|prev(ious)?/"),add:c("/^(\\+|aft(er)?|from|hence)/"),subtract:c("/^(\\-|bef(ore)?|ago)/"),yesterday:c("/^yes(terday)?/"),today:c("/^t(od(ay)?)?/"),tomorrow:c("/^tom(orrow)?/"),now:c("/^n(ow)?/"),millisecond:c("/^ms|milli(second)?s?/"),second:c("/^sec(ond)?s?/"),minute:c("/^mn|min(ute)?s?/"),hour:c("/^h(our)?s?/"),week:c("/^w(eek)?s?/"),month:c("/^m(onth)?s?/"),day:c("/^d(ay)?s?/"),year:c("/^y(ear)?s?/"),shortMeridian:c("/^(a|p)/"),longMeridian:c("/^(a\\.?m?\\.?|p\\.?m?\\.?)/"),timezone:c("/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/"),ordinalSuffix:c("/^\\s*(st|nd|rd|th)/"),timeContext:c("/^\\s*(\\:|a(?!u|p)|p)/")},timezones:[],abbreviatedTimeZoneDST:{},abbreviatedTimeZoneStandard:{}};h.abbreviatedTimeZoneDST[c("CHADT")]="+1345";h.abbreviatedTimeZoneDST[c("NZDT")]="+1300";h.abbreviatedTimeZoneDST[c("AEDT")]="+1100";h.abbreviatedTimeZoneDST[c("ACDT")]="+1030";h.abbreviatedTimeZoneDST[c("AZST")]="+0500";h.abbreviatedTimeZoneDST[c("IRDT")]="+0430";h.abbreviatedTimeZoneDST[c("EEST")]="+0300";h.abbreviatedTimeZoneDST[c("CEST")]="+0200";h.abbreviatedTimeZoneDST[c("BST")]="+0100";h.abbreviatedTimeZoneDST[c("PMDT")]="-0200";h.abbreviatedTimeZoneDST[c("ADT")]="-0300";h.abbreviatedTimeZoneDST[c("NDT")]="-0230";h.abbreviatedTimeZoneDST[c("EDT")]="-0400";h.abbreviatedTimeZoneDST[c("CDT")]="-0500";h.abbreviatedTimeZoneDST[c("MDT")]="-0600";h.abbreviatedTimeZoneDST[c("PDT")]="-0700";h.abbreviatedTimeZoneDST[c("AKDT")]="-0800";h.abbreviatedTimeZoneDST[c("HADT")]="-0900";h.abbreviatedTimeZoneStandard[c("LINT")]="+1400";h.abbreviatedTimeZoneStandard[c("TOT")]="+1300";h.abbreviatedTimeZoneStandard[c("CHAST")]="+1245";h.abbreviatedTimeZoneStandard[c("NZST")]="+1200";h.abbreviatedTimeZoneStandard[c("NFT")]="+1130";h.abbreviatedTimeZoneStandard[c("SBT")]="+1100";h.abbreviatedTimeZoneStandard[c("AEST")]="+1000";h.abbreviatedTimeZoneStandard[c("ACST")]="+0930";h.abbreviatedTimeZoneStandard[c("JST")]="+0900";h.abbreviatedTimeZoneStandard[c("CWST")]="+0845";h.abbreviatedTimeZoneStandard[c("CT")]="+0800";h.abbreviatedTimeZoneStandard[c("ICT")]="+0700";h.abbreviatedTimeZoneStandard[c("MMT")]="+0630";h.abbreviatedTimeZoneStandard[c("BST")]="+0600";h.abbreviatedTimeZoneStandard[c("NPT")]="+0545";h.abbreviatedTimeZoneStandard[c("IST")]="+0530";h.abbreviatedTimeZoneStandard[c("PKT")]="+0500";h.abbreviatedTimeZoneStandard[c("AFT")]="+0430";h.abbreviatedTimeZoneStandard[c("MSK")]="+0400";h.abbreviatedTimeZoneStandard[c("IRST")]="+0330";h.abbreviatedTimeZoneStandard[c("FET")]="+0300";h.abbreviatedTimeZoneStandard[c("EET")]="+0200";h.abbreviatedTimeZoneStandard[c("CET")]="+0100";h.abbreviatedTimeZoneStandard[c("GMT")]="+0000";h.abbreviatedTimeZoneStandard[c("UTC")]="+0000";h.abbreviatedTimeZoneStandard[c("CVT")]="-0100";h.abbreviatedTimeZoneStandard[c("GST")]="-0200";h.abbreviatedTimeZoneStandard[c("BRT")]="-0300";h.abbreviatedTimeZoneStandard[c("NST")]="-0330";h.abbreviatedTimeZoneStandard[c("AST")]="-0400";h.abbreviatedTimeZoneStandard[c("EST")]="-0500";h.abbreviatedTimeZoneStandard[c("CST")]="-0600";h.abbreviatedTimeZoneStandard[c("MST")]="-0700";h.abbreviatedTimeZoneStandard[c("PST")]="-0800";h.abbreviatedTimeZoneStandard[c("AKST")]="-0900";h.abbreviatedTimeZoneStandard[c("MIT")]="-0930";h.abbreviatedTimeZoneStandard[c("HST")]="-1000";h.abbreviatedTimeZoneStandard[c("SST")]="-1100";h.abbreviatedTimeZoneStandard[c("BIT")]="-1200";g(h);return h};a.i18n={__:function(g,h){return c(g,h)},currentLanguage:function(){return e||"en-US"},setLanguage:function(g,h){if(h||g==="en-US"||(!!Date.CultureStrings&&!!Date.CultureStrings[g])){e=g;Date.CultureStrings.lang=g;Date.CultureInfo=d()}else{if(!(!!Date.CultureStrings&&!!Date.CultureStrings[g])){if(typeof exports!=="undefined"&&this.exports!==exports){try{require("../i18n/"+g+".js");e=g;Date.CultureStrings.lang=g;Date.CultureInfo=d()}catch(i){throw new Error("The DateJS IETF language tag '"+g+"' could not be loaded by Node. It likely does not exist.")}}else{if(Date.Config&&Date.Config.i18n){b(g).done(function(){e=g;Date.CultureStrings.lang=g;Date.CultureInfo=d()})}else{Date.console.error("The DateJS IETF language tag '"+g+"' is not available and has not been loaded.")}}}}},getLoggedKeys:function(){return f},updateCultureInfo:function(){Date.CultureInfo=d()}};a.i18n.updateCultureInfo()}());(function(){var c=Date,b=c.prototype,d=function(g,f){if(!f){f=2}return("000"+g).slice(f*-1)};if(typeof window!=="undefined"&&typeof window.console!=="undefined"&&typeof window.console.log!=="undefined"){c.console=console}else{c.console={log:function(){},error:function(){}}}c.Config={};c.initOverloads=function(){if(!c.now){c._now=function f(){return new Date().getTime()}}else{if(!c._now){c._now=c.now}}c.now=function(g){if(g){return c.present()}else{return c._now()}};if(!b.toISOString){b.toISOString=function(){return this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"}}if(b._toString===undefined){b._toString=b.toString}};c.initOverloads();b.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};b.setTimeToNow=function(){var f=new Date();this.setHours(f.getHours());this.setMinutes(f.getMinutes());this.setSeconds(f.getSeconds());this.setMilliseconds(f.getMilliseconds());return this};c.today=function(){return new Date().clearTime()};c.present=function(){return new Date()};c.compare=function(g,f){if(isNaN(g)||isNaN(f)){throw new Error(g+" - "+f)}else{if(g instanceof Date&&f instanceof Date){return(g<f)?-1:(g>f)?1:0}else{throw new TypeError(g+" - "+f)}}};c.equals=function(g,f){return(g.compareTo(f)===0)};c.getDayName=function(f){return Date.CultureInfo.dayNames[f]};c.getDayNumberFromName=function(g){var l=Date.CultureInfo.dayNames,f=Date.CultureInfo.abbreviatedDayNames,k=Date.CultureInfo.shortestDayNames,j=g.toLowerCase();for(var h=0;h<l.length;h++){if(l[h].toLowerCase()===j||f[h].toLowerCase()===j||k[h].toLowerCase()===j){return h}}return -1};c.getMonthNumberFromName=function(g){var k=Date.CultureInfo.monthNames,f=Date.CultureInfo.abbreviatedMonthNames,j=g.toLowerCase();for(var h=0;h<k.length;h++){if(k[h].toLowerCase()===j||f[h].toLowerCase()===j){return h}}return -1};c.getMonthName=function(f){return Date.CultureInfo.monthNames[f]};c.isLeapYear=function(f){return((f%4===0&&f%100!==0)||f%400===0)};c.getDaysInMonth=function(f,g){if(!g&&c.validateMonth(f)){g=f;f=Date.today().getFullYear()}return[31,(c.isLeapYear(f)?29:28),31,30,31,30,31,31,30,31,30,31][g]};c.getTimezoneAbbreviation=function(g,i){var f,h=(i||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(f in h){if(h.hasOwnProperty(f)){if(h[f]===g){return f}}}return null};c.getTimezoneOffset=function(g,k){var h,f=[],j=Date.CultureInfo.timezones;if(!g){g=(new Date()).getTimezone()}for(h=0;h<j.length;h++){if(j[h].name===g.toUpperCase()){f.push(h)}}if(!j[f[0]]){return null}if(f.length===1||!k){return j[f[0]].offset}else{for(h=0;h<f.length;h++){if(j[f[h]].dst){return j[f[h]].offset}}}};c.getQuarter=function(g){g=g||new Date();var f=[1,2,3,4];return f[Math.floor(g.getMonth()/3)]};c.getDaysLeftInQuarter=function(f){f=f||new Date();var g=new Date(f);g.setMonth(g.getMonth()+3-g.getMonth()%3,0);return Math.floor((g-f)/86400000)};b.clone=function(){return new Date(this.getTime())};b.compareTo=function(f){return Date.compare(this,f)};b.equals=function(f){return Date.equals(this,(f!==undefined?f:new Date()))};b.between=function(g,f){return this.getTime()>=g.getTime()&&this.getTime()<=f.getTime()};b.isAfter=function(f){return this.compareTo(f||new Date())===1};b.isBefore=function(f){return(this.compareTo(f||new Date())===-1)};b.isToday=b.isSameDay=function(f){return this.clone().clearTime().equals((f||new Date()).clone().clearTime())};b.addMilliseconds=function(f){if(!f){return this}this.setTime(this.getTime()+f*1);return this};b.addSeconds=function(f){if(!f){return this}return this.addMilliseconds(f*1000)};b.addMinutes=function(f){if(!f){return this}return this.addMilliseconds(f*60000)};b.addHours=function(f){if(!f){return this}return this.addMilliseconds(f*3600000)};b.addDays=function(f){if(!f){return this}this.setDate(this.getDate()+f*1);return this};b.addWeekdays=function(h){if(!h){return this}var f=this.getDay();var g=(Math.ceil(Math.abs(h)/7));if(f===0||f===6){if(h>0){this.next().monday();this.addDays(-1)}}if(h<0){while(h<0){this.addDays(-1);f=this.getDay();if(f!==0&&f!==6){h++}}return this}else{if(h>5||(6-f)<=h){h=h+(g*2)}}return this.addDays(h)};b.addWeeks=function(f){if(!f){return this}return this.addDays(f*7)};b.addMonths=function(f){if(!f){return this}var g=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+f*1);this.setDate(Math.min(g,c.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};b.addQuarters=function(f){if(!f){return this}return this.addMonths(f*3)};b.addYears=function(f){if(!f){return this}return this.addMonths(f*12)};b.add=function(g){if(typeof g==="number"){this._orient=g;return this}var f=g;if(f.day){if((f.day-this.getDate())!==0){this.setDate(f.day)}}if(f.milliseconds){this.addMilliseconds(f.milliseconds)}if(f.seconds){this.addSeconds(f.seconds)}if(f.minutes){this.addMinutes(f.minutes)}if(f.hours){this.addHours(f.hours)}if(f.weeks){this.addWeeks(f.weeks)}if(f.months){this.addMonths(f.months)}if(f.years){this.addYears(f.years)}if(f.days){this.addDays(f.days)}return this};b.getWeek=function(g){var f,h=new Date(this.valueOf());if(g){h.addMinutes(h.getTimezoneOffset());f=h.clone()}else{f=this}var i=(f.getDay()+6)%7;h.setDate(h.getDate()-i+3);var j=h.valueOf();h.setMonth(0,1);if(h.getDay()!==4){h.setMonth(0,1+((4-h.getDay())+7)%7)}return 1+Math.ceil((j-h)/604800000)};b.getISOWeek=function(){return d(this.getWeek(true))};b.setWeek=function(f){if((f-this.getWeek())===0){if(this.getDay()!==1){return this.moveToDayOfWeek(1,(this.getDay()>1?-1:1))}else{return this}}else{return this.moveToDayOfWeek(1,(this.getDay()>1?-1:1)).addWeeks(f-this.getWeek())}};b.setQuarter=function(f){var g=Math.abs(((f-1)*3)+1);return this.setMonth(g,1)};b.getQuarter=function(){return Date.getQuarter(this)};b.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};var e=function(i,h,f,g){g=g?g:"Object";if(typeof i==="undefined"){return false}else{if(typeof i!=="number"){throw new TypeError(i+" is not a Number.")}else{if(i<h||i>f){return false}}}return true};c.validateMillisecond=function(f){return e(f,0,999,"millisecond")};c.validateSecond=function(f){return e(f,0,59,"second")};c.validateMinute=function(f){return e(f,0,59,"minute")};c.validateHour=function(f){return e(f,0,23,"hour")};c.validateDay=function(g,f,h){return e(g,1,c.getDaysInMonth(f,h),"day")};c.validateWeek=function(f){return e(f,0,53,"week")};c.validateMonth=function(f){return e(f,0,11,"month")};c.validateYear=function(f){return e(f,-271822,275760,"year")};b.set=function(f){if(c.validateMillisecond(f.millisecond)){this.addMilliseconds(f.millisecond-this.getMilliseconds())}if(c.validateSecond(f.second)){this.addSeconds(f.second-this.getSeconds())}if(c.validateMinute(f.minute)){this.addMinutes(f.minute-this.getMinutes())}if(c.validateHour(f.hour)){this.addHours(f.hour-this.getHours())}if(c.validateMonth(f.month)){this.addMonths(f.month-this.getMonth())}if(c.validateYear(f.year)){this.addYears(f.year-this.getFullYear())}if(c.validateDay(f.day,this.getFullYear(),this.getMonth())){this.addDays(f.day-this.getDate())}if(f.timezone){this.setTimezone(f.timezone)}if(f.timezoneOffset){this.setTimezoneOffset(f.timezoneOffset)}if(f.week&&c.validateWeek(f.week)){this.setWeek(f.week)}return this};b.moveToFirstDayOfMonth=function(){return this.set({day:1})};b.moveToLastDayOfMonth=function(){return this.set({day:c.getDaysInMonth(this.getFullYear(),this.getMonth())})};b.moveToNthOccurrence=function(g,h){if(g==="Weekday"){if(h>0){this.moveToFirstDayOfMonth();if(this.is().weekday()){h-=1}}else{if(h<0){this.moveToLastDayOfMonth();if(this.is().weekday()){h+=1}}else{return this}}return this.addWeekdays(h)}var f=0;if(h>0){f=h-1}else{if(h===-1){this.moveToLastDayOfMonth();if(this.getDay()!==g){this.moveToDayOfWeek(g,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(g,+1).addWeeks(f)};b.moveToDayOfWeek=function(f,g){var h=(f-this.getDay()+7*(g||+1))%7;return this.addDays((h===0)?h+=7*(g||+1):h)};b.moveToMonth=function(h,f){var g=(h-this.getMonth()+12*(f||+1))%12;return this.addMonths((g===0)?g+=12*(f||+1):g)};b.getOrdinate=function(){var f=this.getDate();return a(f)};b.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};b.getTimezone=function(){return c.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())};b.setTimezoneOffset=function(h){var f=this.getTimezoneOffset(),g=Number(h)*-6/10;return(g||g===0)?this.addMinutes(g-f):this};b.setTimezone=function(f){return this.setTimezoneOffset(c.getTimezoneOffset(f))};b.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};b.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()};b.getUTCOffset=function(g){var h=(g||this.getTimezoneOffset())*-10/6,f;if(h<0){f=(h-10000).toString();return f.charAt(0)+f.substr(2)}else{f=(h+10000).toString();return"+"+f.substr(1)}};b.getElapsed=function(f){return(f||new Date())-this};var a=function(f){switch(f*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};b.toString=function(h,g){var f=this;if(!g&&h&&h.length===1){var j,i=Date.CultureInfo.formatPatterns;f.t=f.toString;switch(h){case"d":return f.t(i.shortDate);case"D":return f.t(i.longDate);case"F":return f.t(i.fullDateTime);case"m":return f.t(i.monthDay);case"r":case"R":j=f.clone().addMinutes(f.getTimezoneOffset());return j.toString(i.rfc1123)+" GMT";case"s":return f.t(i.sortableDateTime);case"t":return f.t(i.shortTime);case"T":return f.t(i.longTime);case"u":j=f.clone().addMinutes(f.getTimezoneOffset());return j.toString(i.universalSortableDateTime);case"y":return f.t(i.yearMonth)}}return h?h.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,function(k){if(k.charAt(0)==="\\"){return k.replace("\\","")}f.h=f.getHours;switch(k){case"hh":return d(f.h()<13?(f.h()===0?12:f.h()):(f.h()-12));case"h":return f.h()<13?(f.h()===0?12:f.h()):(f.h()-12);case"HH":return d(f.h());case"H":return f.h();case"mm":return d(f.getMinutes());case"m":return f.getMinutes();case"ss":return d(f.getSeconds());case"s":return f.getSeconds();case"yyyy":return d(f.getFullYear(),4);case"yy":return d(f.getFullYear());case"dddd":return Date.CultureInfo.dayNames[f.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[f.getDay()];case"dd":return d(f.getDate());case"d":return f.getDate();case"MMMM":return Date.CultureInfo.monthNames[f.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[f.getMonth()];case"MM":return d((f.getMonth()+1));case"M":return f.getMonth()+1;case"t":return f.h()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return f.h()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return a(f.getDate());case"W":return f.getWeek();case"WW":return f.getISOWeek();case"Q":return"Q"+f.getQuarter();case"q":return String(f.getQuarter());default:return k}}).replace(/\[|\]/g,""):this._toString()}}());(function(){Date.Parsing={Exception:function(c){this.message="Parse error at '"+c.substring(0,10)+" ...'"}};var a=Date.Parsing;var b={standard:[0,31,59,90,120,151,181,212,243,273,304,334],leap:[0,31,60,91,121,152,182,213,244,274,305,335]};a.isLeapYear=function(c){return((c%4===0)&&(c%100!==0))||(c%400===0)};a.processTimeObject=function(h){var k,c,f,j,e;k=new Date();e=(a.isLeapYear(h.year))?b.leap:b.standard;h.hours=h.hours?h.hours:0;h.minutes=h.minutes?h.minutes:0;h.seconds=h.seconds?h.seconds:0;h.milliseconds=h.milliseconds?h.milliseconds:0;if(!h.year){h.year=k.getFullYear()}if(!h.month&&(h.week||h.dayOfYear)){if(!h.dayOfYear){h.weekDay=(!h.weekDay&&h.weekDay!==0)?1:h.weekDay;k=new Date(h.year,0,4);c=k.getDay()===0?7:k.getDay();j=c+3;h.dayOfYear=((h.week*7)+(h.weekDay===0?7:h.weekDay))-j}for(var g=0;g<=e.length;g++){if(h.dayOfYear<e[g]||g===e.length){h.day=h.day?h.day:(h.dayOfYear-e[g-1]);break}else{h.month=g}}}else{h.month=h.month?h.month:0;h.day=h.day?h.day:1;h.dayOfYear=e[h.month]+h.day}f=new Date(h.year,h.month,h.day,h.hours,h.minutes,h.seconds,h.milliseconds);if(h.zone){if(h.zone.toUpperCase()==="Z"||(h.zone_hours===0&&h.zone_minutes===0)){j=-f.getTimezoneOffset()}else{j=(h.zone_hours*60)+(h.zone_minutes?h.zone_minutes:0);if(h.zone_sign==="+"){j*=-1}j-=f.getTimezoneOffset()}f.setMinutes(f.getMinutes()+j)}return f};a.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(c){var d=c.match(this.regex);if(!d||!d.length){return null}var e={year:d[1]?Number(d[1]):d[1],month:d[5]?(Number(d[5])-1):d[5],day:d[7]?Number(d[7]):d[7],week:d[8]?Number(d[8]):d[8],weekDay:d[9]?(Math.abs(Number(d[9]))===7?0:Math.abs(Number(d[9]))):d[9],dayOfYear:d[10]?Number(d[10]):d[10],hours:d[15]?Number(d[15]):d[15],minutes:d[16]?Number(d[16].replace(":","")):d[16],seconds:d[19]?Math.floor(Number(d[19].replace(":","").replace(",","."))):d[19],milliseconds:d[20]?(Number(d[20].replace(",","."))*1000):d[20],zone:d[21],zone_sign:d[22],zone_hours:(d[23]&&typeof d[23]!=="undefined")?Number(d[23]):d[23],zone_minutes:(d[24]&&typeof d[23]!=="undefined")?Number(d[24]):d[24]};if(d[18]){d[18]=60*Number(d[18].replace(",","."));if(!e.minutes){e.minutes=d[18]}else{if(!e.seconds){e.seconds=d[18]}}}if(!e.year||(!e.year&&(!e.month&&!e.day)&&(!e.week&&!e.dayOfYear))){return null}return a.processTimeObject(e)}};a.Numeric={isNumeric:function(c){return !isNaN(parseFloat(c))&&isFinite(c)},regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(e){var f,d,g={},c=Date.CultureInfo.dateElementOrder.split("");if(!(this.isNumeric(e))||(e[0]==="+"&&e[0]==="-")){return null}if(e.length<5){g.year=e;return a.processTimeObject(g)}f=e.match(this.regex);if(!f||!f.length){return null}for(d=0;d<c.length;d++){switch(c[d]){case"d":g.day=f[d+1];break;case"m":g.month=(f[d+1]-1);break;case"y":g.year=f[d+1];break}}return a.processTimeObject(g)}};a.Normalizer={parse:function(f){var d=Date.CultureInfo;var c=Date.CultureInfo.regexPatterns;var g=Date.i18n.__;f=f.replace(c.jan.source,"January");f=f.replace(c.feb,"February");f=f.replace(c.mar,"March");f=f.replace(c.apr,"April");f=f.replace(c.may,"May");f=f.replace(c.jun,"June");f=f.replace(c.jul,"July");f=f.replace(c.aug,"August");f=f.replace(c.sep,"September");f=f.replace(c.oct,"October");f=f.replace(c.nov,"November");f=f.replace(c.dec,"December");f=f.replace(c.tomorrow,Date.today().addDays(1).toString("d"));f=f.replace(c.yesterday,Date.today().addDays(-1).toString("d"));f=f.replace(/\bat\b/gi,"");f=f.replace(/\s{2,}/," ");f=f.replace(new RegExp("(\\b\\d\\d?("+g("AM")+"|"+g("PM")+")? )("+c.tomorrow.source.slice(1)+")","i"),function(n,l,k,j,e){var m=Date.today().addDays(1).toString("d");var o=m+" "+l;return o});f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.mon.source+"))"),Date.today().last().monday().toString("d"));f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.tue.source+"))"),Date.today().last().tuesday().toString("d"));f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.wed.source+"))"),Date.today().last().wednesday().toString("d"));f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.thu.source+"))"),Date.today().last().thursday().toString("d"));f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.fri.source+"))"),Date.today().last().friday().toString("d"));f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.sat.source+"))"),Date.today().last().saturday().toString("d"));f=f.replace(new RegExp("(("+c.past.source+")\\s("+c.sun.source+"))"),Date.today().last().sunday().toString("d"));f=f.replace(c.amThisMorning,function(j,e){return e});f=f.replace(c.inTheMorning,"am");f=f.replace(c.thisMorning,"9am");f=f.replace(c.amThisEvening,function(j,e){return e});f=f.replace(c.inTheEvening,"pm");f=f.replace(c.thisEvening,"7pm");try{var i=f.split(/([\s\-\.\,\/\x27]+)/);if(i.length===3){if(a.Numeric.isNumeric(i[0])&&a.Numeric.isNumeric(i[2])){if(i[2].length>=4){if(Date.CultureInfo.dateElementOrder[0]==="d"){f="1/"+i[0]+"/"+i[2]}}}}}catch(h){}return f}}}());(function(){var a=Date.Parsing;var c=a.Operators={rtoken:function(i){return function(j){var k=j.match(i);if(k){return([k[0],j.substring(k[0].length)])}else{throw new a.Exception(j)}}},token:function(i){return function(j){return c.rtoken(new RegExp("^s*"+j+"s*"))(j)}},stoken:function(i){return c.rtoken(new RegExp("^"+i))},until:function(i){return function(j){var k=[],m=null;while(j.length){try{m=i.call(this,j)}catch(l){k.push(m[0]);j=m[1];continue}break}return[k,j]}},many:function(i){return function(j){var m=[],k=null;while(j.length){try{k=i.call(this,j)}catch(l){return[m,j]}m.push(k[0]);j=k[1]}return[m,j]}},optional:function(i){return function(j){var k=null;try{k=i.call(this,j)}catch(l){return[null,j]}return[k[0],k[1]]}},not:function(i){return function(j){try{i.call(this,j)}catch(k){return[null,j]}throw new a.Exception(j)}},ignore:function(i){return i?function(j){var k=null;k=i.call(this,j);return[null,k[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(k){var i={},j=null;return function(l){try{j=i[l]=(i[l]||k.call(this,l))}catch(m){j=i[l]=m}if(j instanceof a.Exception){throw j}else{return j}}},any:function(){var i=arguments;return function(k){var l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){l=null}if(l){return l}}throw new a.Exception(k)}},each:function(){var i=arguments;return function(k){var n=[],l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){throw new a.Exception(k)}n.push(l[0]);k=l[1]}return[n,k]}},all:function(){var j=arguments,i=i;return i.each(i.optional(j))},sequence:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;if(i.length==1){return i[0]}return function(o){var p=null,t=null;var v=[];for(var n=0;n<i.length;n++){try{p=i[n].call(this,o)}catch(u){break}v.push(p[0]);try{t=j.call(this,p[1])}catch(m){t=null;break}o=t[1]}if(!p){throw new a.Exception(o)}if(t){throw new a.Exception(t[1])}if(k){try{p=k.call(this,p[1])}catch(l){throw new a.Exception(p[1])}}return[v,(p?p[1]:o)]}},between:function(j,k,i){i=i||j;var l=c.each(c.ignore(j),k,c.ignore(i));return function(m){var n=l.call(this,m);return[[n[0][0],r[0][2]],n[1]]}},list:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return(i instanceof Array?c.each(c.product(i.slice(0,-1),c.ignore(j)),i.slice(-1),c.ignore(k)):c.each(c.many(c.each(i,c.ignore(j))),px,c.ignore(k)))},set:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return function(B){var l=null,n=null,m=null,o=null,t=[[],B],A=false;for(var v=0;v<i.length;v++){m=null;n=null;l=null;A=(i.length==1);try{l=i[v].call(this,B)}catch(y){continue}o=[[l[0]],l[1]];if(l[1].length>0&&!A){try{m=j.call(this,l[1])}catch(z){A=true}}else{A=true}if(!A&&m[1].length===0){A=true}if(!A){var w=[];for(var u=0;u<i.length;u++){if(v!=u){w.push(i[u])}}n=c.set(w,j).call(this,m[1]);if(n[0].length>0){o[0]=o[0].concat(n[0]);o[1]=n[1]}}if(o[1].length<t[1].length){t=o}if(t[1].length===0){break}}if(t[0].length===0){return t}if(k){try{m=k.call(this,t[1])}catch(x){throw new a.Exception(t[1])}t[1]=m[1]}return t}},forward:function(i,j){return function(k){return i[j].call(this,k)}},replace:function(j,i){return function(k){var l=j.call(this,k);return[i,l[1]]}},process:function(j,i){return function(k){var l=j.call(this,k);return[i.call(this,l[0]),l[1]]}},min:function(i,j){return function(k){var l=j.call(this,k);if(l[0].length<i){throw new a.Exception(k)}return l}}};var h=function(j){function i(){var k=null,n=[],m,l;if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){m=k.shift();if(m.length>0){k.unshift(m[l]);n.push(j.apply(null,k));k.shift();return n}}else{return j.apply(null,arguments)}}return i};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0])}else{return i.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=Date;var h=function(l){var m=[];for(var g=0;g<l.length;g++){if(l[g] instanceof Array){m=m.concat(h(l[g]))}else{if(l[g]){m.push(l[g])}}}return m};f.Grammar={};f.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},secondAndMillisecond:function(g){return function(){var l=g.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(l[1]);this.millisecond=Number(l[2])}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var l=g.replace(/[^\d\+\-]/g,"");if(l.length){this.timezoneOffset=Number(l)}else{this.timezone=g.toLowerCase()}}},day:function(g){var l=g[0];return function(){this.day=Number(l.match(/\d+/)[0]);if(this.day<1){throw"invalid day"}}},month:function(g){return function(){this.month=(g.length===3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1;if(this.month<0){throw"invalid month"}}},year:function(g){return function(){var l=Number(g);this.year=((g.length>2)?l:(l+(((l+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var m=0;m<g.length;m++){if(g[m]){g[m].call(this)}}var l=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=l.getDate()}if(!this.year){this.year=l.getFullYear()}if(!this.month&&this.month!==0){this.month=l.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(!this.millisecond){this.millisecond=0}if(this.meridian&&(this.hour||this.hour===0)){if(this.meridian=="a"&&this.hour>11&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}else{if(this.meridian=="p"&&this.hour<12&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}else{if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}}}if(this.day>f.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var n=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);if(this.year<100){n.setFullYear(this.year)}if(this.timezone){n.set({timezone:this.timezone})}else{if(this.timezoneOffset){n.set({timezoneOffset:this.timezoneOffset})}}return n},finish:function(t){t=(t instanceof Array)?h(t):[t];if(t.length===0){return null}for(var l=0;l<t.length;l++){if(typeof t[l]=="function"){t[l].call(this)}}var p=f.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){p=new Date()}}var o=!!(this.days&&this.days!==null||this.orient||this.operator);var s,q,g;g=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){p.setTimeToNow()}if(this.month&&this.unit=="week"){this.value=this.month+1;delete this.month;delete this.day}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){if(!this.value){this.value=this.month+1}this.month=null;o=true}}if(!o&&this.weekday&&!this.day&&!this.days){var u=Date[this.weekday]();this.day=u.getDate();if(!this.month){this.month=u.getMonth()}this.year=u.getFullYear()}if(o&&this.weekday&&this.unit!="month"&&this.unit!="week"){this.unit="day";s=(f.getDayNumberFromName(this.weekday)-p.getDay());q=7;this.days=s?((s+(g*q))%q):(g*q)}if(this.month&&this.unit=="day"&&this.operator){if(!this.value){this.value=(this.month+1)}this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){p.set({day:this.value*1});if(!o){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;o=true}if(o&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";s=(this.month-p.getMonth());q=12;this.months=s?((s+(g*q))%q):(g*q);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*g}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*g}}if(this.meridian&&(this.hour||this.hour===0)){if(this.meridian=="a"&&this.hour>11&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}else{if(this.meridian=="p"&&this.hour<12&&Date.Config.strict24hr){throw"Invalid hour and meridian combination"}else{if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}}}if(this.weekday&&this.unit!=="week"&&!this.day&&!this.days){var u=Date[this.weekday]();this.day=u.getDate();if(u.getMonth()!==p.getMonth()){this.month=u.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(this.unit=="week"&&this.weeks&&!this.day&&!this.month){var m=(this.weekday)?this.weekday:"today";var n=Date[m]().addWeeks(this.weeks);if(this.now){n.setTimeToNow()}return n}if(o&&this.timezone&&this.day&&this.days){this.day=this.days}return(o)?p.add(this):p.set(this)}};var i=f.Parsing.Operators,e=f.Grammar,k=f.Translator,c;e.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=i.stoken(":");e.whiteSpace=i.rtoken(/^\s*/);e.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};e.ctoken=function(o){var n=a[o];if(!n){var p=Date.CultureInfo.regexPatterns;var m=o.split(/\s+/),l=[];for(var g=0;g<m.length;g++){l.push(i.replace(i.rtoken(p[m[g]]),m[g]))}n=a[o]=i.any.apply(null,l)}return n};e.ctoken2=function(g){return i.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),k.hour));e.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),k.hour));e.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),k.hour));e.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),k.hour));e.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.minute));e.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.minute));e.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.second));e.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.second));e["ss.s"]=i.cache(i.process(i.rtoken(/^[0-5][0-9]\.[0-9]{1,3}/),k.secondAndMillisecond));e.hms=i.cache(i.sequence([e.H,e.m,e.s],e.timePartDelimiter));e.t=i.cache(i.process(e.ctoken2("shortMeridian"),k.meridian));e.tt=i.cache(i.process(e.ctoken2("longMeridian"),k.meridian));e.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));e.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));e.zzz=i.cache(i.process(e.ctoken2("timezone"),k.timezone));e.timeSuffix=i.each(i.ignore(e.whiteSpace),i.set([e.tt,e.zzz]));e.time=i.each(i.optional(i.ignore(i.stoken("T"))),e.hms,e.timeSuffix);e.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(e.ctoken2("ordinalSuffix"))),k.day));e.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(e.ctoken2("ordinalSuffix"))),k.day));e.ddd=e.dddd=i.cache(i.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),k.month));e.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),k.month));e.MMM=e.MMMM=i.cache(i.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),k.month));e.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),k.year));e.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),k.year));e.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),k.year));e.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),k.year));c=function(){return i.each(i.any.apply(null,arguments),i.not(e.ctoken2("timeContext")))};e.day=c(e.d,e.dd);e.month=c(e.M,e.MMM);e.year=c(e.yyyy,e.yy);e.orientation=i.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=i.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=i.process(e.ctoken("yesterday tomorrow today now"),k.rday);e.unit=i.process(e.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=i.process(i.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=i.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);c=function(){return i.set(arguments,e.datePartDelimiter)};e.mdy=c(e.ddd,e.month,e.day,e.year);e.ymd=c(e.ddd,e.year,e.month,e.day);e.dmy=c(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw f.Parsing.Exception(g)}}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(g){return i.ignore(i.stoken(g))}))),function(g){return i.process(i.each.apply(null,g),k.finishExact)});var j={};var d=function(g){j[g]=(j[g]||e.format(g)[0]);return j[g]};e.allformats=function(l){var m=[];if(l instanceof Array){for(var g=0;g<l.length;g++){m.push(d(l[g]))}}else{m.push(d(l))}return m};e.formats=function(l){if(l instanceof Array){var m=[];for(var g=0;g<l.length;g++){m.push(d(l[g]))}return i.any.apply(null,m)}else{return d(l)}};e._formats=e.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ss.sz","yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);e._start=i.process(i.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),k.finish);e.start=function(g){try{var l=e._formats.call({},g);if(l[1].length===0){return l}}catch(m){}return e._start.call({},g)};function b(l){var p,o,g,m=null;if(!l){return null}if(l instanceof Date){return l.clone()}if(l.length>=4&&l.charAt(0)!=="0"&&l.charAt(0)!=="+"&&l.charAt(0)!=="-"){o=f.Parsing.ISO.parse(l)||f.Parsing.Numeric.parse(l)}if(o instanceof Date&&!isNaN(o.getTime())){return o}else{p=l.match(/\b(\d+)(?:st|nd|rd|th)\b/);l=((p&&p.length===2)?l.replace(p[0],p[1]):l);l=f.Parsing.Normalizer.parse(l);try{m=f.Grammar.start.call({},l.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(n){return null}o=((m[1].length===0)?m[0]:null);if(o!==null){return o}else{try{g=Date._parse(l);return(g||g===0)?new Date(g):null}catch(n){return null}}}}if(!f._parse){f._parse=f.parse}f.parse=b;Date.getParseFunction=function(l){var g=Date.Grammar.allformats(l);return function(n){var o=null;for(var m=0;m<g.length;m++){try{o=g[m].call({},n)}catch(p){continue}if(o[1].length===0){return o[0]}}return null}};f.parseExact=function(g,l){return f.getParseFunction(l)(g)}}());(function(){var w=Date,h=w.prototype,p=Number.prototype;h._orient=+1;h._nth=null;h._is=false;h._same=false;h._isSecond=false;p._dateElement="days";h.next=function(){this._move=true;this._orient=+1;return this};w.next=function(){return w.today().next()};h.last=h.prev=h.previous=function(){this._move=true;this._orient=-1;return this};w.last=w.prev=w.previous=function(){return w.today().last()};h.is=function(){this._is=true;return this};h.same=function(){this._same=true;this._isSecond=false;return this};h.today=function(){return this.same().day()};h.weekday=function(){if(this._nth){return x("Weekday").call(this)}if(this._move){return this.addWeekdays(this._orient)}if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};h.weekend=function(){if(this._is){this._is=false;return(this.is().sat()||this.is().sun())}return false};h.at=function(i){return(typeof i==="string")?w.parse(this.toString("d")+" "+i):this.set(i)};p.fromNow=p.after=function(i){var j={};j[this._dateElement]=this;return((!i)?new Date():i.clone()).add(j)};p.ago=p.before=function(i){var k={},j=(this._dateElement[this._dateElement.length-1]!=="s")?this._dateElement+"s":this._dateElement;k[j]=this*-1;return((!i)?new Date():i.clone()).add(k)};var f=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),m=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year Quarter Weekday").split(/\s/),q=("Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter").split(/\s/),b=("final first second third fourth fifth").split(/\s/),y;h.toObject=function(){var k={};for(var j=0;j<n.length;j++){if(this["get"+q[j]]){k[n[j].toLowerCase()]=this["get"+q[j]]()}}return k};w.fromObject=function(i){i.week=null;return Date.today().set(i)};var x=function(i){return function(){if(this._is){this._is=false;return this.getDay()===i}if(this._move){this._move=null}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var k=this._nth;this._nth=null;var j=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(i,k);if(this>j){throw new RangeError(w.getDayName(i)+" does not occur "+k+" times in the month of "+w.getMonthName(j.getMonth())+" "+j.getFullYear()+".")}return this}return this.moveToDayOfWeek(i,this._orient)}};var g=function(i){return function(){var k=w.today(),j=i-k.getDay();if(i===0&&Date.CultureInfo.firstDayOfWeek===1&&k.getDay()!==0){j=j+7}return k.addDays(j)}};for(var v=0;v<f.length;v++){w[f[v].toUpperCase()]=w[f[v].toUpperCase().substring(0,3)]=v;w[f[v]]=w[f[v].substring(0,3)]=g(v);h[f[v]]=h[f[v].substring(0,3)]=x(v)}var c=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i}return this.moveToMonth(i,this._orient)}};var o=function(i){return function(){return w.today().set({month:i,day:1})}};for(var u=0;u<m.length;u++){w[m[u].toUpperCase()]=w[m[u].toUpperCase().substring(0,3)]=u;w[m[u]]=w[m[u].substring(0,3)]=o(u);h[m[u]]=h[m[u].substring(0,3)]=c(u)}var d=function(i){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var B=this.toObject(),A=(arguments[0]||new Date()).toObject(),z="",l=i.toLowerCase();l=(l[l.length-1]==="s")?l.substring(0,l.length-1):l;for(var j=(n.length-1);j>-1;j--){z=n[j].toLowerCase();if(B[z]!==A[z]){return false}if(l===z){break}}return true}if(i.substring(i.length-1)!=="s"){i+="s"}if(this._move){this._move=null}return this["add"+i](this._orient)}};var e=function(i){return function(){this._dateElement=i;return this}};for(var t=0;t<n.length;t++){y=n[t].toLowerCase();if(y!=="weekday"){h[y]=h[y+"s"]=d(n[t]);p[y]=p[y+"s"]=e(y+"s")}}h._ss=d("Second");var a=function(i){return function(j){if(this._same){return this._ss(arguments[0])}if(j||j===0){return this.moveToNthOccurrence(j,i)}this._nth=i;if(i===2&&(j===undefined||j===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var s=0;s<b.length;s++){h[b[s]]=(s===0)?a(-1):a(s)}}());(function(){var c=Date,b=c.prototype,a=[],d=function(f,e){if(!e){e=2}return("000"+f).slice(e*-1)};c.normalizeFormat=function(e){return e};c.strftime=function(f,e){return new Date(e*1000).$format(f)};c.strtotime=function(e){var f=c.parse(e);f.addMinutes(f.getTimezoneOffset()*-1);return Math.round(c.UTC(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())/1000)};b.$format=function(g){var e=this,h,f=function(i,j){a.push(i);return e.toString(i,j)};return g?g.replace(/(%|\\)?.|%%/g,function(i){if(i.charAt(0)==="\\"||i.substring(0,2)==="%%"){return i.replace("\\","").replace("%%","%")}switch(i){case"d":case"%d":return f("dd");case"D":case"%a":return f("ddd");case"j":case"%e":return f("d",true);case"l":case"%A":return f("dddd");case"N":case"%u":return e.getDay()+1;case"S":return f("S");case"w":case"%w":return e.getDay();case"z":return e.getOrdinalNumber();case"%j":return d(e.getOrdinalNumber(),3);case"%U":var l=e.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),k=e.clone().addDays(1).moveToDayOfWeek(0,-1);return(k<l)?"00":d((k.getOrdinalNumber()-l.getOrdinalNumber())/7+1);case"W":case"%V":return e.getISOWeek();case"%W":return d(e.getWeek());case"F":case"%B":return f("MMMM");case"m":case"%m":return f("MM");case"M":case"%b":case"%h":return f("MMM");case"n":return f("M");case"t":return c.getDaysInMonth(e.getFullYear(),e.getMonth());case"L":return(c.isLeapYear(e.getFullYear()))?1:0;case"o":case"%G":return e.setWeek(e.getISOWeek()).toString("yyyy");case"%g":return e.$format("%G").slice(-2);case"Y":case"%Y":return f("yyyy");case"y":case"%y":return f("yy");case"a":case"%p":return f("tt").toLowerCase();case"A":return f("tt").toUpperCase();case"g":case"%I":return f("h");case"G":return f("H");case"h":return f("hh");case"H":case"%H":return f("HH");case"i":case"%M":return f("mm");case"s":case"%S":return f("ss");case"u":return d(e.getMilliseconds(),3);case"I":return(e.isDaylightSavingTime())?1:0;case"O":return e.getUTCOffset();case"P":h=e.getUTCOffset();return h.substring(0,h.length-2)+":"+h.substring(h.length-2);case"e":case"T":case"%z":case"%Z":return e.getTimezone();case"Z":return e.getTimezoneOffset()*-60;case"B":var j=new Date();return Math.floor(((j.getHours()*3600)+(j.getMinutes()*60)+j.getSeconds()+(j.getTimezoneOffset()+60)*60)/86.4);case"c":return e.toISOString().replace(/\"/g,"");case"U":return c.strtotime("now");case"%c":return f("d")+" "+f("t");case"%C":return Math.floor(e.getFullYear()/100+1);case"%D":return f("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return f("hh:mm tt");case"%R":return f("H:mm");case"%T":return f("H:mm:ss");case"%x":return f("d");case"%X":return f("t");default:a.push(i);return i}}):this._toString()};if(!b.format){b.format=b.$format}}());var TimeSpan=function(m,h,e,j,d){var l="days hours minutes seconds milliseconds".split(/\s+/);var c=function(i){return function(){return this[i]}};var k=function(i){return function(n){this[i]=n;return this}};for(var g=0;g<l.length;g++){var b=l[g],a=b.slice(0,1).toUpperCase()+b.slice(1);TimeSpan.prototype[b]=0;TimeSpan.prototype["get"+a]=c(b);TimeSpan.prototype["set"+a]=k(b)}if(arguments.length===4){this.setDays(m);this.setHours(h);this.setMinutes(e);this.setSeconds(j)}else{if(arguments.length===5){this.setDays(m);this.setHours(h);this.setMinutes(e);this.setSeconds(j);this.setMilliseconds(d)}else{if(arguments.length===1&&typeof m==="number"){var f=(m<0)?-1:+1;this.setMilliseconds(Math.abs(m));this.setDays(Math.floor(this.getMilliseconds()/86400000)*f);this.setMilliseconds(this.getMilliseconds()%86400000);this.setHours(Math.floor(this.getMilliseconds()/3600000)*f);this.setMilliseconds(this.getMilliseconds()%3600000);this.setMinutes(Math.floor(this.getMilliseconds()/60000)*f);this.setMilliseconds(this.getMilliseconds()%60000);this.setSeconds(Math.floor(this.getMilliseconds()/1000)*f);this.setMilliseconds(this.getMilliseconds()%1000);this.setMilliseconds(this.getMilliseconds()*f)}}}this.getTotalMilliseconds=function(){return(this.getDays()*86400000)+(this.getHours()*3600000)+(this.getMinutes()*60000)+(this.getSeconds()*1000)};this.compareTo=function(o){var n=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),i;if(o===null){i=new Date(1970,1,1,0,0,0)}else{i=new Date(1970,1,1,o.getHours(),o.getMinutes(),o.getSeconds())}return(n<i)?-1:(n>i)?1:0};this.equals=function(i){return(this.compareTo(i)===0)};this.add=function(i){return(i===null)?this:this.addSeconds(i.getTotalMilliseconds()/1000)};this.subtract=function(i){return(i===null)?this:this.addSeconds(-i.getTotalMilliseconds()/1000)};this.addDays=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*86400000))};this.addHours=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*3600000))};this.addMinutes=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*60000))};this.addSeconds=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*1000))};this.addMilliseconds=function(i){return new TimeSpan(this.getTotalMilliseconds()+i)};this.get12HourHour=function(){return(this.getHours()>12)?this.getHours()-12:(this.getHours()===0)?12:this.getHours()};this.getDesignator=function(){return(this.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(n){this._toString=function(){if(this.getDays()!==null&&this.getDays()>0){return this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}else{return this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}};this.p=function(o){return(o.toString().length<2)?"0"+o:o};var i=this;return n?n.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(o){switch(o){case"d":return i.getDays();case"dd":return i.p(i.getDays());case"H":return i.getHours();case"HH":return i.p(i.getHours());case"h":return i.get12HourHour();case"hh":return i.p(i.get12HourHour());case"m":return i.getMinutes();case"mm":return i.p(i.getMinutes());case"s":return i.getSeconds();case"ss":return i.p(i.getSeconds());case"t":return((i.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return(i.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(n,f,e,q,o,k,g){var m="years months days hours minutes seconds milliseconds".split(/\s+/);var j=function(i){return function(){return this[i]}};var b=function(i){return function(v){this[i]=v;return this}};for(var p=0;p<m.length;p++){var d=m[p],c=d.slice(0,1).toUpperCase()+d.slice(1);TimePeriod.prototype[d]=0;TimePeriod.prototype["get"+c]=j(d);TimePeriod.prototype["set"+c]=b(d)}if(arguments.length===7){this.years=n;this.months=f;this.setDays(e);this.setHours(q);this.setMinutes(o);this.setSeconds(k);this.setMilliseconds(g)}else{if(arguments.length===2&&arguments[0] instanceof Date&&arguments[1] instanceof Date){var u=n.clone();var t=f.clone();var s=u.clone();var h=(u>t)?-1:+1;this.years=t.getFullYear()-u.getFullYear();s.addYears(this.years);if(h===+1){if(s>t){if(this.years!==0){this.years--}}}else{if(s<t){if(this.years!==0){this.years++}}}u.addYears(this.years);if(h===+1){while(u<t&&u.clone().addMonths(1)<=t){u.addMonths(1);this.months++}}else{while(u>t&&u.clone().addDays(-u.getDaysInMonth())>t){u.addMonths(-1);this.months--}}var l=t-u;if(l!==0){var a=new TimeSpan(l);this.setDays(a.getDays());this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds())}}}return this};